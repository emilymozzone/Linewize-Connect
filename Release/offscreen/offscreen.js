/*! For license information please see offscreen.js.LICENSE.txt */
(()=>{var __webpack_modules__={2376:e=>{var t;self,t=function(){return(()=>{var e={"./node_modules/ably/build/ably-commonjs.js":e=>{var t;window,t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=42)}([function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return o})),r.d(t,"__assign",(function(){return i})),r.d(t,"__rest",(function(){return s})),r.d(t,"__decorate",(function(){return a})),r.d(t,"__param",(function(){return c})),r.d(t,"__metadata",(function(){return u})),r.d(t,"__awaiter",(function(){return l})),r.d(t,"__generator",(function(){return p})),r.d(t,"__createBinding",(function(){return d})),r.d(t,"__exportStar",(function(){return g})),r.d(t,"__values",(function(){return f})),r.d(t,"__read",(function(){return h})),r.d(t,"__spread",(function(){return m})),r.d(t,"__spreadArrays",(function(){return y})),r.d(t,"__spreadArray",(function(){return _})),r.d(t,"__await",(function(){return v})),r.d(t,"__asyncGenerator",(function(){return S})),r.d(t,"__asyncDelegator",(function(){return E})),r.d(t,"__asyncValues",(function(){return b})),r.d(t,"__makeTemplateObject",(function(){return T})),r.d(t,"__importStar",(function(){return R})),r.d(t,"__importDefault",(function(){return w})),r.d(t,"__classPrivateFieldGet",(function(){return O})),r.d(t,"__classPrivateFieldSet",(function(){return C}));var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function a(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function p(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var d=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function g(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||d(t,e,r)}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function _(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function S(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof v?Promise.resolve(r.value.v).then(c,u):l(i[0][2],r)}catch(e){l(i[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function E(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}function T(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return A(t,e),t}function w(e){return e&&e.__esModule?e:{default:e}}function O(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function C(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.allToUpperCase=t.allToLowerCase=t.encodeBody=t.decodeBody=t.Format=t.promisify=t.trim=t.arrChooseN=t.randomHexString=t.randomString=t.cheapRandStr=t.dataSizeBytes=t.inspectBody=t.inspectError=t.isErrorInfoOrPartialErrorInfo=t.now=t.parseQueryString=t.toQueryString=t.arrPopRandomElement=t.defaultPostHeaders=t.defaultGetHeaders=t.allSame=t.arrEvery=t.arrFilter=t.arrMap=t.safeArrForEach=t.arrForEach=t.forInOwnNonNullProperties=t.valuesArray=t.keysArray=t.arrWithoutValue=t.arrDeleteValue=t.arrIn=t.arrIndexOf=t.arrSubtract=t.arrIntersectOb=t.arrIntersect=t.intersect=t.containsValue=t.inherits=t.prototypicalClone=t.shallowClone=t.isEmptyArg=t.isOnlyPropIn=t.isEmpty=t.isObject=t.ensureArray=t.isArray=t.copy=t.mixin=void 0,t.toBase64=t.matchDerivedChannel=t.shallowEquals=t.getGlobalObject=t.getRetryTime=t.getJitterCoefficient=t.getBackoffCoefficient=void 0;var n=r(0),o=n.__importDefault(r(3)),i=n.__importStar(r(8)),s=n.__importDefault(r(4)),a=r(11),c=r(31);function u(e){return Math.floor(Math.random()*e.length)}function l(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++){var o=t[n];if(!o)break;var i=Object.prototype.hasOwnProperty;for(var s in o)i&&!i.call(o,s)||(e[s]=o[s])}return e}function p(e){return null==e}function d(e,t){var r=function(){};r.prototype=e;var n=new r;return t&&l(n,t),n}function g(e,r){for(var n=[],o=0;o<e.length;o++){var i=e[o];-1!=(0,t.arrIndexOf)(r,i)&&n.push(i)}return n}function f(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n];o in t&&r.push(o)}return r}function h(e,r){var n=(0,t.arrIndexOf)(e,r),o=-1!=n;return o&&e.splice(n,1),o}t.mixin=l,t.copy=function(e){return l({},e)},t.isArray=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},t.ensureArray=function(e){return p(e)?[]:(0,t.isArray)(e)?e:[e]},t.isObject=function(e){return"[object Object]"==Object.prototype.toString.call(e)},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isOnlyPropIn=function(e,t){for(var r in e)if(r!==t)return!1;return!0},t.isEmptyArg=p,t.shallowClone=function(e){var t=new Object;for(var r in e)t[r]=e[r];return t},t.prototypicalClone=d,t.inherits=function(e,t){o.default.Config.inherits?o.default.Config.inherits(e,t):(e.super_=t,e.prototype=d(t.prototype,{constructor:e}))},t.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},t.intersect=function(e,r){return(0,t.isArray)(r)?g(e,r):f(e,r)},t.arrIntersect=g,t.arrIntersectOb=f,t.arrSubtract=function(e,r){for(var n=[],o=0;o<e.length;o++){var i=e[o];-1==(0,t.arrIndexOf)(r,i)&&n.push(i)}return n},t.arrIndexOf=Array.prototype.indexOf?function(e,t,r){return e.indexOf(t,r)}:function(e,t,r){r=r||0;for(var n=e.length;r<n;r++)if(e[r]===t)return r;return-1},t.arrIn=function(e,r){return-1!==(0,t.arrIndexOf)(e,r)},t.arrDeleteValue=h,t.arrWithoutValue=function(e,t){var r=e.slice();return h(r,t),r},t.keysArray=function(e,t){var r=[];for(var n in e)t&&!Object.prototype.hasOwnProperty.call(e,n)||r.push(n);return r},t.valuesArray=function(e,t){var r=[];for(var n in e)t&&!Object.prototype.hasOwnProperty.call(e,n)||r.push(e[n]);return r},t.forInOwnNonNullProperties=function(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r]&&t(r)},t.arrForEach=Array.prototype.forEach?function(e,t){e.forEach(t)}:function(e,t){for(var r=e.length,n=0;n<r;n++)t(e[n],n,e)},t.safeArrForEach=function(e,r){return(0,t.arrForEach)(e.slice(),r)},t.arrMap=Array.prototype.map?function(e,t){return e.map(t)}:function(e,t){for(var r=[],n=e.length,o=0;o<n;o++)r.push(t(e[o],o,e));return r},t.arrFilter=Array.prototype.filter?function(e,t){return e.filter(t)}:function(e,t){for(var r=[],n=e.length,o=0;o<n;o++)t(e[o])&&r.push(e[o]);return r},t.arrEvery=Array.prototype.every?function(e,t){return e.every(t)}:function(e,t){for(var r=e.length,n=0;n<r;n++)if(!t(e[n],n,e))return!1;return!0},t.allSame=function(e,r){if(0===e.length)return!0;var n=e[0][r];return(0,t.arrEvery)(e,(function(e){return e[r]===n}))};var m,y={json:"application/json",jsonp:"application/javascript",xml:"application/xml",html:"text/html",msgpack:"application/x-msgpack"};function _(e){return e.splice(u(e),1)[0]}function v(e){return Math.min((e+2)/3,2)}function S(){return 1-.2*Math.random()}t.defaultGetHeaders=function(e,t){return{accept:y[t||m.json],"X-Ably-Version":i.default.protocolVersion.toString(),"Ably-Agent":(0,i.getAgentString)(e)}},t.defaultPostHeaders=function(e,t){var r;return{accept:r=y[t||m.json],"content-type":r,"X-Ably-Version":i.default.protocolVersion.toString(),"Ably-Agent":(0,i.getAgentString)(e)}},t.arrPopRandomElement=_,t.toQueryString=function(e){var t=[];if(e)for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.length?"?"+t.join("&"):""},t.parseQueryString=function(e){for(var t,r=/([^?&=]+)=?([^&]*)/g,n={};t=r.exec(e);)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return n},t.now=Date.now||function(){return(new Date).getTime()},t.isErrorInfoOrPartialErrorInfo=function(e){return"object"==typeof e&&null!==e&&("ErrorInfo"==e.constructor.name||"PartialErrorInfo"==e.constructor.name)},t.inspectError=function(e){var t,r;return e instanceof Error||"ErrorInfo"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||"PartialErrorInfo"===(null===(r=null==e?void 0:e.constructor)||void 0===r?void 0:r.name)?e.toString():o.default.Config.inspect(e)},t.inspectBody=function(e){return o.default.BufferUtils.isBuffer(e)?e.toString():"string"==typeof e?e:o.default.Config.inspect(e)},t.dataSizeBytes=function(e){if(o.default.BufferUtils.isBuffer(e))return o.default.BufferUtils.byteLength(e);if("string"==typeof e)return o.default.Config.stringByteSize(e);throw new Error("Expected input of Utils.dataSizeBytes to be a buffer or string, but was: "+typeof e)},t.cheapRandStr=function(){return String(Math.random()).substr(2)},t.randomString=function(e){if(o.default.Config.getRandomValues&&"undefined"!=typeof Uint8Array){var t=new Uint8Array(e);return o.default.Config.getRandomValues(t),o.default.BufferUtils.base64Encode(t)}for(var r=o.default.BufferUtils.base64CharSet,n=Math.round(4*e/3),i="",s=0;s<n;s++)i+=r[u(r)];return i},t.randomHexString=function(e){if(o.default.Config.getRandomValues&&"undefined"!=typeof Uint8Array){var t=new Uint8Array(e);return o.default.Config.getRandomValues(t),o.default.BufferUtils.hexEncode(t)}for(var r=o.default.BufferUtils.hexCharSet,n=2*e,i="",s=0;s<n;s++)i+=r[u(r)];return i},t.arrChooseN=function(e,t){for(var r=Math.min(t,e.length),n=e.slice(),o=[],i=0;i<r;i++)o.push(_(n));return o},t.trim=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.promisify=function(e,t,r){return new Promise((function(o,i){e[t].apply(e,n.__spreadArray(n.__spreadArray([],r,!1),[function(e,t){e?i(e):o(t)}],!1))}))},function(e){e.msgpack="msgpack",e.json="json"}(m=t.Format||(t.Format={})),t.decodeBody=function(e,t){return"msgpack"==t?o.default.Config.msgpack.decode(e):JSON.parse(String(e))},t.encodeBody=function(e,t){return"msgpack"==t?o.default.Config.msgpack.encode(e,!0):JSON.stringify(e)},t.allToLowerCase=function(e){return e.map((function(e){return e&&e.toLowerCase()}))},t.allToUpperCase=function(e){return e.map((function(e){return e&&e.toUpperCase()}))},t.getBackoffCoefficient=v,t.getJitterCoefficient=S,t.getRetryTime=function(e,t){return e*v(t)*S()},t.getGlobalObject=function(){return e||("undefined"!=typeof window?window:self)},t.shallowEquals=function(e,t){return Object.keys(e).every((function(r){return e[r]===t[r]}))&&Object.keys(t).every((function(r){return t[r]===e[r]}))},t.matchDerivedChannel=function(e){var t=e.match(/^(\[([^?]*)(?:(.*))\])?(.+)$/);if(!t||!t.length||t.length<5)throw new s.default("regex match failed",400,40010);if(t[2])throw new s.default("cannot use a derived option with a ".concat(t[2]," channel"),400,40010);return{qualifierParam:t[3]||"",channelName:t[4]}},t.toBase64=function(e){return o.default.Config.createHmac?Buffer.from(e,"ascii").toString("base64"):(0,a.stringify)((0,c.parse)(e))}}).call(this,r(13))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0).__importDefault(r(3)),i=e||("undefined"!=typeof window?window:self);function s(e,t){return"".concat(e).padStart(t?3:2,"0")}function a(e){return o.default.Config.logTimestamps?function(t){var r=new Date;e(s(r.getHours())+":"+s(r.getMinutes())+":"+s(r.getSeconds())+"."+s(r.getMilliseconds(),1)+" "+t)}:e}!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Major=2]="Major",e[e.Minor=3]="Minor",e[e.Micro=4]="Micro"}(n||(n={}));var c=function(){function e(){e.logLevel=e.LOG_DEFAULT}return e.initLogHandlers=function(){var e=function(){var e,t,r,n;return"undefined"==typeof Window&&"undefined"==typeof WorkerGlobalScope||"function"==typeof(null===(t=null===(e=null==i?void 0:i.console)||void 0===e?void 0:e.log)||void 0===t?void 0:t.apply)?(r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,e)},n=console.warn?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,e)}:r):r=n=(null==i?void 0:i.console.log)?function(){Function.prototype.apply.call(console.log,console,arguments)}:function(){},[r,n].map(a)}(),t=e[0],r=e[1];this.logHandler=t,this.logErrorHandler=r},e.logLevel=n.Error,e.LOG_NONE=n.None,e.LOG_ERROR=n.Error,e.LOG_MAJOR=n.Major,e.LOG_MINOR=n.Minor,e.LOG_MICRO=n.Micro,e.LOG_DEFAULT=n.Error,e.LOG_DEBUG=n.Micro,e.logAction=function(t,r,o){e.shouldLog(t)&&(t===n.Error?e.logErrorHandler:e.logHandler)("Ably: "+r+": "+o)},e.deprecated=function(t,r){e.deprecatedWithMsg(t,"Please use '"+r+"' instead.")},e.deprecatedWithMsg=function(t,r){e.shouldLog(n.Error)&&e.logErrorHandler("Ably: Deprecation warning - '"+t+"' is deprecated and will be removed from a future version. "+r)},e.shouldLog=function(t){return t<=e.logLevel},e.setLog=function(t,r){void 0!==t&&(e.logLevel=t),void 0!==r&&(e.logHandler=e.logErrorHandler=r)},e}();t.default=c}).call(this,r(13))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartialErrorInfo=void 0;var n=r(0),o=n.__importDefault(r(3)),i=n.__importStar(r(1));function s(e){var t="["+e.constructor.name;return e.message&&(t+=": "+e.message),e.statusCode&&(t+="; statusCode="+e.statusCode),e.code&&(t+="; code="+e.code),e.cause&&(t+="; cause="+i.inspectError(e.cause)),!e.href||e.message&&e.message.indexOf("help.ably.io")>-1||(t+="; see "+e.href+" "),t+"]"}var a=function(e){function t(r,n,o,i){var s=e.call(this,r)||this;return void 0!==Object.setPrototypeOf&&Object.setPrototypeOf(s,t.prototype),s.code=n,s.statusCode=o,s.cause=i,s}return n.__extends(t,e),t.prototype.toString=function(){return s(this)},t.fromValues=function(e){var r=e,n=r.message,i=r.code,s=r.statusCode;if("string"!=typeof n||"number"!=typeof i||"number"!=typeof s)throw new Error("ErrorInfo.fromValues(): invalid values: "+o.default.Config.inspect(e));var a=Object.assign(new t(n,i,s),e);return a.code&&!a.href&&(a.href="https://help.ably.io/error/"+a.code),a},t}(Error);t.default=a;var c=function(e){function t(r,n,o,i){var s=e.call(this,r)||this;return void 0!==Object.setPrototypeOf&&Object.setPrototypeOf(s,t.prototype),s.code=n,s.statusCode=o,s.cause=i,s}return n.__extends(t,e),t.prototype.toString=function(){return s(this)},t}(Error);t.PartialErrorInfo=c},function(e,t,r){var n;e.exports=(n=r(6),function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init,r=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],o=0;o<r;o++)n[o>>>2]|=e[o]<<24-o%4*8;t.call(this,n,r)}else t.apply(this,arguments)};r.prototype=e}}(),n.lib.WordArray)},function(e,t,r){(function(t){var n;e.exports=(n=n||function(e,n){var o;if("undefined"!=typeof window&&window.crypto&&(o=window.crypto),!o&&"undefined"!=typeof window&&window.msCrypto&&(o=window.msCrypto),!o&&void 0!==t&&t.crypto&&(o=t.crypto),!o)try{o=r(44)}catch(e){}var i=function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},c=a.lib={},u=c.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=c.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var s=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=s<<24-(n+i)%4*8}else for(i=0;i<o;i+=4)t[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(i());return new l.init(t,e)}}),p=a.enc={},d=p.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},g=p.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},f=p.Utf8={stringify:function(e){try{return decodeURIComponent(escape(g.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return g.parse(unescape(encodeURIComponent(e)))}},h=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,o=n.words,i=n.sigBytes,s=this.blockSize,a=i/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*c,i);if(c){for(var p=0;p<c;p+=s)this._doProcessBlock(o,p);r=o.splice(0,c),n.sigBytes-=u}return new l.init(r,u)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(c.Hasher=h.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new m.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a}(Math),n)}).call(this,r(13))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(2)),s=n.__importDefault(r(3));function a(e,t,r){try{t.apply(e,r)}catch(e){i.default.logAction(i.default.LOG_ERROR,"EventEmitter.emit()","Unexpected listener exception: "+e+"; stack = "+(e&&e.stack))}}function c(e,t,r){for(var n,i,s,a=0;a<e.length;a++)if(n=e[a],r&&(n=n[r]),o.isArray(n)){for(;-1!==(i=o.arrIndexOf(n,t));)n.splice(i,1);r&&0===n.length&&delete e[a][r]}else if(o.isObject(n))for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&o.isArray(n[s])&&c([n],t,s)}var u=function(){function e(){this.any=[],this.events=Object.create(null),this.anyOnce=[],this.eventsOnce=Object.create(null)}return e.prototype.on=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(1===t.length){var n=t[0];if("function"!=typeof n)throw new Error("EventListener.on(): Invalid arguments: "+s.default.Config.inspect(t));this.any.push(n)}if(2===t.length){var i=t[0],a=t[1];if("function"!=typeof a)throw new Error("EventListener.on(): Invalid arguments: "+s.default.Config.inspect(t));if(o.isEmptyArg(i))this.any.push(a);else if(o.isArray(i))i.forEach((function(t){e.on(t,a)}));else{if("string"!=typeof i)throw new Error("EventListener.on(): Invalid arguments: "+s.default.Config.inspect(t));(this.events[i]||(this.events[i]=[])).push(a)}}},e.prototype.off=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(0==r.length||o.isEmptyArg(r[0])&&o.isEmptyArg(r[1]))return this.any=[],this.events=Object.create(null),this.anyOnce=[],void(this.eventsOnce=Object.create(null));var i=r[0],a=r[1],u=null,l=null;if(1!==r.length&&a){if("function"!=typeof a)throw new Error("EventEmitter.off(): invalid arguments:"+s.default.Config.inspect(r));l=(e=[i,a])[0],u=e[1]}else"function"==typeof i?u=i:l=i;if(u&&o.isEmptyArg(l))c([this.any,this.events,this.anyOnce,this.eventsOnce],u);else if(o.isArray(l))l.forEach((function(e){t.off(e,u)}));else{if("string"!=typeof l)throw new Error("EventEmitter.off(): invalid arguments:"+s.default.Config.inspect(r));u?c([this.events,this.eventsOnce],u,l):(delete this.events[l],delete this.eventsOnce[l])}},e.prototype.listeners=function(e){if(e){var t=this.events[e]||[];return this.eventsOnce[e]&&Array.prototype.push.apply(t,this.eventsOnce[e]),t.length?t:null}return this.any.length?this.any:null},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={event:e},i=[];this.anyOnce.length&&(Array.prototype.push.apply(i,this.anyOnce),this.anyOnce=[]),this.any.length&&Array.prototype.push.apply(i,this.any);var s=this.eventsOnce[e];s&&(Array.prototype.push.apply(i,s),delete this.eventsOnce[e]);var c=this.events[e];c&&Array.prototype.push.apply(i,c),o.arrForEach(i,(function(e){a(n,e,t)}))},e.prototype.once=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length;if((0===n||1===n&&"function"!=typeof t[0])&&s.default.Config.Promise){var i=t[0];return new s.default.Config.Promise((function(t){e.once(i,t)}))}var a=t[0],c=t[1];if(1===t.length&&"function"==typeof a)this.anyOnce.push(a);else if(o.isEmptyArg(a)){if("function"!=typeof c)throw new Error("EventEmitter.once(): Invalid arguments:"+s.default.Config.inspect(t));this.anyOnce.push(c)}else if(o.isArray(a)){var u=this,l=function(){var e=Array.prototype.slice.call(arguments);if(o.arrForEach(a,(function(e){u.off(e,l)})),"function"!=typeof c)throw new Error("EventEmitter.once(): Invalid arguments:"+s.default.Config.inspect(t));c.apply(this,e)};o.arrForEach(a,(function(e){u.on(e,l)}))}else{if("string"!=typeof a)throw new Error("EventEmitter.once(): Invalid arguments:"+s.default.Config.inspect(t));var p=this.eventsOnce[a]||(this.eventsOnce[a]=[]);if(c){if("function"!=typeof c)throw new Error("EventEmitter.once(): Invalid arguments:"+s.default.Config.inspect(t));p.push(c)}}},e.prototype.whenState=function(t,r,n){for(var o=this,i=[],c=3;c<arguments.length;c++)i[c-3]=arguments[c];var u={event:t};if("string"!=typeof t||"string"!=typeof r)throw"whenState requires a valid event String argument";if("function"!=typeof n&&s.default.Config.Promise)return new s.default.Config.Promise((function(n){e.prototype.whenState.apply(o,[t,r,n].concat(i))}));t===r?a(u,n,i):this.once(t,n)},e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaults=t.normaliseOptions=t.objectifyOptions=t.getAgentString=t.getHosts=t.getFallbackHosts=t.environmentFallbackHosts=t.getHttpScheme=t.getPort=t.getHost=void 0;var n=r(0),o=n.__importDefault(r(3)),i=n.__importStar(r(1)),s=n.__importDefault(r(2)),a=n.__importDefault(r(4)),c=r(43),u="ably-js/"+c.version,l={ENVIRONMENT:"",REST_HOST:"rest.ably.io",REALTIME_HOST:"realtime.ably.io",FALLBACK_HOSTS:["A.ably-realtime.com","B.ably-realtime.com","C.ably-realtime.com","D.ably-realtime.com","E.ably-realtime.com"],PORT:80,TLS_PORT:443,TIMEOUTS:{disconnectedRetryTimeout:15e3,suspendedRetryTimeout:3e4,httpRequestTimeout:15e3,channelRetryTimeout:15e3,fallbackRetryTimeout:6e5,connectionStateTtl:12e4,realtimeRequestTimeout:1e4,recvTimeout:9e4,preferenceConnectTimeout:6e3,parallelUpgradeDelay:6e3},httpMaxRetryCount:3,maxMessageSize:65536,version:c.version,protocolVersion:2,agent:u,getHost:p,getPort:d,getHttpScheme:g,environmentFallbackHosts:f,getFallbackHosts:h,getHosts:m,checkHost:y,objectifyOptions:_,normaliseOptions:v};function p(e,t,r){return r?t==e.restHost&&e.realtimeHost||t||e.realtimeHost:t||e.restHost}function d(e,t){return t||e.tls?e.tlsPort:e.port}function g(e){return e.tls?"https://":"http://"}function f(e){return[e+"-a-fallback.ably-realtime.com",e+"-b-fallback.ably-realtime.com",e+"-c-fallback.ably-realtime.com",e+"-d-fallback.ably-realtime.com",e+"-e-fallback.ably-realtime.com"]}function h(e){var t=e.fallbackHosts,r=void 0!==e.httpMaxRetryCount?e.httpMaxRetryCount:l.httpMaxRetryCount;return t?i.arrChooseN(t,r):[]}function m(e){return[e.restHost].concat(h(e))}function y(e){if("string"!=typeof e)throw new a.default("host must be a string; was a "+typeof e,4e4,400);if(!e.length)throw new a.default("host must not be zero-length",4e4,400)}function _(e){return"string"==typeof e?-1==e.indexOf(":")?{token:e}:{key:e}:e}function v(e){if(e.host&&(s.default.deprecated("host","restHost"),e.restHost=e.host),e.wsHost&&(s.default.deprecated("wsHost","realtimeHost"),e.realtimeHost=e.wsHost),e.queueEvents&&(s.default.deprecated("queueEvents","queueMessages"),e.queueMessages=e.queueEvents),e.fallbackHostsUseDefault){if(e.fallbackHosts){var t="fallbackHosts and fallbackHostsUseDefault cannot both be set";throw s.default.logAction(s.default.LOG_ERROR,"Defaults.normaliseOptions",t),new a.default(t,4e4,400)}if(e.port||e.tlsPort)throw t="fallbackHostsUseDefault cannot be set when port or tlsPort are set",s.default.logAction(s.default.LOG_ERROR,"Defaults.normaliseOptions",t),new a.default(t,4e4,400);e.environment?s.default.deprecatedWithMsg("fallbackHostsUseDefault","There is no longer a need to set this when the environment option is also set since the library will now generate the correct fallback hosts using the environment option."):s.default.deprecated("fallbackHostsUseDefault","fallbackHosts: Ably.Defaults.FALLBACK_HOSTS"),e.fallbackHosts=l.FALLBACK_HOSTS}!0===e.recover&&(s.default.deprecated("{recover: true}","{recover: function(lastConnectionDetails, cb) { cb(true); }}"),e.recover=function(e,t){t(!0)}),"function"==typeof e.recover&&!0===e.closeOnUnload&&(s.default.logAction(s.default.LOG_ERROR,"Defaults.normaliseOptions","closeOnUnload was true and a session recovery function was set - these are mutually exclusive, so unsetting the latter"),e.recover=void 0),"closeOnUnload"in e||(e.closeOnUnload=!e.recover),e.transports&&i.arrIn(e.transports,"xhr")&&(s.default.deprecated('transports: ["xhr"]','transports: ["xhr_streaming"]'),i.arrDeleteValue(e.transports,"xhr"),e.transports.push("xhr_streaming")),"queueMessages"in e||(e.queueMessages=!0);var r=e.environment&&String(e.environment).toLowerCase()||l.ENVIRONMENT,c=!r||"production"===r;e.fallbackHosts||e.restHost||e.realtimeHost||e.port||e.tlsPort||(e.fallbackHosts=c?l.FALLBACK_HOSTS:f(r));var u=e.restHost||(c?l.REST_HOST:r+"-"+l.REST_HOST),p=function(e,t,r){return e.realtimeHost?e.realtimeHost:e.restHost?(s.default.logAction(s.default.LOG_MINOR,"Defaults.normaliseOptions",'restHost is set to "'+e.restHost+'" but realtimeHost is not set, so setting realtimeHost to "'+e.restHost+'" too. If this is not what you want, please set realtimeHost explicitly.'),e.restHost):t?l.REALTIME_HOST:r+"-"+l.REALTIME_HOST}(e,c,r);i.arrForEach((e.fallbackHosts||[]).concat(u,p),y),e.port=e.port||l.PORT,e.tlsPort=e.tlsPort||l.TLS_PORT,"tls"in e||(e.tls=!0);var d=function(e){var t={};for(var r in l.TIMEOUTS)t[r]=e[r]||l.TIMEOUTS[r];return t}(e);e.useBinaryProtocol="useBinaryProtocol"in e?o.default.Config.supportsBinary&&e.useBinaryProtocol:o.default.Config.preferBinary,e.clientId&&((e.headers=e.headers||{})["X-Ably-ClientId"]=o.default.BufferUtils.base64Encode(o.default.BufferUtils.utf8Encode(e.clientId))),"idempotentRestPublishing"in e||(e.idempotentRestPublishing=!0),e.promises&&!o.default.Config.Promise&&(s.default.logAction(s.default.LOG_ERROR,"Defaults.normaliseOptions","{promises: true} was specified, but no Promise constructor found; disabling promises"),e.promises=!1);var g=null,h=e.connectivityCheckUrl;if(e.connectivityCheckUrl){var m=e.connectivityCheckUrl.split("?"),_=m[0],v=m[1];g=v?i.parseQueryString(v):{},-1===_.indexOf("://")&&(_="https://"+_),h=_}return n.__assign(n.__assign({},e),{useBinaryProtocol:"useBinaryProtocol"in e?o.default.Config.supportsBinary&&e.useBinaryProtocol:o.default.Config.preferBinary,realtimeHost:p,restHost:u,maxMessageSize:e.maxMessageSize||l.maxMessageSize,timeouts:d,connectivityCheckParams:g,connectivityCheckUrl:h})}t.getHost=p,t.getPort=d,t.getHttpScheme=g,t.environmentFallbackHosts=f,t.getFallbackHosts=h,t.getHosts=m,t.getAgentString=function(e){var t=l.agent;if(e.agents)for(var r in e.agents)t+=" "+r+"/"+e.agents[r];return t},t.objectifyOptions=_,t.normaliseOptions=v,t.default=l,t.getDefaults=function(e){return Object.assign(l,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(3)),i=n.__importDefault(r(2)),s=n.__importDefault(r(4)),a=n.__importStar(r(1));function c(e){var t=0;return e.name&&(t+=e.name.length),e.clientId&&(t+=e.clientId.length),e.extras&&(t+=JSON.stringify(e.extras).length),e.data&&(t+=a.dataSizeBytes(e.data)),t}var u=function(){function e(){}return e.prototype.toJSON=function(){var e=this.encoding,t=this.data;return t&&o.default.BufferUtils.isBuffer(t)&&(arguments.length>0?(e=e?e+"/base64":"base64",t=o.default.BufferUtils.base64Encode(t)):t=o.default.BufferUtils.toBuffer(t)),{name:this.name,id:this.id,clientId:this.clientId,connectionId:this.connectionId,connectionKey:this.connectionKey,extras:this.extras,encoding:e,data:t}},e.prototype.toString=function(){var e="[Message";return this.name&&(e+="; name="+this.name),this.id&&(e+="; id="+this.id),this.timestamp&&(e+="; timestamp="+this.timestamp),this.clientId&&(e+="; clientId="+this.clientId),this.connectionId&&(e+="; connectionId="+this.connectionId),this.encoding&&(e+="; encoding="+this.encoding),this.extras&&(e+="; extras ="+JSON.stringify(this.extras)),this.data&&("string"==typeof this.data?e+="; data="+this.data:o.default.BufferUtils.isBuffer(this.data)?e+="; data (buffer)="+o.default.BufferUtils.base64Encode(this.data):e+="; data (json)="+JSON.stringify(this.data)),this.extras&&(e+="; extras="+JSON.stringify(this.extras)),e+"]"},e.encrypt=function(e,t,r){var n=e.data,i=e.encoding,s=t.channelCipher;i=i?i+"/":"",o.default.BufferUtils.isBuffer(n)||(n=o.default.BufferUtils.utf8Encode(String(n)),i+="utf-8/"),s.encrypt(n,(function(t,n){t?r(t):(e.data=n,e.encoding=i+"cipher+"+s.algorithm,r(null,e))}))},e.encode=function(t,r,n){var i=t.data;if("string"!=typeof i&&!o.default.BufferUtils.isBuffer(i)&&null!=i){if(!a.isObject(i)&&!a.isArray(i))throw new s.default("Data type is unsupported",40013,400);t.data=JSON.stringify(i),t.encoding=t.encoding?t.encoding+"/json":"json"}null!=r&&r.cipher?e.encrypt(t,r,n):n(null,t)},e.encodeArray=function(t,r,n){for(var o=0,i=0;i<t.length;i++)e.encode(t[i],r,(function(e){e?n(e):++o==t.length&&n(null,t)}))},e.decode=function(e,t){var r=function(e){return e&&e.channelOptions?e:{channelOptions:e,plugins:{},baseEncodedPreviousPayload:void 0}}(t),n=e.data,i=e.encoding;if(i){var a=i.split("/"),c=void 0,u=a.length,l=e.data,p="";try{for(;(c=u)>0;){var d=a[--u].match(/([-\w]+)(\+([\w-]+))?/);if(!d)break;switch(p=d[1]){case"base64":l=o.default.BufferUtils.base64Decode(String(l)),c==a.length&&(n=l);continue;case"utf-8":l=o.default.BufferUtils.utf8Decode(l);continue;case"json":l=JSON.parse(l);continue;case"cipher":if(null!=r.channelOptions&&r.channelOptions.cipher&&r.channelOptions.channelCipher){var g=d[3],f=r.channelOptions.channelCipher;if(g!=f.algorithm)throw new Error("Unable to decrypt message with given cipher; incompatible cipher params");l=f.decrypt(l);continue}throw new Error("Unable to decrypt message; not an encrypted channel");case"vcdiff":if(!r.plugins||!r.plugins.vcdiff)throw new s.default("Missing Vcdiff decoder (https://github.com/ably-forks/vcdiff-decoder)",40019,400);if("undefined"==typeof Uint8Array)throw new s.default("Delta decoding not supported on this browser (need ArrayBuffer & Uint8Array)",40020,400);try{var h=r.baseEncodedPreviousPayload;"string"==typeof h&&(h=o.default.BufferUtils.utf8Encode(h)),h=o.default.BufferUtils.toBuffer(h),l=o.default.BufferUtils.toBuffer(l),n=l=o.default.BufferUtils.typedArrayToBuffer(r.plugins.vcdiff.decode(l,h))}catch(e){throw new s.default("Vcdiff delta decode failed with "+e,40018,400)}continue;default:throw new Error("Unknown encoding")}}}catch(e){var m=e;throw new s.default("Error processing the "+p+" encoding, decoder returned ‘"+m.message+"’",m.code||40013,400)}finally{e.encoding=c<=0?null:a.slice(0,c).join("/"),e.data=l}}r.baseEncodedPreviousPayload=n},e.fromResponseBody=function(t,r,n){n&&(t=a.decodeBody(t,n));for(var o=0;o<t.length;o++){var s=t[o]=e.fromValues(t[o]);try{e.decode(s,r)}catch(e){i.default.logAction(i.default.LOG_ERROR,"Message.fromResponseBody()",e.toString())}}return t},e.fromValues=function(t){return Object.assign(new e,t)},e.fromValuesArray=function(t){for(var r=t.length,n=new Array(r),o=0;o<r;o++)n[o]=e.fromValues(t[o]);return n},e.fromEncoded=function(t,r){var n=e.fromValues(t),s=function(e){if(e&&e.cipher){if(!o.default.Crypto)throw new Error("Encryption not enabled; use ably.encryption.js instead");var t=o.default.Crypto.getCipher(e.cipher);return{cipher:t.cipherParams,channelCipher:t.cipher}}return null!=e?e:{}}(null!=r?r:null);try{e.decode(n,s)}catch(e){i.default.logAction(i.default.LOG_ERROR,"Message.fromEncoded()",e.toString())}return n},e.fromEncodedArray=function(t,r){return t.map((function(t){return e.fromEncoded(t,r)}))},e.getMessagesSize=function(e){for(var t,r=0,n=0;n<e.length;n++)r+=(t=e[n]).size||(t.size=c(t));return r},e.serialize=a.encodeBody,e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(4)),s=n.__importDefault(r(9)),a=n.__importDefault(r(14)),c={HEARTBEAT:0,ACK:1,NACK:2,CONNECT:3,CONNECTED:4,DISCONNECT:5,DISCONNECTED:6,CLOSE:7,CLOSED:8,ERROR:9,ATTACH:10,ATTACHED:11,DETACH:12,DETACHED:13,PRESENCE:14,MESSAGE:15,SYNC:16,AUTH:17,ACTIVATE:18},u=[];Object.keys(c).forEach((function(e){u[c[e]]=e}));var l={HAS_PRESENCE:1,HAS_BACKLOG:2,RESUMED:4,TRANSIENT:16,ATTACH_RESUME:32,PRESENCE:65536,PUBLISH:1<<17,SUBSCRIBE:1<<18,PRESENCE_SUBSCRIBE:1<<19},p=Object.keys(l);function d(e){var t=[];if(e)for(var r=0;r<e.length;r++)t.push(e[r].toString());return"[ "+t.join(", ")+" ]"}l.MODE_ALL=l.PRESENCE|l.PUBLISH|l.SUBSCRIBE|l.PRESENCE_SUBSCRIBE;var g="id channel channelSerial connectionId count msgSerial timestamp".split(" "),f=function(){function e(){var e=this;this.hasFlag=function(t){return(e.flags&l[t])>0}}return e.prototype.setFlag=function(e){return this.flags=this.flags|l[e]},e.prototype.getMode=function(){return this.flags&&this.flags&l.MODE_ALL},e.prototype.encodeModesToFlags=function(e){var t=this;e.forEach((function(e){return t.setFlag(e)}))},e.prototype.decodeModesFromFlags=function(){var t=this,r=[];return e.channelModes.forEach((function(e){t.hasFlag(e)&&r.push(e)})),r.length>0?r:void 0},e.fromValues=function(t){return Object.assign(new e,t)},e.Action=c,e.channelModes=["PRESENCE","PUBLISH","SUBSCRIBE","PRESENCE_SUBSCRIBE"],e.ActionName=u,e.serialize=o.encodeBody,e.deserialize=function(t,r){var n=o.decodeBody(t,r);return e.fromDeserialized(n)},e.fromDeserialized=function(t){var r=t.error;r&&(t.error=i.default.fromValues(r));var n=t.messages;if(n)for(var o=0;o<n.length;o++)n[o]=s.default.fromValues(n[o]);var c=t.presence;if(c)for(o=0;o<c.length;o++)c[o]=a.default.fromValues(c[o],!0);return Object.assign(new e,t)},e.stringify=function(t){var r,n="[ProtocolMessage";void 0!==t.action&&(n+="; action="+e.ActionName[t.action]||0);for(var c=0;c<g.length;c++)r=g[c],void 0!==t[r]&&(n+="; "+r+"="+t[r]);if(t.messages&&(n+="; messages="+d(s.default.fromValuesArray(t.messages))),t.presence&&(n+="; presence="+d(a.default.fromValuesArray(t.presence))),t.error&&(n+="; error="+i.default.fromValues(t.error).toString()),t.auth&&t.auth.accessToken&&(n+="; token="+t.auth.accessToken),t.flags&&(n+="; flags="+p.filter(t.hasFlag).join(",")),t.params){var u="";o.forInOwnNonNullProperties(t.params,(function(e){u.length>0&&(u+="; "),u+=e+"="+t.params[e]})),u.length>0&&(n+="; params=["+u+"]")}return n+"]"},e}();t.default=f},function(e,t,r){var n,o,i;e.exports=(n=r(6),i=(o=n).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.clamp();for(var o=[],i=0;i<r;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<r;a++)o.push(n.charAt(s>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<65;o++)n[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,r){for(var n=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;n[o>>>2]|=a<<24-o%4*8,o++}return i.create(n,o)}(e,t,n)}},n.enc.Base64)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(10)),s=n.__importDefault(r(26)),a=n.__importDefault(r(2)),c=n.__importDefault(r(8)),u=n.__importDefault(r(19)),l=n.__importDefault(r(16)),p=n.__importDefault(r(4)),d=n.__importDefault(r(20)),g=n.__importDefault(r(3));function f(e){return function(e){return!!e.code&&!l.default.isTokenErr(e)&&(!!o.arrIn([80015,80017,80030],e.code)||e.code>=4e4&&e.code<5e4)}(e)?[i.default.fromValues({action:i.default.Action.ERROR,error:e})]:[i.default.fromValues({action:i.default.Action.DISCONNECTED,error:e})]}var h=function(e){function t(t,r,n){var o=e.call(this,t,r,n,!0)||this;return o.onAuthUpdated=function(e){o.authParams={access_token:e.token}},o.stream=!("stream"in n)||n.stream,o.sendRequest=null,o.recvRequest=null,o.pendingCallback=null,o.pendingItems=null,o}return n.__extends(t,e),t.prototype.connect=function(){var e=this;a.default.logAction(a.default.LOG_MINOR,"CometTransport.connect()","starting"),s.default.prototype.connect.call(this);var t=this.params,r=t.options,n=c.default.getHost(r,t.host),i=c.default.getPort(r),u=r.tls?"https://":"http://";this.baseUri=u+n+":"+i+"/comet/";var l=this.baseUri+"connect";a.default.logAction(a.default.LOG_MINOR,"CometTransport.connect()","uri: "+l),this.auth.getAuthParams((function(t,r){if(t)e.disconnect(t);else if(!e.isDisposed){e.authParams=r;var n=e.params.getConnectParams(r);"stream"in n&&(e.stream=n.stream),a.default.logAction(a.default.LOG_MINOR,"CometTransport.connect()","connectParams:"+o.toQueryString(n));var i=!1,s=e.recvRequest=e.createRequest(l,null,n,null,e.stream?d.default.REQ_RECV_STREAM:d.default.REQ_RECV);s.on("data",(function(t){e.recvRequest&&(i||(i=!0,e.emit("preconnect")),e.onData(t))})),s.on("complete",(function(t){e.recvRequest||(t=t||new p.default("Request cancelled",80003,400)),e.recvRequest=null,i||t||(i=!0,e.emit("preconnect")),e.onActivity(),t?t.code?e.onData(f(t)):e.disconnect(t):g.default.Config.nextTick((function(){e.recv()}))})),s.exec()}}))},t.prototype.requestClose=function(){a.default.logAction(a.default.LOG_MINOR,"CometTransport.requestClose()"),this._requestCloseOrDisconnect(!0)},t.prototype.requestDisconnect=function(){a.default.logAction(a.default.LOG_MINOR,"CometTransport.requestDisconnect()"),this._requestCloseOrDisconnect(!1)},t.prototype._requestCloseOrDisconnect=function(e){var t=this,r=e?this.closeUri:this.disconnectUri;if(r){var n=this.createRequest(r,null,this.authParams,null,d.default.REQ_SEND);n.on("complete",(function(r){r&&(a.default.logAction(a.default.LOG_ERROR,"CometTransport.request"+(e?"Close()":"Disconnect()"),"request returned err = "+o.inspectError(r)),t.finish("disconnected",r))})),n.exec()}},t.prototype.dispose=function(){var e=this;a.default.logAction(a.default.LOG_MINOR,"CometTransport.dispose()",""),this.isDisposed||(this.isDisposed=!0,this.recvRequest&&(a.default.logAction(a.default.LOG_MINOR,"CometTransport.dispose()","aborting recv request"),this.recvRequest.abort(),this.recvRequest=null),this.finish("disconnected",u.default.disconnected()),g.default.Config.nextTick((function(){e.emit("disposed")})))},t.prototype.onConnect=function(e){var t;if(!this.isDisposed){var r=null===(t=e.connectionDetails)||void 0===t?void 0:t.connectionKey;s.default.prototype.onConnect.call(this,e);var n=this.baseUri+r;a.default.logAction(a.default.LOG_MICRO,"CometTransport.onConnect()","baseUri = "+n),this.sendUri=n+"/send",this.recvUri=n+"/recv",this.closeUri=n+"/close",this.disconnectUri=n+"/disconnect"}},t.prototype.send=function(e){if(this.sendRequest)return this.pendingItems=this.pendingItems||[],void this.pendingItems.push(e);var t=this.pendingItems||[];t.push(e),this.pendingItems=null,this.sendItems(t)},t.prototype.sendAnyPending=function(){var e=this.pendingItems;e&&(this.pendingItems=null,this.sendItems(e))},t.prototype.sendItems=function(e){var t=this,r=this.sendRequest=this.createRequest(this.sendUri,null,this.authParams,this.encodeRequest(e),d.default.REQ_SEND);r.on("complete",(function(e,r){e&&a.default.logAction(a.default.LOG_ERROR,"CometTransport.sendItems()","on complete: err = "+o.inspectError(e)),t.sendRequest=null,e?e.code?t.onData(f(e)):t.disconnect(e):(r&&t.onData(r),t.pendingItems&&g.default.Config.nextTick((function(){t.sendRequest||t.sendAnyPending()})))})),r.exec()},t.prototype.recv=function(){var e=this;if(!this.recvRequest&&this.isConnected){var t=this.recvRequest=this.createRequest(this.recvUri,null,this.authParams,null,this.stream?d.default.REQ_RECV_STREAM:d.default.REQ_RECV_POLL);t.on("data",(function(t){e.onData(t)})),t.on("complete",(function(t){e.recvRequest=null,e.onActivity(),t?t.code?e.onData(f(t)):e.disconnect(t):g.default.Config.nextTick((function(){e.recv()}))})),t.exec()}},t.prototype.onData=function(e){try{var t=this.decodeResponse(e);if(t&&t.length)for(var r=0;r<t.length;r++)this.onProtocolMessage(i.default.fromDeserialized(t[r]))}catch(e){a.default.logAction(a.default.LOG_ERROR,"CometTransport.onData()","Unexpected exception handing channel event: "+e.stack)}},t.prototype.encodeRequest=function(e){return JSON.stringify(e)},t.prototype.decodeResponse=function(e){return"string"==typeof e?JSON.parse(e):e},t}(s.default);t.default=h},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(2)),i=n.__importDefault(r(3)),s=n.__importDefault(r(9)),a=n.__importStar(r(1));function c(e){return u.Actions.indexOf(e)}var u=function(){function e(){}return e.prototype.isSynthesized=function(){return!this.id||!this.connectionId||this.id.substring(this.connectionId.length,0)!==this.connectionId},e.prototype.parseId=function(){if(!this.id)throw new Error("parseId(): Presence message does not contain an id");var e=this.id.split(":");return{connectionId:e[0],msgSerial:parseInt(e[1],10),index:parseInt(e[2],10)}},e.prototype.toJSON=function(){var e=this.data,t=this.encoding;return e&&i.default.BufferUtils.isBuffer(e)&&(arguments.length>0?(t=t?t+"/base64":"base64",e=i.default.BufferUtils.base64Encode(e)):e=i.default.BufferUtils.toBuffer(e)),{id:this.id,clientId:this.clientId,action:c(this.action),data:e,encoding:t}},e.prototype.toString=function(){var e="[PresenceMessage";return e+="; action="+this.action,this.id&&(e+="; id="+this.id),this.timestamp&&(e+="; timestamp="+this.timestamp),this.clientId&&(e+="; clientId="+this.clientId),this.connectionId&&(e+="; connectionId="+this.connectionId),this.encoding&&(e+="; encoding="+this.encoding),this.data&&("string"==typeof this.data?e+="; data="+this.data:i.default.BufferUtils.isBuffer(this.data)?e+="; data (buffer)="+i.default.BufferUtils.base64Encode(this.data):e+="; data (json)="+JSON.stringify(this.data)),e+"]"},e.fromResponseBody=function(t,r,n){var i=[];n&&(t=a.decodeBody(t,n));for(var s=0;s<t.length;s++){var c=i[s]=e.fromValues(t[s],!0);try{e.decode(c,r)}catch(e){o.default.logAction(o.default.LOG_ERROR,"PresenceMessage.fromResponseBody()",e.toString())}}return i},e.fromValues=function(t,r){return r&&(t.action=e.Actions[t.action]),Object.assign(new e,t)},e.fromValuesArray=function(t){for(var r=t.length,n=new Array(r),o=0;o<r;o++)n[o]=e.fromValues(t[o]);return n},e.fromEncoded=function(t,r){var n=e.fromValues(t,!0);try{e.decode(n,null!=r?r:{})}catch(e){o.default.logAction(o.default.LOG_ERROR,"PresenceMessage.fromEncoded()",e.toString())}return n},e.fromEncodedArray=function(t,r){return t.map((function(t){return e.fromEncoded(t,r)}))},e.Actions=["absent","present","enter","leave","update"],e.encode=s.default.encode,e.decode=s.default.decode,e.getMessagesSize=s.default.getMessagesSize,e}();t.default=u},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(7)),s=n.__importStar(r(4)),a=n.__importDefault(r(2)),c=n.__importDefault(r(8)),u=n.__importDefault(r(20)),l=n.__importDefault(r(3));var p=function(){},d=0,g={},f=void 0!==e&&e.XDomainRequest;var h=function(e){function t(t,r,n,i,s,a,c){var u,l,p=e.call(this)||this;return(n=n||{}).rnd=o.cheapRandStr(),f&&(u=(l=navigator.userAgent.toString().match(/MSIE\s([\d.]+)/))&&Number(l[1]))&&10===u&&!n.envelope&&(n.envelope="json"),p.uri=t+o.toQueryString(n),p.headers=r||{},p.body=i,p.method=c?c.toUpperCase():o.isEmptyArg(i)?"GET":"POST",p.requestMode=s,p.timeouts=a,p.timedOut=!1,p.requestComplete=!1,p.id=String(++d),g[p.id]=p,p}return n.__extends(t,e),t.createRequest=function(e,r,n,i,s,a,u){var l=a||c.default.TIMEOUTS;return new t(e,r,o.copy(n),i,s,l,u)},t.prototype.complete=function(e,t,r,n,o){this.requestComplete||(this.requestComplete=!0,!e&&t&&this.emit("data",t),this.emit("complete",e,t,r,n,o),this.dispose())},t.prototype.abort=function(){this.dispose()},t.prototype.exec=function(){var e=this,t=this.headers,r=this.requestMode==u.default.REQ_SEND?this.timeouts.httpRequestTimeout:this.timeouts.recvTimeout,n=this.timer=setTimeout((function(){e.timedOut=!0,c.abort()}),r),i=this.method,c=this.xhr=new XMLHttpRequest,p=t.accept,d=this.body,g="text";for(var f in p?0===p.indexOf("application/x-msgpack")&&(g="arraybuffer"):t.accept="application/json",d&&(t["content-type"]||(t["content-type"]="application/json")).indexOf("application/json")>-1&&"string"!=typeof d&&(d=JSON.stringify(d)),c.open(i,this.uri,!0),c.responseType=g,"authorization"in t&&(c.withCredentials=!0),t)c.setRequestHeader(f,t[f]);var h,m,y,_=function(t,r,n,o){var i,c=r+" (event type: "+t.type+")";(null===(i=null==e?void 0:e.xhr)||void 0===i?void 0:i.statusText)&&(c+=", current statusText is "+e.xhr.statusText),a.default.logAction(a.default.LOG_ERROR,"Request.on"+t.type+"()",c),e.complete(new s.PartialErrorInfo(c,n,o))};c.onerror=function(e){_(e,"XHR error occurred",null,400)},c.onabort=function(t){e.timedOut?_(t,"Request aborted due to request timeout expiring",null,408):_(t,"Request cancelled",null,400)},c.ontimeout=function(e){_(e,"Request timed out",null,408)};var v=0,S=!1,E=function(){var r;try{var n=function(e,t){return e.getResponseHeader&&e.getResponseHeader("content-type")}(c);if(n?n.indexOf("application/json")>=0:"text"==c.responseType){var i="arraybuffer"===c.responseType?l.default.BufferUtils.utf8Decode(c.response):String(c.responseText);r=i.length?JSON.parse(i):i,S=!0}else r=c.response;void 0!==r.response?(m=r.statusCode,y=m<400,t=r.headers,r=r.response):t=function(e){for(var t=o.trim(e.getAllResponseHeaders()).split("\r\n"),r={},n=0;n<t.length;n++){var i=t[n].split(":").map(o.trim);r[i[0].toLowerCase()]=i[1]}return r}(c)}catch(t){return void e.complete(new s.PartialErrorInfo("Malformed response body from server: "+t.message,null,400))}if(y||o.isArray(r))e.complete(null,r,t,S,m);else{var a=function(e,t){if(function(e,t){return o.arrIn(o.allToLowerCase(o.keysArray(t)),"x-ably-errorcode")}(0,t))return e.error&&s.default.fromValues(e.error)}(r,t);a||(a=new s.PartialErrorInfo("Error response received from server: "+m+" body was: "+l.default.Config.inspect(r),null,m)),e.complete(a,r,t,S,m)}};function b(){for(var e,t,r=c.responseText,n=r.length-1;v<n&&(e=r.indexOf("\n",v))>-1;)t=r.slice(v,e),v=e+1,T(t)}var T=function(t){try{t=JSON.parse(t)}catch(t){return void e.complete(new s.PartialErrorInfo("Malformed response body from server: "+t.message,null,400))}e.emit("data",t)};c.onreadystatechange=function(){var t=c.readyState;t<3||0!==c.status&&(void 0===m&&(1223===(m=c.status)&&(m=204),clearTimeout(n),y=m<400,204!=m?h=e.requestMode==u.default.REQ_RECV_STREAM&&y&&function(e){return e.getResponseHeader&&(e.getResponseHeader("transfer-encoding")||!e.getResponseHeader("content-length"))}(c):e.complete(null,null,null,null,m)),3==t&&h?b():4==t&&(h?(b(),e.streamComplete=!0,l.default.Config.nextTick((function(){e.complete()}))):E()))},c.send(d)},t.prototype.dispose=function(){var e=this.xhr;if(e){e.onreadystatechange=e.onerror=e.onabort=e.ontimeout=p,this.xhr=null;var t=this.timer;t&&(clearTimeout(t),this.timer=null),this.requestComplete||e.abort()}delete g[this.id]},t}(i.default);t.default=h}).call(this,r(13))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(2)),i=n.__importStar(r(1)),s=n.__importDefault(r(22)),a=n.__importDefault(r(4)),c=n.__importDefault(r(45)),u=r(11),l=n.__importDefault(r(17)),p=n.__importDefault(r(24)),d=n.__importDefault(r(3)),g=Math.pow(2,17);function f(){}function h(e){return i.isErrorInfoOrPartialErrorInfo(e)?(e.code||(403===e.statusCode?e.code=40300:(e.code=40170,e.statusCode=401)),e):new a.default(i.inspectError(e),e.code||40170,e.statusCode||401)}var m=function(e,t){if(d.default.Config.createHmac){var r=d.default.Config.createHmac("SHA256",t);return r.update(e),r.digest("base64")}return(0,u.stringify)((0,c.default)(e,t))};function y(e){if(!e)return"";"string"==typeof e&&(e=JSON.parse(e));var t=Object.create(null),r=i.keysArray(e,!0);if(!r)return"";r.sort();for(var n=0;n<r.length;n++)t[r[n]]=e[r[n]].sort();return JSON.stringify(t)}function _(e){if(e.authCallback)o.default.logAction(o.default.LOG_MINOR,"Auth()","using token auth with authCallback");else if(e.authUrl)o.default.logAction(o.default.LOG_MINOR,"Auth()","using token auth with authUrl");else if(e.key)o.default.logAction(o.default.LOG_MINOR,"Auth()","using token auth with client-side signing");else{if(!e.tokenDetails){var t="authOptions must include valid authentication parameters";throw o.default.logAction(o.default.LOG_ERROR,"Auth()",t),new Error(t)}o.default.logAction(o.default.LOG_MINOR,"Auth()","using token auth with supplied token only")}}var v=0,S=function(){function e(e,t){if(this.authOptions={},this.client=e,this.tokenParams=t.defaultTokenParams||{},this.currentTokenRequestId=null,this.waitingForTokenRequest=null,function(e){return e.useTokenAuth||!function(e){return"useTokenAuth"in e&&!e.useTokenAuth}(e)&&(e.authCallback||e.authUrl||e.token||e.tokenDetails)}(t)){if(t.key&&!m){var r="client-side token request signing not supported";throw o.default.logAction(o.default.LOG_ERROR,"Auth()",r),new Error(r)}(function(e){return!e.key&&!e.authCallback&&!e.authUrl})(t)&&o.default.logAction(o.default.LOG_ERROR,"Auth()","Warning: library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help"),this._saveTokenOptions(t.defaultTokenParams,t),_(this.authOptions)}else{if(!t.key)throw r="No authentication options provided; need one of: key, authUrl, or authCallback (or for testing only, token or tokenDetails)",o.default.logAction(o.default.LOG_ERROR,"Auth()",r),new a.default(r,40160,401);o.default.logAction(o.default.LOG_MINOR,"Auth()","anonymous, using basic auth"),this._saveBasicOptions(t)}}return e.prototype.authorize=function(e,t,r){var n,s=this;if("function"!=typeof e||r?"function"!=typeof t||r?n=t:(r=t,n=null):(r=e,n=e=null),!r&&this.client.options.promises)return i.promisify(this,"authorize",arguments);if(n&&n.key&&this.authOptions.key!==n.key)throw new a.default("Unable to update auth options with incompatible key",40102,401);n&&"force"in n&&(o.default.logAction(o.default.LOG_ERROR,"Auth.authorize","Deprecation warning: specifying {force: true} in authOptions is no longer necessary, authorize() now always gets a new token. Please remove this, as in version 1.0 and later, having a non-null authOptions will overwrite stored library authOptions, which may not be what you want"),i.isOnlyPropIn(n,"force")&&(n=null)),this._forceNewToken(e,n,(function(e,t){if(e)return s.client.connection&&e.statusCode===p.default.Forbidden&&s.client.connection.connectionManager.actOnErrorFromAuthorize(e),void(null==r||r(e));s.client.connection?s.client.connection.connectionManager.onAuthUpdated(t,r||f):null==r||r(null,t)}))},e.prototype.authorise=function(e,t,r){o.default.deprecated("Auth.authorise","Auth.authorize"),this.authorize(e,t,r)},e.prototype._forceNewToken=function(e,t,r){var n=this;this.tokenDetails=null,this._saveTokenOptions(e,t),_(this.authOptions),this._ensureValidAuthCredentials(!0,(function(e,t){delete n.tokenParams.timestamp,delete n.authOptions.queryTime,r(e,t)}))},e.prototype.requestToken=function(e,t,r){var n=this;if("function"!=typeof e||r?"function"!=typeof t||r||(r=t,t=null):(r=e,t=e=null),!r&&this.client.options.promises)return i.promisify(this,"requestToken",arguments);t=t||this.authOptions,e=e||i.copy(this.tokenParams);var s,c=r||f,u=this.client;if(t.authCallback)o.default.logAction(o.default.LOG_MINOR,"Auth.requestToken()","using token auth with authCallback"),s=t.authCallback;else if(t.authUrl)o.default.logAction(o.default.LOG_MINOR,"Auth.requestToken()","using token auth with authUrl"),s=function(e,r){var s,c=i.mixin({accept:"application/json, text/plain"},t.authHeaders),p=t.authMethod&&"post"===t.authMethod.toLowerCase(),f=t.authUrl.indexOf("?");f>-1&&(s=i.parseQueryString(t.authUrl.slice(f)),t.authUrl=t.authUrl.slice(0,f),p||(t.authParams=i.mixin(s,t.authParams)));var h=i.mixin({},t.authParams||{},e),m=function(e,t,n,s){var c;if(e?o.default.logAction(o.default.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Received Error: "+i.inspectError(e)):(c=n["content-type"],o.default.logAction(o.default.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Received; content-type: "+c+"; body: "+i.inspectBody(t))),e||s)return r(e,t);if(d.default.BufferUtils.isBuffer(t)&&(t=t.toString()),c){var u=c.indexOf("application/json")>-1,l=c.indexOf("text/plain")>-1||c.indexOf("application/jwt")>-1;if(u||l){if(u){if(t.length>g)return void r(new a.default("authUrl response exceeded max permitted length",40170,401));try{t=JSON.parse(t)}catch(e){return void r(new a.default("Unexpected error processing authURL response; err = "+e.message,40170,401))}}r(null,t,c)}else r(new a.default("authUrl responded with unacceptable content-type "+c+", should be either text/plain, application/jwt or application/json",40170,401))}else r(new a.default("authUrl response is missing a content-type header",40170,401))};if(o.default.logAction(o.default.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Requesting token from "+t.authUrl+"; Params: "+JSON.stringify(h)+"; method: "+(p?"POST":"GET")),p){var y=c||{};y["content-type"]="application/x-www-form-urlencoded";var _=i.toQueryString(h).slice(1);n.client.http.doUri(l.default.Post,u,t.authUrl,y,_,s,m)}else n.client.http.doUri(l.default.Get,u,t.authUrl,c||{},null,h,m)};else{if(!t.key)return o.default.logAction(o.default.LOG_ERROR,"Auth()","library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help"),void c(new a.default("Need a new token, but authOptions does not include any way to request one (no authUrl, authCallback, or key)",40171,403));o.default.logAction(o.default.LOG_MINOR,"Auth.requestToken()","using token auth with client-side signing"),s=function(e,r){n.createTokenRequest(e,t,r)}}"capability"in e&&(e.capability=y(e.capability));var p=!1,m=this.client.options.timeouts.realtimeRequestTimeout,_=setTimeout((function(){p=!0;var e="Token request callback timed out after "+m/1e3+" seconds";o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()",e),c(new a.default(e,40170,401))}),m);s(e,(function(e,r,s){if(!p){if(clearTimeout(_),e)return o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()","token request signing call returned error; err = "+i.inspectError(e)),void c(h(e));if("string"!=typeof r){if("object"!=typeof r){var d="Expected token request callback to call back with a token string or token request/details object, but got a "+typeof r;return o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()",d),void c(new a.default(d,40170,401))}var f=JSON.stringify(r).length;if(f>g&&!t.suppressMaxLengthCheck)c(new a.default("Token request/details object exceeded max permitted stringified size (was "+f+" bytes)",40170,401));else if("issued"in r)c(null,r);else{if(!("keyName"in r))return d="Expected token request callback to call back with a token string, token request object, or token details object",o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()",d),void c(new a.default(d,40170,401));var m,y,v,S;y=function(e,t,r,n){if(e)return o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()","token request API call returned error; err = "+i.inspectError(e)),void c(h(e));n||(t=JSON.parse(t)),o.default.logAction(o.default.LOG_MINOR,"Auth.getToken()","token received"),c(null,t)},v="/keys/"+(m=r).keyName+"/requestToken",S=i.defaultPostHeaders(n.client.options),t.requestHeaders&&i.mixin(S,t.requestHeaders),o.default.logAction(o.default.LOG_MICRO,"Auth.requestToken().requestToken","Sending POST to "+v+"; Token params: "+JSON.stringify(m)),n.client.http.do(l.default.Post,u,(function(e){return u.baseUri(e)+v}),S,JSON.stringify(m),null,y)}}else 0===r.length?c(new a.default("Token string is empty",40170,401)):r.length>g?c(new a.default("Token string exceeded max permitted length (was "+r.length+" bytes)",40170,401)):"undefined"===r||"null"===r?c(new a.default("Token string was literal null/undefined",40170,401)):"{"!==r[0]||s&&s.indexOf("application/jwt")>-1?c(null,{token:r}):c(new a.default("Token was double-encoded; make sure you're not JSON-encoding an already encoded token request or details",40170,401))}}))},e.prototype.createTokenRequest=function(e,t,r){if("function"!=typeof e||r?"function"!=typeof t||r||(r=t,t=null):(r=e,t=e=null),!r&&this.client.options.promises)return i.promisify(this,"createTokenRequest",arguments);t=t||this.authOptions,e=e||i.copy(this.tokenParams);var n=t.key;if(n){var s=n.split(":"),c=s[0],u=s[1];if(u)if(""!==e.clientId){"capability"in e&&(e.capability=y(e.capability));var l,p=i.mixin({keyName:c},e),d=e.clientId||"",g=e.ttl||"",f=e.capability||"";l=function(){var e=p.nonce||(p.nonce=("000000"+Math.floor(1e16*Math.random())).slice(-16)),t=p.timestamp,n=p.keyName+"\n"+g+"\n"+f+"\n"+d+"\n"+t+"\n"+e+"\n";p.mac=p.mac||m(n,u),o.default.logAction(o.default.LOG_MINOR,"Auth.getTokenRequest()","generated signed request"),r(null,p)},p.timestamp?l():this.getTimestamp(t&&t.queryTime,(function(e,t){e?r(e):(p.timestamp=t,l())}))}else r(new a.default("clientId can’t be an empty string",40012,400));else r(new a.default("Invalid key specified",40101,403))}else r(new a.default("No key specified",40101,403))},e.prototype.getAuthParams=function(e){"basic"==this.method?e(null,{key:this.key}):this._ensureValidAuthCredentials(!1,(function(t,r){if(t)e(t);else{if(!r)throw new Error("Auth.getAuthParams(): _ensureValidAuthCredentials returned no error or tokenDetails");e(null,{access_token:r.token})}}))},e.prototype.getAuthHeaders=function(e){"basic"==this.method?e(null,{authorization:"Basic "+this.basicKey}):this._ensureValidAuthCredentials(!1,(function(t,r){if(t)e(t);else{if(!r)throw new Error("Auth.getAuthParams(): _ensureValidAuthCredentials returned no error or tokenDetails");e(null,{authorization:"Bearer "+i.toBase64(r.token)})}}))},e.prototype.getTimestamp=function(e,t){this.isTimeOffsetSet()||!e&&!this.authOptions.queryTime?t(null,this.getTimestampUsingOffset()):this.client.time(t)},e.prototype.getTimestampUsingOffset=function(){return i.now()+(this.client.serverTimeOffset||0)},e.prototype.isTimeOffsetSet=function(){return null!==this.client.serverTimeOffset},e.prototype._saveBasicOptions=function(e){this.method="basic",this.key=e.key,this.basicKey=i.toBase64(e.key),this.authOptions=e||{},"clientId"in e&&this._userSetClientId(e.clientId)},e.prototype._saveTokenOptions=function(e,t){this.method="token",e&&(this.tokenParams=e),t&&(t.token&&(t.tokenDetails="string"==typeof t.token?{token:t.token}:t.token),t.tokenDetails&&(this.tokenDetails=t.tokenDetails),"clientId"in t&&this._userSetClientId(t.clientId),this.authOptions=t)},e.prototype._ensureValidAuthCredentials=function(e,t){var r=this,n=this.tokenDetails;if(n){if(this._tokenClientIdMismatch(n.clientId))return void t(new a.default("Mismatch between clientId in token ("+n.clientId+") and current clientId ("+this.clientId+")",40102,403));if(!this.isTimeOffsetSet()||!n.expires||n.expires>=this.getTimestampUsingOffset())return o.default.logAction(o.default.LOG_MINOR,"Auth.getToken()","using cached token; expires = "+n.expires),void t(null,n);o.default.logAction(o.default.LOG_MINOR,"Auth.getToken()","deleting expired token"),this.tokenDetails=null}if((this.waitingForTokenRequest||(this.waitingForTokenRequest=s.default.create())).push(t),null===this.currentTokenRequestId||e){var i=this.currentTokenRequestId=v++;this.requestToken(this.tokenParams,this.authOptions,(function(e,t){if(r.currentTokenRequestId>i)o.default.logAction(o.default.LOG_MINOR,"Auth._ensureValidAuthCredentials()","Discarding token request response; overtaken by newer one");else{r.currentTokenRequestId=null;var n=r.waitingForTokenRequest||f;r.waitingForTokenRequest=null,e?n(e):n(null,r.tokenDetails=t)}}))}},e.prototype._userSetClientId=function(e){if("string"!=typeof e&&null!==e)throw new a.default("clientId must be either a string or null",40012,400);if("*"===e)throw new a.default('Can’t use "*" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, instantiate the library with {defaultTokenParams: {clientId: "*"}}), or if calling authorize(), pass it in as a tokenParam: authorize({clientId: "*"}, authOptions)',40012,400);var t=this._uncheckedSetClientId(e);if(t)throw t},e.prototype._uncheckedSetClientId=function(e){if(this._tokenClientIdMismatch(e)){var t="Unexpected clientId mismatch: client has "+this.clientId+", requested "+e,r=new a.default(t,40102,401);return o.default.logAction(o.default.LOG_ERROR,"Auth._uncheckedSetClientId()",t),r}return this.clientId=this.tokenParams.clientId=e,null},e.prototype._tokenClientIdMismatch=function(e){return!(!this.clientId||"*"===this.clientId||!e||"*"===e||this.clientId===e)},e.isTokenErr=function(e){return e.code&&e.code>=40140&&e.code<40150},e}();t.default=S},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Get="get",e.Delete="delete",e.Post="post",e.Put="put",e.Patch="patch"}(n||(n={})),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpPaginatedResponse=t.PaginatedResult=void 0;var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(2)),s=n.__importDefault(r(25)),a=function(){function e(e,t,r,n,o,i){this.rest=e,this.path=t,this.headers=r,this.envelope=null!=n?n:null,this.bodyHandler=o,this.useHttpPaginatedResponse=i||!1}return e.prototype.get=function(e,t){var r=this;s.default.get(this.rest,this.path,this.headers,e,this.envelope,(function(e,n,o,i,s){r.handlePage(e,n,o,i,s,t)}))},e.prototype.delete=function(e,t){var r=this;s.default.delete(this.rest,this.path,this.headers,e,this.envelope,(function(e,n,o,i,s){r.handlePage(e,n,o,i,s,t)}))},e.prototype.post=function(e,t,r){var n=this;s.default.post(this.rest,this.path,t,this.headers,e,this.envelope,(function(e,t,o,i,s){r&&n.handlePage(e,t,o,i,s,r)}))},e.prototype.put=function(e,t,r){var n=this;s.default.put(this.rest,this.path,t,this.headers,e,this.envelope,(function(e,t,o,i,s){r&&n.handlePage(e,t,o,i,s,r)}))},e.prototype.patch=function(e,t,r){var n=this;s.default.patch(this.rest,this.path,t,this.headers,e,this.envelope,(function(e,t,o,i,s){r&&n.handlePage(e,t,o,i,s,r)}))},e.prototype.handlePage=function(e,t,r,n,s,a){if(e&&function(e,t,r){return!(r&&(t||"number"==typeof e.code))}(e,t,this.useHttpPaginatedResponse))return i.default.logAction(i.default.LOG_ERROR,"PaginatedResource.handlePage()","Unexpected error getting resource: err = "+o.inspectError(e)),void(null==a||a(e));var l,p,d;try{l=this.bodyHandler(t,r||{},n)}catch(t){return void(null==a||a(e||t))}r&&(p=r.Link||r.link)&&(d=function(e){"string"==typeof e&&(e=e.split(","));for(var t,r={},n=0;n<e.length;n++){var i=e[n].match(/^\s*<(.+)>;\s*rel="(\w+)"$/);if(i){var s=(void 0,(t=i[1].match(/^\.\/(\w+)\?(.*)$/))&&t[2]&&o.parseQueryString(t[2]));s&&(r[i[2]]=s)}}return r}(p)),this.useHttpPaginatedResponse?a(null,new u(this,l,r||{},s,d,e)):a(null,new c(this,l,d))},e}(),c=function(){function e(e,t,r){var n=this;this.resource=e,this.items=t;var i=this;r&&("first"in r&&(this.first=function(e){if(!e&&i.resource.rest.options.promises)return o.promisify(i,"first",[]);i.get(r.first,e)}),"current"in r&&(this.current=function(e){if(!e&&i.resource.rest.options.promises)return o.promisify(i,"current",[]);i.get(r.current,e)}),this.next=function(e){if(!e&&i.resource.rest.options.promises)return o.promisify(i,"next",[]);"next"in r?i.get(r.next,e):e(null)},this.hasNext=function(){return"next"in r},this.isLast=function(){var e;return!(null===(e=n.hasNext)||void 0===e?void 0:e.call(n))})}return e.prototype.get=function(e,t){var r=this.resource;s.default.get(r.rest,r.path,r.headers,e,r.envelope,(function(e,n,o,i,s){r.handlePage(e,n,o,i,s,t)}))},e}();t.PaginatedResult=c;var u=function(e){function t(t,r,n,o,i,s){var a=e.call(this,t,r,i)||this;return a.statusCode=o,a.success=o<300&&o>=200,a.headers=n,a.errorCode=s&&s.code,a.errorMessage=s&&s.message,a}return n.__extends(t,e),t.prototype.toJSON=function(){return{items:this.items,statusCode:this.statusCode,success:this.success,headers:this.headers,errorCode:this.errorCode,errorMessage:this.errorMessage}},t}(c);t.HttpPaginatedResponse=u,t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRetriable=void 0;var n=r(0).__importDefault(r(4)),o={DISCONNECTED:80003,SUSPENDED:80002,FAILED:8e4,CLOSING:80017,CLOSED:80017,UNKNOWN_CONNECTION_ERR:50002,UNKNOWN_CHANNEL_ERR:50001},i={disconnected:function(){return n.default.fromValues({statusCode:400,code:o.DISCONNECTED,message:"Connection to server temporarily unavailable"})},suspended:function(){return n.default.fromValues({statusCode:400,code:o.SUSPENDED,message:"Connection to server unavailable"})},failed:function(){return n.default.fromValues({statusCode:400,code:o.FAILED,message:"Connection failed or disconnected by server"})},closing:function(){return n.default.fromValues({statusCode:400,code:o.CLOSING,message:"Connection closing"})},closed:function(){return n.default.fromValues({statusCode:400,code:o.CLOSED,message:"Connection closed"})},unknownConnectionErr:function(){return n.default.fromValues({statusCode:500,code:o.UNKNOWN_CONNECTION_ERR,message:"Internal connection error"})},unknownChannelErr:function(){return n.default.fromValues({statusCode:500,code:o.UNKNOWN_CONNECTION_ERR,message:"Internal channel error"})}};t.isRetriable=function(e){return!e.statusCode||!e.code||e.statusCode>=500||Object.values(o).includes(e.code)},t.default=i},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.REQ_SEND=0]="REQ_SEND",e[e.REQ_RECV=1]="REQ_RECV",e[e.REQ_RECV_POLL=2]="REQ_RECV_POLL",e[e.REQ_RECV_STREAM=3]="REQ_RECV_STREAM"}(n||(n={})),t.default=n},function(e,t,r){var n;e.exports=(n=r(6),r(5),r(58),r(11),r(40),r(32),r(23),r(27),r(28),r(59),r(60),n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importDefault(r(2)),o=function(){function e(e){this.members=e||[]}return e.prototype.call=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,o=this.members;r<o.length;r++){var i=o[r];if(i)try{i.apply(void 0,e)}catch(e){n.default.logAction(n.default.LOG_ERROR,"Multicaster multiple callback handler","Unexpected exception: "+e+"; stack = "+e.stack)}}},e.prototype.push=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.members).push.apply(e,t)},e.create=function(t){var r=new e(t);return Object.assign((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.call.apply(r,e)}),{push:function(e){return r.push(e)}})},e}();t.default=o},function(e,t,r){var n,o,i;e.exports=(o=(n=r(6)).lib.Base,i=n.enc.Utf8,void(n.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,c=s.words,u=0;u<r;u++)a[u]^=1549556828,c[u]^=909522486;o.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.isSuccessCode=void 0,function(e){e[e.Success=200]="Success",e[e.NoContent=204]="NoContent",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.RequestTimeout=408]="RequestTimeout",e[e.InternalServerError=500]="InternalServerError"}(n||(n={})),t.isSuccessCode=function(e){return e>=n.Success&&e<n.BadRequest},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(3)),i=n.__importStar(r(1)),s=n.__importDefault(r(2)),a=n.__importDefault(r(16)),c=n.__importDefault(r(17)),u=r(4);function l(e,t,r,n,o){e.http.supportsAuthHeaders?e.auth.getAuthHeaders((function(e,s){e?n(e):o(i.mixin(s,t),r)})):e.auth.getAuthParams((function(e,s){e?n(e):o(t,i.mixin(s,r))}))}function p(e){var t=[];if(e)for(var r in e)t.push(r+"="+e[r]);return t.join("&")}function d(e,t){return e+(t?"?":"")+p(t)}var g=function(){function e(){}return e.get=function(t,r,n,o,i,s){e.do(c.default.Get,t,r,null,n,o,i,s)},e.delete=function(t,r,n,o,i,s){e.do(c.default.Delete,t,r,null,n,o,i,s)},e.post=function(t,r,n,o,i,s,a){e.do(c.default.Post,t,r,n,o,i,s,a)},e.patch=function(t,r,n,o,i,s,a){e.do(c.default.Patch,t,r,n,o,i,s,a)},e.put=function(t,r,n,o,i,s,a){e.do(c.default.Put,t,r,n,o,i,s,a)},e.do=function(e,t,r,n,c,g,f,h){s.default.shouldLog(s.default.LOG_MICRO)&&(h=function(e,t,r,n){return function(a,c,u,l,g){a?s.default.logAction(s.default.LOG_MICRO,"Resource."+t+"()","Received Error; "+d(r,n)+"; Error: "+i.inspectError(a)):s.default.logAction(s.default.LOG_MICRO,"Resource."+t+"()","Received; "+d(r,n)+"; Headers: "+p(u)+"; StatusCode: "+g+"; Body: "+(o.default.BufferUtils.isBuffer(c)?c.toString():c)),e&&e(a,c,u,l,g)}}(h,e,r,g)),f&&(h=h&&function(e,t){return function(r,n,o,s,a){if(!r||n){if(!s)try{n=i.decodeBody(n,t)}catch(t){return void(i.isErrorInfoOrPartialErrorInfo(t)?e(t):e(new u.PartialErrorInfo(i.inspectError(t),null)))}if(n){var c=n,l=c.statusCode,p=c.response,d=c.headers;if(void 0!==l){if(l<200||l>=300){var g=p&&p.error||r;return g||((g=new Error("Error in unenveloping "+n)).statusCode=l),void e(g,p,d,!0,l)}e(r,p,d,!0,l)}else e(r,n,o,!0,a)}else e(new u.PartialErrorInfo("unenvelope(): Response body is missing",null))}else e(r)}}(h,f),(g=g||{}).envelope=f),l(t,c,g,h,(function c(u,p){var g;if(s.default.shouldLog(s.default.LOG_MICRO)&&s.default.logAction(s.default.LOG_MICRO,"Resource."+e+"()","Sending; "+d(r,p)),s.default.shouldLog(s.default.LOG_MICRO)){var f=n;if((null===(g=u["content-type"])||void 0===g?void 0:g.indexOf("msgpack"))>0)try{f=o.default.Config.msgpack.decode(n)}catch(t){s.default.logAction(s.default.LOG_MICRO,"Resource."+e+"()","Sending MsgPack Decoding Error: "+i.inspectError(t))}s.default.logAction(s.default.LOG_MICRO,"Resource."+e+"()","Sending; "+d(r,p)+"; Body: "+f)}t.http.do(e,t,r,u,n,p,(function(e,r,n,o,i){e&&a.default.isTokenErr(e)?t.auth.authorize(null,null,(function(e){e?h(e):l(t,n,p,h,c)})):h(e,r,n,o,i)}))}))},e}();t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(10)),i=n.__importStar(r(1)),s=n.__importDefault(r(7)),a=n.__importDefault(r(2)),c=n.__importDefault(r(19)),u=n.__importDefault(r(4)),l=n.__importDefault(r(3)),p=o.default.Action,d=o.default.fromValues({action:p.CLOSE}),g=o.default.fromValues({action:p.DISCONNECT}),f=function(e){function t(t,r,n,o){var i=e.call(this)||this;return o&&(n.format=void 0,n.heartbeats=!0),i.connectionManager=t,t.registerProposedTransport(i),i.auth=r,i.params=n,i.timeouts=n.options.timeouts,i.format=n.format,i.isConnected=!1,i.isFinished=!1,i.isDisposed=!1,i.maxIdleInterval=null,i.idleTimer=null,i.lastActivity=null,i}return n.__extends(t,e),t.prototype.connect=function(){},t.prototype.close=function(){this.isConnected&&this.requestClose(),this.finish("closed",c.default.closed())},t.prototype.disconnect=function(e){this.isConnected&&this.requestDisconnect(),this.finish("disconnected",e||c.default.disconnected())},t.prototype.fail=function(e){this.isConnected&&this.requestDisconnect(),this.finish("failed",e||c.default.failed())},t.prototype.finish=function(e,t){var r;this.isFinished||(this.isFinished=!0,this.isConnected=!1,this.maxIdleInterval=null,clearTimeout(null!==(r=this.idleTimer)&&void 0!==r?r:void 0),this.idleTimer=null,this.emit(e,t),this.dispose())},t.prototype.onProtocolMessage=function(e){switch(a.default.shouldLog(a.default.LOG_MICRO)&&a.default.logAction(a.default.LOG_MICRO,"Transport.onProtocolMessage()","received on "+this.shortName+": "+o.default.stringify(e)+"; connectionId = "+this.connectionManager.connectionId),this.onActivity(),e.action){case p.HEARTBEAT:a.default.logAction(a.default.LOG_MICRO,"Transport.onProtocolMessage()",this.shortName+" heartbeat; connectionId = "+this.connectionManager.connectionId),this.emit("heartbeat",e.id);break;case p.CONNECTED:this.onConnect(e),this.emit("connected",e.error,e.connectionId,e.connectionDetails,e);break;case p.CLOSED:this.onClose(e);break;case p.DISCONNECTED:this.onDisconnect(e);break;case p.ACK:this.emit("ack",e.msgSerial,e.count);break;case p.NACK:this.emit("nack",e.msgSerial,e.count,e.error);break;case p.SYNC:this.connectionManager.onChannelMessage(e,this);break;case p.ACTIVATE:break;case p.AUTH:this.auth.authorize((function(e){e&&a.default.logAction(a.default.LOG_ERROR,"Transport.onProtocolMessage()","Ably requested re-authentication, but unable to obtain a new token: "+i.inspectError(e))}));break;case p.ERROR:if(a.default.logAction(a.default.LOG_MINOR,"Transport.onProtocolMessage()","received error action; connectionId = "+this.connectionManager.connectionId+"; err = "+l.default.Config.inspect(e.error)+(e.channel?", channel: "+e.channel:"")),void 0===e.channel){this.onFatalError(e);break}this.connectionManager.onChannelMessage(e,this);break;default:this.connectionManager.onChannelMessage(e,this)}},t.prototype.onConnect=function(e){if(this.isConnected=!0,!e.connectionDetails)throw new Error("Transport.onConnect(): Connect message recieved without connectionDetails");var t=e.connectionDetails.maxIdleInterval;t&&(this.maxIdleInterval=t+this.timeouts.realtimeRequestTimeout,this.onActivity())},t.prototype.onDisconnect=function(e){var t=e&&e.error;a.default.logAction(a.default.LOG_MINOR,"Transport.onDisconnect()","err = "+i.inspectError(t)),this.finish("disconnected",t)},t.prototype.onFatalError=function(e){var t=e&&e.error;a.default.logAction(a.default.LOG_MINOR,"Transport.onFatalError()","err = "+i.inspectError(t)),this.finish("failed",t)},t.prototype.onClose=function(e){var t=e&&e.error;a.default.logAction(a.default.LOG_MINOR,"Transport.onClose()","err = "+i.inspectError(t)),this.finish("closed",t)},t.prototype.requestClose=function(){a.default.logAction(a.default.LOG_MINOR,"Transport.requestClose()",""),this.send(d)},t.prototype.requestDisconnect=function(){a.default.logAction(a.default.LOG_MINOR,"Transport.requestDisconnect()",""),this.send(g)},t.prototype.ping=function(e){var t={action:o.default.Action.HEARTBEAT};e&&(t.id=e),this.send(o.default.fromValues(t))},t.prototype.dispose=function(){a.default.logAction(a.default.LOG_MINOR,"Transport.dispose()",""),this.isDisposed=!0,this.off()},t.prototype.onActivity=function(){this.maxIdleInterval&&(this.lastActivity=this.connectionManager.lastActivity=i.now(),this.setIdleTimer(this.maxIdleInterval+100))},t.prototype.setIdleTimer=function(e){var t=this;this.idleTimer||(this.idleTimer=setTimeout((function(){t.onIdleTimerExpire()}),e))},t.prototype.onIdleTimerExpire=function(){if(!this.lastActivity||!this.maxIdleInterval)throw new Error("Transport.onIdleTimerExpire(): lastActivity/maxIdleInterval not set");this.idleTimer=null;var e=i.now()-this.lastActivity,t=this.maxIdleInterval-e;if(t<=0){var r="No activity seen from realtime in "+e+"ms; assuming connection has dropped";a.default.logAction(a.default.LOG_ERROR,"Transport.onIdleTimerExpire()",r),this.disconnect(new u.default(r,80003,408))}else this.setIdleTimer(t+100)},t.tryConnect=function(e,t,r,n,o){var i,s=new e(t,r,n),c=function(e){clearTimeout(i),o({event:this.event,error:e})},l=t.options.timeouts.realtimeRequestTimeout;i=setTimeout((function(){s.off(["preconnect","disconnected","failed"]),s.dispose(),c.call({event:"disconnected"},new u.default("Timeout waiting for transport to indicate itself viable",5e4,500))}),l),s.on(["failed","disconnected"],c),s.on("preconnect",(function(){a.default.logAction(a.default.LOG_MINOR,"Transport.tryConnect()","viable transport "+s),clearTimeout(i),s.off(["failed","disconnected"],c),o(null,s)})),s.connect()},t}(s.default);t.default=f},function(e,t,r){var n,o,i,s,a,c,u,l;e.exports=(l=r(6),r(40),r(23),i=(o=(n=l).lib).Base,s=o.WordArray,c=(a=n.algo).MD5,u=a.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,o=n.hasher.create(),i=s.create(),a=i.words,c=n.keySize,u=n.iterations;a.length<c;){r&&o.update(r),r=o.update(e).finalize(t),o.reset();for(var l=1;l<u;l++)r=o.finalize(r),o.reset();i.concat(r)}return i.sigBytes=4*c,i}}),n.EvpKDF=function(e,t,r){return u.create(r).compute(e,t)},l.EvpKDF)},function(e,t,r){var n,o,i,s,a,c,u,l,p,d,g,f,h,m,y,_,v,S,E;e.exports=(n=r(6),r(27),void(n.lib.Cipher||(o=n,i=o.lib,s=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,u=o.enc,u.Utf8,l=u.Base64,p=o.algo.EvpKDF,d=i.Cipher=c.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?E:v}return function(t){return{encrypt:function(r,n,o){return e(n).encrypt(t,r,n,o)},decrypt:function(r,n,o){return e(n).decrypt(t,r,n,o)}}}}()}),i.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),g=o.mode={},f=i.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=g.CBC=function(){var e=f.extend();function t(e,t,r){var n,o=this._iv;o?(n=o,this._iv=void 0):n=this._prevBlock;for(var i=0;i<r;i++)e[t+i]^=n[i]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,o=n.blockSize;t.call(this,e,r,o),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+o)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,o=n.blockSize,i=e.slice(r,r+o);n.decryptBlock(e,r),t.call(this,e,r,o),this._prevBlock=i}}),e}(),m=(o.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,i=[],s=0;s<n;s+=4)i.push(o);var c=a.create(i,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:h,padding:m}),reset:function(){var e;d.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),y=i.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),_=(o.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?a.create([1398893684,1701076831]).concat(r).concat(t):t).toString(l)},parse:function(e){var t,r=l.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=a.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),y.create({ciphertext:r,salt:t})}},v=i.SerializableCipher=s.extend({cfg:s.extend({format:_}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=e.createEncryptor(r,n),i=o.finalize(t),s=o.cfg;return y.create({ciphertext:i,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),S=(o.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=a.random(8));var o=p.create({keySize:t+r}).compute(e,n),i=a.create(o.words.slice(t),4*r);return o.sigBytes=4*t,y.create({key:o,iv:i,salt:n})}},E=i.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:S}),encrypt:function(e,t,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=o.iv;var i=v.encrypt.call(this,e,t,o.key,n);return i.mixIn(o),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=o.iv,v.decrypt.call(this,e,t,o.key,n)}}))))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.createRequest=void 0;var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(12)),s=n.__importDefault(r(3)),a=n.__importDefault(r(7)),c=r(4),u=n.__importDefault(r(8)),l=n.__importDefault(r(2)),p=n.__importDefault(r(20)),d=o.getGlobalObject(),g=function(){},f=d._ablyjs_jsonp={};f._=function(e){return f["_"+e]||g};var h=1,m="jsonp";function y(e,t,r,n,i,s,a){return s=s||u.default.TIMEOUTS,new v(void 0,e,t,o.copy(r),n,i,s,a)}t.createRequest=y;var _=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;return o.shortName=m,n.stream=!1,o}return n.__extends(t,e),t.isAvailable=function(){return s.default.Config.jsonpSupported&&s.default.Config.allowComet},t.prototype.toString=function(){return"JSONPTransport; uri="+this.baseUri+"; isConnected="+this.isConnected},t.prototype.createRequest=function(e,t,r,n,o,i,s){return y(e,t,r,n,o,i=(null==this?void 0:this.timeouts)||i||u.default.TIMEOUTS,s)},t}(i.default),v=function(e){function t(t,r,n,i,s,a,c,u){var l=e.call(this)||this;return void 0===t&&(t=h++),l.id=t,l.uri=r,l.params=i||{},l.params.rnd=o.cheapRandStr(),n&&(n["X-Ably-Version"]&&(l.params.v=n["X-Ably-Version"]),n["X-Ably-Lib"]&&(l.params.lib=n["X-Ably-Lib"])),l.body=s,l.method=u,l.requestMode=a,l.timeouts=c,l.requestComplete=!1,l}return n.__extends(t,e),t.prototype.exec=function(){var e=this,t=this.id,r=this.body,n=this.method,i=this.uri,a=this.params;a.callback="_ablyjs_jsonp._("+t+")",a.envelope="jsonp",r&&(a.body=r),n&&"get"!==n&&(a.method=n);var u=this.script=document.createElement("script"),d=i+o.toQueryString(a);u.src=d,u.src.split("/").slice(-1)[0]!==d.split("/").slice(-1)[0]&&l.default.logAction(l.default.LOG_ERROR,"JSONP Request.exec()","Warning: the browser appears to have truncated the script URI. This will likely result in the request failing due to an unparseable body param"),u.async=!0,u.type="text/javascript",u.charset="UTF-8",u.onerror=function(t){e.complete(new c.PartialErrorInfo("JSONP script error (event: "+s.default.Config.inspect(t)+")",null,400))},f["_"+t]=function(t){if(t.statusCode){var r=t.response;if(204==t.statusCode)e.complete(null,null,null,t.statusCode);else if(r)if(t.statusCode<400||o.isArray(r))e.complete(null,r,t.headers,t.statusCode);else{var n=r.error||new c.PartialErrorInfo("Error response received from server",null,t.statusCode);e.complete(n)}else e.complete(new c.PartialErrorInfo("Invalid server response: no envelope detected",null,500))}else e.complete(null,t)};var g=this.requestMode==p.default.REQ_SEND?this.timeouts.httpRequestTimeout:this.timeouts.recvTimeout;this.timer=setTimeout(this.abort.bind(this),g);var h=document.getElementsByTagName("head")[0];h.insertBefore(u,h.firstChild)},t.prototype.complete=function(e,t,r,n){if(r=r||{},!this.requestComplete){this.requestComplete=!0;var o=void 0;t&&(o="string"==typeof t?"text/plain":"application/json",r["content-type"]=o,this.emit("data",t)),this.emit("complete",e,t,r,!0,n),this.dispose()}},t.prototype.abort=function(){this.dispose()},t.prototype.dispose=function(){var e=this.timer;e&&(clearTimeout(e),this.timer=null);var t=this.script;t.parentNode&&t.parentNode.removeChild(t),delete f[this.id],this.emit("disposed")},t}(a.default);t.Request=v,t.default=function(e){return d.JSONPTransport=_,_.isAvailable()&&(e.supportedTransports[m]=_),_}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(2)),s=n.__importDefault(r(8)),a=n.__importDefault(r(16)),c=n.__importDefault(r(46)),u=n.__importDefault(r(18)),l=n.__importDefault(r(33)),p=n.__importDefault(r(4)),d=n.__importDefault(r(49)),g=n.__importDefault(r(17)),f=n.__importDefault(r(3)),h=n.__importDefault(r(9)),m=n.__importDefault(r(14)),y=function(){},_=function(){function e(e){if(!e){var t="no options provided";throw i.default.logAction(i.default.LOG_ERROR,"Rest()",t),new Error(t)}var r=s.default.objectifyOptions(e);r.log&&i.default.setLog(r.log.level,r.log.handler),i.default.logAction(i.default.LOG_MICRO,"Rest()","initialized with clientOptions "+f.default.Config.inspect(e));var n=this.options=s.default.normaliseOptions(r);if(n.key){var o=n.key.match(/^([^:\s]+):([^:.\s]+)$/);if(!o)throw t="invalid key parameter",i.default.logAction(i.default.LOG_ERROR,"Rest()",t),new p.default(t,40400,404);n.keyName=o[1],n.keySecret=o[2]}if("clientId"in n){if("string"!=typeof n.clientId&&null!==n.clientId)throw new p.default("clientId must be either a string or null",40012,400);if("*"===n.clientId)throw new p.default('Can’t use "*" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, use {defaultTokenParams: {clientId: "*"}})',40012,400)}i.default.logAction(i.default.LOG_MINOR,"Rest()","started; version = "+s.default.version),this.baseUri=this.authority=function(e){return s.default.getHttpScheme(n)+e+":"+s.default.getPort(n,!1)},this._currentFallback=null,this.serverTimeOffset=null,this.http=new f.default.Http(n),this.auth=new a.default(this,n),this.channels=new v(this),this.push=new c.default(this)}return e.prototype.stats=function(e,t){if(void 0===t)if("function"==typeof e)t=e,e=null;else{if(this.options.promises)return o.promisify(this,"stats",[e]);t=y}var r=o.defaultGetHeaders(this.options),n=this.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,i=this.http.supportsLinkHeaders?void 0:n;this.options.headers&&o.mixin(r,this.options.headers),new u.default(this,"/stats",r,i,(function(e,t,r){for(var n=r?e:JSON.parse(e),o=0;o<n.length;o++)n[o]=d.default.fromValues(n[o]);return n})).get(e,t)},e.prototype.time=function(e,t){var r=this;if(void 0===t)if("function"==typeof e)t=e,e=null;else if(this.options.promises)return o.promisify(this,"time",[e]);var n=t||y,i=o.defaultGetHeaders(this.options);this.options.headers&&o.mixin(i,this.options.headers),this.http.do(g.default.Get,this,(function(e){return r.authority(e)+"/time"}),i,null,e,(function(e,t,i,s){if(e)n(e);else{s||(t=JSON.parse(t));var a=t[0];a?(r.serverTimeOffset=a-o.now(),n(null,a)):n(new p.default("Internal error (unexpected result type from GET /time)",5e4,500))}}))},e.prototype.request=function(e,t,r,n,i,s){var a=this.options.useBinaryProtocol,c=a?f.default.Config.msgpack.encode:JSON.stringify,l=a?f.default.Config.msgpack.decode:JSON.parse,d=a?o.Format.msgpack:o.Format.json,g=this.http.supportsLinkHeaders?void 0:d;r=r||{};var h=e.toLowerCase(),m="get"==h?o.defaultGetHeaders(this.options,d):o.defaultPostHeaders(this.options,d);if(void 0===s){if(this.options.promises)return o.promisify(this,"request",[e,t,r,n,i]);s=y}"string"!=typeof n&&(n=c(n)),this.options.headers&&o.mixin(m,this.options.headers),i&&o.mixin(m,i);var _=new u.default(this,t,m,g,(function(e,t,r){return o.ensureArray(r?e:l(e))}),!0);if(!o.arrIn(f.default.Http.methods,h))throw new p.default("Unsupported method "+h,40500,405);o.arrIn(f.default.Http.methodsWithBody,h)?_[h](r,n,s):_[h](r,s)},e.prototype.setLog=function(e){i.default.setLog(e.level,e.handler)},e.Promise=function(t){return(t=s.default.objectifyOptions(t)).promises=!0,new e(t)},e.Callbacks=e,e.Platform=f.default,e.Message=h.default,e.PresenceMessage=m.default,e}(),v=function(){function e(e){this.rest=e,this.all=Object.create(null)}return e.prototype.get=function(e,t){e=String(e);var r=this.all[e];return r?t&&r.setOptions(t):this.all[e]=r=new l.default(this.rest,e,t),r},e.prototype.release=function(e){delete this.all[String(e)]},e}();t.default=_},function(e,t,r){e.exports=r(6).enc.Utf8},function(e,t,r){var n;e.exports=(n=r(6),function(e){var t=n,r=t.lib,o=r.WordArray,i=r.Hasher,s=t.algo,a=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,o=0;o<64;)t(n)&&(o<8&&(a[o]=r(e.pow(n,.5))),c[o]=r(e.pow(n,1/3)),o++),n++}();var u=[],l=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],s=r[3],a=r[4],l=r[5],p=r[6],d=r[7],g=0;g<64;g++){if(g<16)u[g]=0|e[t+g];else{var f=u[g-15],h=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=u[g-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[g]=h+u[g-7]+y+u[g-16]}var _=n&o^n&i^o&i,v=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),S=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&p)+c[g]+u[g];d=p,p=l,l=a,a=s+S|0,s=i,i=o,o=n,n=S+(v+_)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+l|0,r[6]=r[6]+p|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=e.floor(n/4294967296),r[15+(o+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(l),t.HmacSHA256=i._createHmacHelper(l)}(Math),n.SHA256)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(7)),s=n.__importDefault(r(2)),a=n.__importDefault(r(34)),c=n.__importDefault(r(9)),u=n.__importDefault(r(4)),l=n.__importDefault(r(18)),p=n.__importDefault(r(25)),d=n.__importDefault(r(3));function g(){}function f(e){var t=e||{};if(t.cipher){if(!d.default.Crypto)throw new Error("Encryption not enabled; use ably.encryption.js instead");var r=d.default.Crypto.getCipher(t.cipher);t.cipher=r.cipherParams,t.channelCipher=r.cipher}else"cipher"in t&&(t.cipher=void 0,t.channelCipher=null);return t}var h=function(e){function t(t,r,n){var o=e.call(this)||this;return s.default.logAction(s.default.LOG_MINOR,"Channel()","started; name = "+r),o.rest=t,o.name=r,o.basePath="/channels/"+encodeURIComponent(r),o.presence=new a.default(o),o.channelOptions=f(n),o}return n.__extends(t,e),t.prototype.setOptions=function(e){this.channelOptions=f(e)},t.prototype.history=function(e,t){if(s.default.logAction(s.default.LOG_MICRO,"Channel.history()","channel = "+this.name),void 0===t)if("function"==typeof e)t=e,e=null;else{if(this.rest.options.promises)return o.promisify(this,"history",arguments);t=g}this._history(e,t)},t.prototype._history=function(e,t){var r=this.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,i=this.rest.http.supportsLinkHeaders?void 0:n,s=o.defaultGetHeaders(r.options,n);r.options.headers&&o.mixin(s,r.options.headers);var a=this.channelOptions;new l.default(r,this.basePath+"/messages",s,i,(function(e,t,r){return c.default.fromResponseBody(e,a,r?void 0:n)})).get(e,t)},t.prototype.publish=function(){var e,t,r=this,n=arguments[0],i=arguments[1],s=arguments[arguments.length-1];if("function"!=typeof s){if(this.rest.options.promises)return o.promisify(this,"publish",arguments);s=g}if("string"==typeof n||null===n)e=[c.default.fromValues({name:n,data:i})],t=arguments[2];else if(o.isObject(n))e=[c.default.fromValues(n)],t=arguments[1];else{if(!o.isArray(n))throw new u.default("The single-argument form of publish() expects a message object or an array of message objects",40013,400);e=c.default.fromValuesArray(n),t=arguments[1]}"object"==typeof t&&t||(t={});var a=this.rest,l=a.options,p=l.useBinaryProtocol?o.Format.msgpack:o.Format.json,d=a.options.idempotentRestPublishing,f=o.defaultPostHeaders(a.options,p);if(l.headers&&o.mixin(f,l.headers),d&&function(e){return o.arrEvery(e,(function(e){return!e.id}))}(e)){var h=o.randomString(9);o.arrForEach(e,(function(e,t){e.id=h+":"+t.toString()}))}c.default.encodeArray(e,this.channelOptions,(function(n){if(n)s(n);else{var o=c.default.getMessagesSize(e),i=l.maxMessageSize;o>i?s(new u.default("Maximum size of messages that can be published at once exceeded ( was "+o+" bytes; limit is "+i+" bytes)",40009,400)):r._publish(c.default.serialize(e,p),f,t,s)}}))},t.prototype._publish=function(e,t,r,n){p.default.post(this.rest,this.basePath+"/messages",e,t,r,null,n)},t.prototype.status=function(e){if("function"!=typeof e&&this.rest.options.promises)return o.promisify(this,"status",[]);var t=this.rest.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,r=o.defaultPostHeaders(this.rest.options,t);p.default.get(this.rest,this.basePath,r,{},t,e||g)},t}(i.default);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(7)),s=n.__importDefault(r(2)),a=n.__importDefault(r(18)),c=n.__importDefault(r(14));function u(){}var l=function(e){function t(t){var r=e.call(this)||this;return r.channel=t,r.basePath=t.basePath+"/presence",r}return n.__extends(t,e),t.prototype.get=function(e,t){if(s.default.logAction(s.default.LOG_MICRO,"Presence.get()","channel = "+this.channel.name),void 0===t)if("function"==typeof e)t=e,e=null;else{if(this.channel.rest.options.promises)return o.promisify(this,"get",arguments);t=u}var r=this.channel.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,i=this.channel.rest.http.supportsLinkHeaders?void 0:n,l=o.defaultGetHeaders(r.options,n);r.options.headers&&o.mixin(l,r.options.headers);var p=this.channel.channelOptions;new a.default(r,this.basePath,l,i,(function(e,t,r){return c.default.fromResponseBody(e,p,r?void 0:n)})).get(e,t)},t.prototype.history=function(e,t){return s.default.logAction(s.default.LOG_MICRO,"Presence.history()","channel = "+this.channel.name),this._history(e,t)},t.prototype._history=function(e,t){if(void 0===t)if("function"==typeof e)t=e,e=null;else{if(this.channel.rest.options.promises)return o.promisify(this,"_history",[e]);t=u}var r=this.channel.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,i=this.channel.rest.http.supportsLinkHeaders?void 0:n,s=o.defaultGetHeaders(r.options,n);r.options.headers&&o.mixin(s,r.options.headers);var l=this.channel.channelOptions;new a.default(r,this.basePath+"/history",s,i,(function(e,t,r){return c.default.fromResponseBody(e,l,r?void 0:n)})).get(e,t)},t}(i.default);t.default=l},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.TransportParams=void 0;var n=r(0),o=n.__importDefault(r(10)),i=n.__importStar(r(1)),s=n.__importStar(r(52)),a=n.__importStar(r(8)),c=n.__importDefault(r(3)),u=n.__importDefault(r(7)),l=n.__importDefault(r(36)),p=n.__importDefault(r(2)),d=n.__importDefault(r(37)),g=n.__importStar(r(19)),f=n.__importStar(r(4)),h=n.__importDefault(r(16)),m=n.__importDefault(r(9)),y=n.__importDefault(r(22)),_=n.__importDefault(r(53)),v=n.__importDefault(r(26)),S=n.__importDefault(r(24)),E=function(){var e;return void 0!==c.default.WebStorage&&(null===(e=c.default.WebStorage)||void 0===e?void 0:e.localSupported)},b=function(){var e;return void 0!==c.default.WebStorage&&(null===(e=c.default.WebStorage)||void 0===e?void 0:e.sessionSupported)},T=o.default.Action,A=function(){},R="ably-transport-preference",w="ably-connection-recovery";function O(e){try{return JSON.parse(e)}catch(e){return null}}var C=function(){function e(e,t,r,n){this.options=e,this.host=t,this.mode=r,this.connectionKey=n,this.format=e.useBinaryProtocol?i.Format.msgpack:i.Format.json}return e.prototype.getConnectParams=function(e){var t=e?i.copy(e):{},r=this.options;switch(this.mode){case"upgrade":t.upgrade=this.connectionKey;break;case"resume":t.resume=this.connectionKey;break;case"recover":var n=O(r.recover);n&&(t.recover=n.connectionKey)}return void 0!==r.clientId&&(t.clientId=r.clientId),!1===r.echoMessages&&(t.echo="false"),void 0!==this.format&&(t.format=this.format),void 0!==this.stream&&(t.stream=this.stream),void 0!==this.heartbeats&&(t.heartbeats=this.heartbeats),t.v=a.default.protocolVersion,t.agent=encodeURIComponent((0,a.getAgentString)(this.options)),void 0!==r.transportParams&&i.mixin(t,r.transportParams),t},e.prototype.toString=function(){var e="[mode="+this.mode;return this.host&&(e+=",host="+this.host),this.connectionKey&&(e+=",connectionKey="+this.connectionKey),this.format&&(e+=",format="+this.format),e+"]"},e}();t.TransportParams=C;var M=function(t){function r(e,n){var o=t.call(this)||this;o.disconnectedRetryCount=0,r.initTransports(),o.realtime=e,o.options=n;var s=n.timeouts,u=s.preferenceConnectTimeout+s.realtimeRequestTimeout;if(o.states={initialized:{state:"initialized",terminal:!1,queueEvents:!0,sendEvents:!1,failState:"disconnected"},connecting:{state:"connecting",terminal:!1,queueEvents:!0,sendEvents:!1,retryDelay:u,failState:"disconnected"},connected:{state:"connected",terminal:!1,queueEvents:!1,sendEvents:!0,failState:"disconnected"},synchronizing:{state:"connected",terminal:!1,queueEvents:!0,sendEvents:!1,forceQueueEvents:!0,failState:"disconnected"},disconnected:{state:"disconnected",terminal:!1,queueEvents:!0,sendEvents:!1,retryDelay:s.disconnectedRetryTimeout,failState:"disconnected"},suspended:{state:"suspended",terminal:!1,queueEvents:!1,sendEvents:!1,retryDelay:s.suspendedRetryTimeout,failState:"suspended"},closing:{state:"closing",terminal:!1,queueEvents:!1,sendEvents:!1,retryDelay:s.realtimeRequestTimeout,failState:"closed"},closed:{state:"closed",terminal:!0,queueEvents:!1,sendEvents:!1,failState:"closed"},failed:{state:"failed",terminal:!0,queueEvents:!1,sendEvents:!1,failState:"failed"}},o.state=o.states.initialized,o.errorReason=null,o.queuedMessages=new l.default,o.msgSerial=0,o.connectionDetails=void 0,o.connectionId=void 0,o.connectionKey=void 0,o.connectionStateTtl=s.connectionStateTtl,o.maxIdleInterval=null,o.transports=i.intersect(n.transports||a.default.defaultTransports,r.supportedTransports),o.baseTransport=i.intersect(a.default.baseTransportOrder,o.transports)[0],o.upgradeTransports=i.intersect(o.transports,a.default.upgradeTransports),o.transportPreference=null,o.httpHosts=a.default.getHosts(n),o.activeProtocol=null,o.proposedTransports=[],o.pendingTransports=[],o.host=null,o.lastAutoReconnectAttempt=null,o.lastActivity=null,o.forceFallbackHost=!1,o.connectCounter=0,p.default.logAction(p.default.LOG_MINOR,"Realtime.ConnectionManager()","started"),p.default.logAction(p.default.LOG_MICRO,"Realtime.ConnectionManager()","requested transports = ["+(n.transports||a.default.defaultTransports)+"]"),p.default.logAction(p.default.LOG_MICRO,"Realtime.ConnectionManager()","available transports = ["+o.transports+"]"),p.default.logAction(p.default.LOG_MICRO,"Realtime.ConnectionManager()","http hosts = ["+o.httpHosts+"]"),!o.transports.length){var d="no requested transports available";throw p.default.logAction(p.default.LOG_ERROR,"realtime.ConnectionManager()",d),new Error(d)}var g=c.default.Config.addEventListener;return g&&(b()&&"function"==typeof n.recover&&g("beforeunload",o.persistConnection.bind(o)),!0===n.closeOnUnload&&g("beforeunload",(function(){p.default.logAction(p.default.LOG_MAJOR,"Realtime.ConnectionManager()","beforeunload event has triggered the connection to close as closeOnUnload is true"),o.requestState({state:"closing"})})),g("online",(function(){o.state==o.states.disconnected||o.state==o.states.suspended?(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager caught browser ‘online’ event","reattempting connection"),o.requestState({state:"connecting"})):o.state==o.states.connecting&&(o.pendingTransports.forEach((function(e){e.off()})),o.disconnectAllTransports(),o.startConnect())})),g("offline",(function(){o.state==o.states.connected&&(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager caught browser ‘offline’ event","disconnecting active transport"),o.disconnectAllTransports())}))),o}return n.__extends(r,t),r.initTransports=function(){(0,_.default)(r),i.arrForEach(c.default.Transports,(function(e){e(r)}))},r.prototype.createTransportParams=function(e,t){return new C(this.options,e,t,this.connectionKey)},r.prototype.getTransportParams=function(e){var t=this;!function(e){if(t.connectionKey)e("resume");else if("string"!=typeof t.options.recover){var r,n,o=t.options.recover,i=b()&&(null===(n=null===(r=c.default.WebStorage)||void 0===r?void 0:r.getSession)||void 0===n?void 0:n.call(r,w));if(i&&"function"==typeof o)return p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.getTransportParams()","Calling clientOptions-provided recover function with last session data"),void o(i,(function(r){r?(t.options.recover=i.recoveryKey,e("recover")):e("clean")}));e("clean")}else e("recover")}((function(r){var n=t.createTransportParams(null,r);if("recover"===r){p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.getTransportParams()","Transport recovery mode = recover; recoveryKey = "+t.options.recover);var o=O(t.options.recover);o&&(t.msgSerial=o.msgSerial)}else p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.getTransportParams()","Transport params = "+n.toString());e(n)}))},r.prototype.tryATransport=function(e,t,n){var o=this;p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.tryATransport()","trying "+t),v.default.tryConnect(r.supportedTransports[t],this,this.realtime.auth,e,(function(r,i){var s=o.state;return s==o.states.closing||s==o.states.closed||s==o.states.failed?(i&&(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.tryATransport()","connection "+s.state+" while we were attempting the transport; closing "+i),i.close()),void n(!0)):r?(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.tryATransport()","transport "+t+" "+r.event+", err: "+r.error.toString()),void(!h.default.isTokenErr(r.error)||o.errorReason&&h.default.isTokenErr(o.errorReason)?"failed"===r.event?(o.notifyState({state:"failed",error:r.error}),n(!0)):"disconnected"===r.event&&((0,g.isRetriable)(r.error)?n(!1):(o.notifyState({state:o.states.connecting.failState,error:r.error}),n(!0))):(o.errorReason=r.error,o.realtime.auth._forceNewToken(null,null,(function(r){r?o.actOnErrorFromAuthorize(r):o.tryATransport(e,t,n)}))))):(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.tryATransport()","viable transport "+t+"; setting pending"),o.setTransportPending(i,e),void n(null,i))}))},r.prototype.setTransportPending=function(e,t){var r=this,n=t.mode;p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.setTransportPending()","transport = "+e+"; mode = "+n),i.arrDeleteValue(this.proposedTransports,e),this.pendingTransports.push(e);var o=c.default.Defaults.transportPreferenceOrder[c.default.Defaults.transportPreferenceOrder.length-1];e.once("connected",(function(s,a,u){"upgrade"==n&&r.activeProtocol?e.shortName!==o&&i.arrIn(r.getUpgradePossibilities(),o)&&r.activeProtocol?setTimeout((function(){r.scheduleTransportActivation(s,e,a,u)}),r.options.timeouts.parallelUpgradeDelay):r.scheduleTransportActivation(s,e,a,u):(r.activateTransport(s,e,a,u),c.default.Config.nextTick((function(){r.connectImpl(t)}))),"recover"===n&&r.options.recover&&(r.options.recover=null,r.unpersistConnection())}));var s=this;e.on(["disconnected","closed","failed"],(function(t){s.deactivateTransport(e,this.event,t)})),this.emit("transport.pending",e)},r.prototype.scheduleTransportActivation=function(e,t,r,n){var s,a,u=this,l=this.activeProtocol&&this.activeProtocol.getTransport(),d=function(){t.disconnect(),i.arrDeleteValue(u.pendingTransports,t)};if(this.state!==this.states.connected&&this.state!==this.states.connecting)return p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Current connection state ("+this.state.state+(this.state===this.states.synchronizing?", but with an upgrade already in progress":"")+") is not valid to upgrade in; abandoning upgrade to "+t.shortName),void d();if(l&&(s=t,a=l,!(i.arrIndexOf(c.default.Defaults.transportPreferenceOrder,s.shortName)>i.arrIndexOf(c.default.Defaults.transportPreferenceOrder,a.shortName))))return p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Proposed transport "+t.shortName+" is no better than current active transport "+l.shortName+" - abandoning upgrade"),void d();p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Scheduling transport upgrade; transport = "+t);var g=null;if(!t.isConnected)return p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Proposed transport "+t.shortName+"is no longer connected; abandoning upgrade"),void d();if(this.state===this.states.connected)p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.scheduleTransportActivation()","Currently connected, so temporarily pausing events until the upgrade is complete"),this.state=this.states.synchronizing,g=this.activeProtocol;else if(this.state!==this.states.connecting)return p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Current connection state ("+this.state.state+(this.state===this.states.synchronizing?", but with an upgrade already in progress":"")+") is not valid to upgrade in; abandoning upgrade to "+t.shortName),void d();p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Syncing transport; transport = "+t);var f=function(){p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Activating transport; transport = "+t),t.send(o.default.fromValues({action:T.ACTIVATE})),u.activateTransport(e,t,r,n),u.state===u.states.synchronizing?(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.scheduleTransportActivation()","Pre-upgrade protocol idle, sending queued messages on upgraded transport; transport = "+t),u.state=u.states.connected):p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Pre-upgrade protocol idle, but state is now "+u.state.state+", so leaving unchanged"),u.state.sendEvents&&u.sendQueuedMessages()};g?g.onceIdle(f):f()},r.prototype.activateTransport=function(e,t,r,n){var o=this;p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.activateTransport()","transport = "+t),e&&p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.activateTransport()","error = "+e),r&&p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.activateTransport()","connectionId =  "+r),n&&p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.activateTransport()","connectionDetails =  "+JSON.stringify(n)),this.persistTransportPreference(t);var a=this.state,u=this.states.connected.state;if(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.activateTransport()","current state = "+a.state),a.state==this.states.closing.state||a.state==this.states.closed.state||a.state==this.states.failed.state)return p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.activateTransport()","Disconnecting transport and abandoning"),t.disconnect(),!1;if(i.arrDeleteValue(this.pendingTransports,t),!t.isConnected)return p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.activateTransport()","Declining to activate transport "+t+" since it appears to no longer be connected"),!1;var l=this.activeProtocol;this.activeProtocol=new s.default(t),this.host=t.params.host;var g=n.connectionKey;if(g&&this.connectionKey!=g&&this.setConnection(r,n,!!e),this.onConnectionDetailsUpdate(n,t),c.default.Config.nextTick((function(){t.on("connected",(function(e,r,n){o.onConnectionDetailsUpdate(n,t),o.emit("update",new d.default(u,u,null,e))}))})),a.state===this.states.connected.state?e&&(this.errorReason=this.realtime.connection.errorReason=e,this.emit("update",new d.default(u,u,null,e))):(this.notifyState({state:"connected",error:e}),this.errorReason=this.realtime.connection.errorReason=e||null),this.emit("transport.active",t),l)if(l.messageQueue.count()>0&&p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.activateTransport()","Previous active protocol (for transport "+l.transport.shortName+", new one is "+t.shortName+") finishing with "+l.messageQueue.count()+" messages still pending"),l.transport===t){var f="Assumption violated: activating a transport that was also the transport for the previous active protocol; transport = "+t.shortName+"; stack = "+(new Error).stack;p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.activateTransport()",f)}else l.finish();return i.safeArrForEach(this.pendingTransports,(function(e){if(e===t){var r="Assumption violated: activating a transport that is still marked as a pending transport; transport = "+t.shortName+"; stack = "+(new Error).stack;p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.activateTransport()",r),i.arrDeleteValue(o.pendingTransports,t)}else e.disconnect()})),i.safeArrForEach(this.proposedTransports,(function(e){e===t?(p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.activateTransport()","Assumption violated: activating a transport that is still marked as a proposed transport; transport = "+t.shortName+"; stack = "+(new Error).stack),i.arrDeleteValue(o.proposedTransports,t)):e.dispose()})),!0},r.prototype.deactivateTransport=function(e,t,r){var n=this.activeProtocol,o=n&&n.getTransport()===e,s=i.arrDeleteValue(this.pendingTransports,e),a=i.arrDeleteValue(this.proposedTransports,e),u=this.noTransportsScheduledForActivation();if(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.deactivateTransport()","transport = "+e),p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.deactivateTransport()","state = "+t+(o?"; was active":s?"; was pending":a?"; was proposed":"")+(u?"":"; another transport is scheduled for activation")),r&&r.message&&p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.deactivateTransport()","reason =  "+r.message),o&&(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.deactivateTransport()","Getting, clearing, and requeuing "+this.activeProtocol.messageQueue.count()+" pending messages"),this.queuePendingMessages(n.getPendingMessages()),c.default.Config.nextTick((function(){n.clearPendingMessages()})),this.activeProtocol=this.host=null),this.emit("transport.inactive",e),o&&u||o&&"failed"===t||"closed"===t||null===n&&s&&0===this.pendingTransports.length){if("disconnected"===t&&r&&r.statusCode>500&&this.httpHosts.length>1)return this.unpersistTransportPreference(),this.forceFallbackHost=!0,void this.notifyState({state:t,error:r,retryImmediately:!0});var l="failed"===t&&h.default.isTokenErr(r)?"disconnected":t;this.notifyState({state:l,error:r})}else o&&"disconnected"===t&&this.state!==this.states.synchronizing&&(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.deactivateTransport()","wasActive but another transport is connected and scheduled for activation, so going into the connecting state until it activates"),this.startSuspendTimer(),this.startTransitionTimer(this.states.connecting),this.notifyState({state:"connecting",error:r}))},r.prototype.noTransportsScheduledForActivation=function(){return i.isEmpty(this.pendingTransports)||this.pendingTransports.every((function(e){return!e.isConnected}))},r.prototype.setConnection=function(e,t,r){var n=this.connectionId;(n&&n!==e||!n&&r)&&(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.setConnection()","Resetting msgSerial"),this.msgSerial=0,this.queuedMessages.resetSendAttempted()),this.connectionId!==e&&p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.setConnection()","New connectionId; reattaching any attached channels"),this.realtime.connection.id=this.connectionId=e,this.realtime.connection.key=this.connectionKey=t.connectionKey},r.prototype.clearConnection=function(){this.realtime.connection.id=this.connectionId=void 0,this.realtime.connection.key=this.connectionKey=void 0,this.msgSerial=0,this.unpersistConnection()},r.prototype.createRecoveryKey=function(){return this.connectionKey?JSON.stringify({connectionKey:this.connectionKey,msgSerial:this.msgSerial,channelSerials:this.realtime.channels.channelSerials()}):null},r.prototype.checkConnectionStateFreshness=function(){if(this.lastActivity&&this.connectionId){var e=i.now()-this.lastActivity;e>this.connectionStateTtl+this.maxIdleInterval&&(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.checkConnectionStateFreshness()","Last known activity from realtime was "+e+"ms ago; discarding connection state"),this.clearConnection(),this.states.connecting.failState="suspended")}},r.prototype.persistConnection=function(){if(b()){var t=this.createRecoveryKey();t&&(r={recoveryKey:t,disconnectedAt:i.now(),location:e.location,clientId:this.realtime.auth.clientId},b()&&(null===(o=null===(n=c.default.WebStorage)||void 0===n?void 0:n.setSession)||void 0===o||o.call(n,w,r)))}var r,n,o},r.prototype.unpersistConnection=function(){var e,t;b()&&(null===(t=null===(e=c.default.WebStorage)||void 0===e?void 0:e.removeSession)||void 0===t||t.call(e,w))},r.prototype.getError=function(){return this.errorReason||this.getStateError()},r.prototype.getStateError=function(){var e,t;return null===(t=(e=g.default)[this.state.state])||void 0===t?void 0:t.call(e)},r.prototype.activeState=function(){return this.state.queueEvents||this.state.sendEvents},r.prototype.enactStateChange=function(e){var t="failed"===e.current?p.default.LOG_ERROR:p.default.LOG_MAJOR;p.default.logAction(t,"Connection state",e.current+(e.reason?"; reason: "+e.reason:"")),p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.enactStateChange","setting new state: "+e.current+"; reason = "+(e.reason&&e.reason.message));var r=this.state=this.states[e.current];e.reason&&(this.errorReason=e.reason,this.realtime.connection.errorReason=e.reason),(r.terminal||"suspended"===r.state)&&this.clearConnection(),this.emit("connectionstate",e)},r.prototype.startTransitionTimer=function(e){var t=this;p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.startTransitionTimer()","transitionState: "+e.state),this.transitionTimer&&(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.startTransitionTimer()","clearing already-running timer"),clearTimeout(this.transitionTimer)),this.transitionTimer=setTimeout((function(){t.transitionTimer&&(t.transitionTimer=null,p.default.logAction(p.default.LOG_MINOR,"ConnectionManager "+e.state+" timer expired","requesting new state: "+e.failState),t.notifyState({state:e.failState}))}),e.retryDelay)},r.prototype.cancelTransitionTimer=function(){p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.cancelTransitionTimer()",""),this.transitionTimer&&(clearTimeout(this.transitionTimer),this.transitionTimer=null)},r.prototype.startSuspendTimer=function(){var e=this;this.suspendTimer||(this.suspendTimer=setTimeout((function(){e.suspendTimer&&(e.suspendTimer=null,p.default.logAction(p.default.LOG_MINOR,"ConnectionManager suspend timer expired","requesting new state: suspended"),e.states.connecting.failState="suspended",e.notifyState({state:"suspended"}))}),this.connectionStateTtl))},r.prototype.checkSuspendTimer=function(e){"disconnected"!==e&&"suspended"!==e&&"connecting"!==e&&this.cancelSuspendTimer()},r.prototype.cancelSuspendTimer=function(){this.states.connecting.failState="disconnected",this.suspendTimer&&(clearTimeout(this.suspendTimer),this.suspendTimer=null)},r.prototype.startRetryTimer=function(e){var t=this;this.retryTimer=setTimeout((function(){p.default.logAction(p.default.LOG_MINOR,"ConnectionManager retry timer expired","retrying"),t.retryTimer=null,t.requestState({state:"connecting"})}),e)},r.prototype.cancelRetryTimer=function(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null)},r.prototype.notifyState=function(e){var t,r,n=this,o=e.state,s="disconnected"===o&&(this.state===this.states.connected||this.state===this.states.synchronizing||e.retryImmediately||this.state===this.states.connecting&&e.error&&h.default.isTokenErr(e.error)&&!(this.errorReason&&h.default.isTokenErr(this.errorReason)));if(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.notifyState()","new state: "+o+(s?"; will retry connection immediately":"")),o!=this.state.state&&(this.cancelTransitionTimer(),this.cancelRetryTimer(),this.checkSuspendTimer(e.state),"suspended"!==o&&"connected"!==o||(this.disconnectedRetryCount=0),!this.state.terminal)){var a=this.states[e.state],u=a.retryDelay;"disconnected"===a.state&&(this.disconnectedRetryCount++,u=i.getRetryTime(a.retryDelay,this.disconnectedRetryCount));var l=new d.default(this.state.state,a.state,u,e.error||(null===(r=(t=g.default)[a.state])||void 0===r?void 0:r.call(t)));if(s){var f=function(){n.state===n.states.disconnected&&(n.lastAutoReconnectAttempt=i.now(),n.requestState({state:"connecting"}))},m=this.lastAutoReconnectAttempt&&i.now()-this.lastAutoReconnectAttempt+1;m&&m<1e3?(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.notifyState()","Last reconnect attempt was only "+m+"ms ago, waiting another "+(1e3-m)+"ms before trying again"),setTimeout(f,1e3-m)):c.default.Config.nextTick(f)}else"disconnected"!==o&&"suspended"!==o||this.startRetryTimer(u);("disconnected"===o&&!s||"suspended"===o||a.terminal)&&c.default.Config.nextTick((function(){n.disconnectAllTransports()})),"connected"!=o||this.activeProtocol||p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.notifyState()","Broken invariant: attempted to go into connected state, but there is no active protocol"),this.enactStateChange(l),this.state.sendEvents?this.sendQueuedMessages():this.state.queueEvents||(this.realtime.channels.propogateConnectionInterruption(o,l.reason),this.failQueuedMessages(l.reason))}},r.prototype.requestState=function(e){var t,r,n=this,o=e.state;if(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.requestState()","requested state: "+o+"; current state: "+this.state.state),o!=this.state.state&&(this.cancelTransitionTimer(),this.cancelRetryTimer(),this.checkSuspendTimer(o),!("connecting"==o&&"connected"==this.state.state||"closing"==o&&"closed"==this.state.state))){var i=this.states[o],s=new d.default(this.state.state,i.state,null,e.error||(null===(r=(t=g.default)[i.state])||void 0===r?void 0:r.call(t)));this.enactStateChange(s),"connecting"==o&&c.default.Config.nextTick((function(){n.startConnect()})),"closing"==o&&this.closeImpl()}},r.prototype.startConnect=function(){var e=this;if(this.state===this.states.connecting){var t=this.realtime.auth,r=++this.connectCounter,n=function(){e.checkConnectionStateFreshness(),e.getTransportParams((function(t){if("recover"===t.mode&&t.options.recover){var n=O(t.options.recover);n&&e.realtime.channels.recoverChannels(n.channelSerials)}r===e.connectCounter&&e.connectImpl(t,r)}))};if(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.startConnect()","starting connection"),this.startSuspendTimer(),this.startTransitionTimer(this.states.connecting),"basic"===t.method)n();else{var o=function(t){r===e.connectCounter&&(t?e.actOnErrorFromAuthorize(t):n())};this.errorReason&&h.default.isTokenErr(this.errorReason)?t._forceNewToken(null,null,o):t._ensureValidAuthCredentials(!1,o)}}else p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.startConnect()","Must be in connecting state to connect, but was "+this.state.state)},r.prototype.connectImpl=function(e,t){var r=this.state.state;r!==this.states.connecting.state&&r!==this.states.connected.state?p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.connectImpl()","Must be in connecting state to connect (or connected to upgrade), but was "+r):this.pendingTransports.length?p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.connectImpl()","Transports "+this.pendingTransports[0].toString()+" currently pending; taking no action"):r==this.states.connected.state?this.upgradeIfNeeded(e):this.transports.length>1&&this.getTransportPreference()?this.connectPreference(e,t):this.connectBase(e,t)},r.prototype.connectPreference=function(e,t){var r=this,n=this.getTransportPreference(),o=!1;i.arrIn(this.transports,n)||(this.unpersistTransportPreference(),this.connectImpl(e,t)),p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.connectPreference()","Trying to connect with stored transport preference "+n);var s=setTimeout((function(){o=!0,r.state.state!==r.states.connected.state&&(p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.connectPreference()","Shortcircuit connection attempt with "+n+" failed; clearing preference and trying from scratch"),r.disconnectAllTransports(),r.unpersistTransportPreference()),r.connectImpl(e,t)}),this.options.timeouts.preferenceConnectTimeout);e.host=this.httpHosts[0],this.tryATransport(e,n,(function(n,a){clearTimeout(s),o&&a?(a.off(),a.disconnect(),i.arrDeleteValue(r.pendingTransports,a)):a||n||(r.unpersistTransportPreference(),r.connectImpl(e,t))}))},r.prototype.connectBase=function(e,t){var r=this,n=function(e){r.notifyState({state:r.states.connecting.failState,error:e})},o=this.httpHosts.slice(),s=function(e,n){t===r.connectCounter&&(n||e||c())};p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.connectBase()","Trying to connect with base transport "+this.baseTransport);var a=o.shift();if(a){e.host=a;var c=function(){o.length?r.realtime.http.checkConnectivity?r.realtime.http.checkConnectivity((function(a,c){t===r.connectCounter&&(a?n(a):c?(e.host=i.arrPopRandomElement(o),r.tryATransport(e,r.baseTransport,s)):n(new f.default("Unable to connect (network unreachable)",80003,404)))})):n(new f.PartialErrorInfo("Internal error: Http.checkConnectivity not set",null,500)):n(new f.default("Unable to connect (and no more fallback hosts to try)",80003,404))};if(this.forceFallbackHost&&o.length)return this.forceFallbackHost=!1,void c();this.tryATransport(e,this.baseTransport,s)}else n(new f.default("Unable to connect (no available host)",80003,404))},r.prototype.getUpgradePossibilities=function(){var e=this.activeProtocol.getTransport().shortName,t=i.arrIndexOf(this.upgradeTransports,e);return this.upgradeTransports.slice(t+1)},r.prototype.upgradeIfNeeded=function(e){var t=this,r=this.getUpgradePossibilities();p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.upgradeIfNeeded()","upgrade possibilities: "+c.default.Config.inspect(r)),r.length&&i.arrForEach(r,(function(r){var n=t.createTransportParams(e.host,"upgrade");t.tryATransport(n,r,A)}))},r.prototype.closeImpl=function(){p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.closeImpl()","closing connection"),this.cancelSuspendTimer(),this.startTransitionTimer(this.states.closing),i.safeArrForEach(this.pendingTransports,(function(e){p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.closeImpl()","Closing pending transport: "+e),e&&e.close()})),i.safeArrForEach(this.proposedTransports,(function(e){p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.closeImpl()","Disposing of proposed transport: "+e),e&&e.dispose()})),this.activeProtocol&&(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.closeImpl()","Closing active transport: "+this.activeProtocol.getTransport()),this.activeProtocol.getTransport().close()),this.notifyState({state:"closed"})},r.prototype.onAuthUpdated=function(e,t){var r,n=this;switch(this.state.state){case"connected":if(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Sending AUTH message on active transport"),(this.pendingTransports.length||this.proposedTransports.length)&&this.state!==this.states.synchronizing){this.disconnectAllTransports(!0);var i=this.activeProtocol.getTransport().params;c.default.Config.nextTick((function(){"connected"===n.state.state&&n.upgradeIfNeeded(i)}))}var s=null===(r=this.activeProtocol)||void 0===r?void 0:r.getTransport();s&&s.onAuthUpdated&&s.onAuthUpdated(e);var a=o.default.fromValues({action:T.AUTH,auth:{accessToken:e.token}});this.send(a);var u=function(){n.off(l),t(null,e)},l=function(e){"failed"===e.current&&(n.off(u),n.off(l),t(e.reason||n.getStateError()))};this.once("connectiondetails",u),this.on("connectionstate",l);break;case"connecting":p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Aborting current connection attempts in order to start again with the new auth details"),this.disconnectAllTransports();default:p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Connection state is "+this.state.state+"; waiting until either connected or failed");var d=function(r){switch(r.current){case"connected":n.off(d),t(null,e);break;case"failed":case"closed":case"suspended":n.off(d),t(r.reason||n.getStateError())}};this.on("connectionstate",d),"connecting"===this.state.state?this.startConnect():this.requestState({state:"connecting"})}},r.prototype.disconnectAllTransports=function(e){p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.disconnectAllTransports()","Disconnecting all transports"+(e?" except the active transport":"")),this.connectCounter++,i.safeArrForEach(this.pendingTransports,(function(e){p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disconnecting pending transport: "+e),e&&e.disconnect()})),this.pendingTransports=[],i.safeArrForEach(this.proposedTransports,(function(e){p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disposing of proposed transport: "+e),e&&e.dispose()})),this.proposedTransports=[],this.activeProtocol&&!e&&(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disconnecting active transport: "+this.activeProtocol.getTransport()),this.activeProtocol.getTransport().disconnect())},r.prototype.send=function(e,t,r){r=r||A;var n=this.state;if(n.sendEvents)return p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.send()","sending event"),void this.sendImpl(new s.PendingMessage(e,r));if(!(t&&n.queueEvents||n.forceQueueEvents)){var i="rejecting event, queueEvent was "+t+", state was "+n.state;return p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.send()",i),void r(this.errorReason||new f.default(i,9e4,400))}p.default.shouldLog(p.default.LOG_MICRO)&&p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.send()","queueing msg; "+o.default.stringify(e)),this.queue(e,r)},r.prototype.sendImpl=function(e){var t=e.message;e.ackRequired&&!e.sendAttempted&&(t.msgSerial=this.msgSerial++);try{this.activeProtocol.send(e)}catch(e){p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.sendImpl()","Unexpected exception in transport.send(): "+e.stack)}},r.prototype.queue=function(e,t){p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.queue()","queueing event");var r=this.queuedMessages.last(),n=this.options.maxMessageSize;r&&!r.sendAttempted&&function(e,t,r){var n;if(e.channel!==t.channel)return!1;if((n=e.action)!==T.PRESENCE&&n!==T.MESSAGE)return!1;if(n!==t.action)return!1;var o=n===T.PRESENCE?"presence":"messages",s=e[o].concat(t[o]);return!(m.default.getMessagesSize(s)>r||!i.allSame(s,"clientId")||!i.arrEvery(s,(function(e){return!e.id}))||(e[o]=s,0))}(r.message,e,n)?(r.merged||(r.callback=y.default.create([r.callback]),r.merged=!0),r.callback.push(t)):this.queuedMessages.push(new s.PendingMessage(e,t))},r.prototype.sendQueuedMessages=function(){var e;for(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.sendQueuedMessages()","sending "+this.queuedMessages.count()+" queued messages");e=this.queuedMessages.shift();)this.sendImpl(e)},r.prototype.queuePendingMessages=function(e){e&&e.length&&(p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.queuePendingMessages()","queueing "+e.length+" pending messages"),this.queuedMessages.prepend(e))},r.prototype.failQueuedMessages=function(e){var t=this.queuedMessages.count();t>0&&(p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.failQueuedMessages()","failing "+t+" queued messages, err = "+i.inspectError(e)),this.queuedMessages.completeAllMessages(e))},r.prototype.onChannelMessage=function(e,t){var r=this.activeProtocol&&t===this.activeProtocol.getTransport(),n=i.arrIn(this.pendingTransports,t)&&this.state==this.states.synchronizing;r||n||i.arrIndexOf([T.ACK,T.NACK,T.ERROR],e.action)>-1?this.realtime.channels.onChannelMessage(e):p.default.logAction(p.default.LOG_MICRO,"ConnectionManager.onChannelMessage()","received message "+JSON.stringify(e)+"on defunct transport; discarding")},r.prototype.ping=function(e,t){var r=this;if(e){p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.ping()","transport = "+e);var n=i.now(),o=i.cheapRandStr(),s=function(r){if(r===o){e.off("heartbeat",s),clearTimeout(a);var c=i.now()-n;t(null,c)}},a=setTimeout((function(){e.off("heartbeat",s),t(new f.default("Timeout waiting for heartbeat response",5e4,500))}),this.options.timeouts.realtimeRequestTimeout);return e.on("heartbeat",s),void e.ping(o)}if("connected"===this.state.state){var u=!1,l=function(){u||(u=!0,c.default.Config.nextTick((function(){r.ping(null,t)})))};this.on("transport.active",l),this.ping(this.activeProtocol.getTransport(),(function(e,n){r.off("transport.active",l),u||(u=!0,t(e,n))}))}else t(new f.default("Unable to ping service; not connected",4e4,400))},r.prototype.abort=function(e){this.activeProtocol.getTransport().fail(e)},r.prototype.registerProposedTransport=function(e){this.proposedTransports.push(e)},r.prototype.getTransportPreference=function(){var e,t;return this.transportPreference||E()&&(null===(t=null===(e=c.default.WebStorage)||void 0===e?void 0:e.get)||void 0===t?void 0:t.call(e,R))},r.prototype.persistTransportPreference=function(e){var t,r;i.arrIn(a.default.upgradeTransports,e.shortName)&&(this.transportPreference=e.shortName,E()&&(null===(r=null===(t=c.default.WebStorage)||void 0===t?void 0:t.set)||void 0===r||r.call(t,R,e.shortName)))},r.prototype.unpersistTransportPreference=function(){var e,t;this.transportPreference=null,E()&&(null===(t=null===(e=c.default.WebStorage)||void 0===e?void 0:e.remove)||void 0===t||t.call(e,R))},r.prototype.actOnErrorFromAuthorize=function(e){if(40171===e.code)this.notifyState({state:"failed",error:e});else if(40102===e.code)this.notifyState({state:"failed",error:e});else if(e.statusCode===S.default.Forbidden){var t="Client configured authentication provider returned 403; failing the connection";p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.actOnErrorFromAuthorize()",t),this.notifyState({state:"failed",error:new f.default(t,80019,403,e)})}else t="Client configured authentication provider request failed",p.default.logAction(p.default.LOG_MINOR,"ConnectionManager.actOnErrorFromAuthorize",t),this.notifyState({state:this.state.failState,error:new f.default(t,80019,401,e)})},r.prototype.onConnectionDetailsUpdate=function(e,t){if(e){this.connectionDetails=e,e.maxMessageSize&&(this.options.maxMessageSize=e.maxMessageSize);var r=e.clientId;if(r){var n=this.realtime.auth._uncheckedSetClientId(r);if(n)return p.default.logAction(p.default.LOG_ERROR,"ConnectionManager.onConnectionDetailsUpdate()",n.message),void t.fail(n)}var o=e.connectionStateTtl;o&&(this.connectionStateTtl=o),this.maxIdleInterval=e.maxIdleInterval,this.emit("connectiondetails",e)}},r.supportedTransports={},r}(u.default);t.default=M}).call(this,r(13))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(7)),i=n.__importDefault(r(2)),s=function(e){function t(){var t=e.call(this)||this;return t.messages=[],t}return n.__extends(t,e),t.prototype.count=function(){return this.messages.length},t.prototype.push=function(e){this.messages.push(e)},t.prototype.shift=function(){return this.messages.shift()},t.prototype.last=function(){return this.messages[this.messages.length-1]},t.prototype.copyAll=function(){return this.messages.slice()},t.prototype.append=function(e){this.messages.push.apply(this.messages,e)},t.prototype.prepend=function(e){this.messages.unshift.apply(this.messages,e)},t.prototype.completeMessages=function(e,t,r){i.default.logAction(i.default.LOG_MICRO,"MessageQueue.completeMessages()","serial = "+e+"; count = "+t),r=r||null;var n=this.messages;if(0===n.length)throw new Error("MessageQueue.completeMessages(): completeMessages called on any empty MessageQueue");var o=n[0];if(o){var s=o.message.msgSerial,a=e+t;if(a>s)for(var c=0,u=n.splice(0,a-s);c<u.length;c++)u[c].callback(r);0==n.length&&this.emit("idle")}},t.prototype.completeAllMessages=function(e){this.completeMessages(0,Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,e)},t.prototype.resetSendAttempted=function(){for(var e=0,t=this.messages;e<t.length;e++)t[e].sendAttempted=!1},t.prototype.clear=function(){i.default.logAction(i.default.LOG_MICRO,"MessageQueue.clear()","clearing "+this.messages.length+" messages"),this.messages=[],this.emit("idle")},t}(o.default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r,n){this.previous=e,this.current=t,r&&(this.retryIn=r),n&&(this.reason=n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(10)),i=n.__importDefault(r(7)),s=n.__importStar(r(1)),a=n.__importDefault(r(33)),c=n.__importDefault(r(2)),u=n.__importDefault(r(54)),l=n.__importDefault(r(9)),p=n.__importDefault(r(39)),d=n.__importStar(r(4)),g=n.__importDefault(r(14)),f=n.__importDefault(r(19)),h=o.default.Action,m=function(){},y=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;return o.retryCount=0,o.history=function(e,t){if(c.default.logAction(c.default.LOG_MICRO,"RealtimeChannel.history()","channel = "+this.name),void 0===t)if("function"==typeof e)t=e,e=null;else{if(this.rest.options.promises)return s.promisify(this,"history",arguments);t=m}if(e&&e.untilAttach){if("attached"!==this.state)return void t(new d.default("option untilAttach requires the channel to be attached",4e4,400));if(!this.properties.attachSerial)return void t(new d.default("untilAttach was specified and channel is attached, but attachSerial is not defined",4e4,400));delete e.untilAttach,e.from_serial=this.properties.attachSerial}a.default.prototype._history.call(this,e,t)},o.whenState=function(e,t){return i.default.prototype.whenState.call(o,e,o.state,t)},c.default.logAction(c.default.LOG_MINOR,"RealtimeChannel()","started; name = "+r),o.realtime=t,o.presence=new u.default(o),o.connectionManager=t.connection.connectionManager,o.state="initialized",o.subscriptions=new i.default,o.syncChannelSerial=void 0,o.properties={attachSerial:void 0,channelSerial:void 0},o.setOptions(n),o.errorReason=null,o._requestedFlags=null,o._mode=null,o._attachResume=!1,o._decodingContext={channelOptions:o.channelOptions,plugins:t.options.plugins||{},baseEncodedPreviousPayload:void 0},o._lastPayload={messageId:null,protocolMessageChannelSerial:null,decodeFailureRecoveryInProgress:null},o._allChannelChanges=new i.default,o}return n.__extends(t,e),t.prototype.invalidStateError=function(){return new d.default("Channel operation failed as channel state is "+this.state,90001,400,this.errorReason||void 0)},t.processListenerArgs=function(e){return"function"==typeof(e=Array.prototype.slice.call(e))[0]&&e.unshift(null),null==e[e.length-1]&&e.pop(),e},t.prototype.setOptions=function(e,t){if(!t&&this.rest.options.promises)return s.promisify(this,"setOptions",arguments);var r=t||function(e){e&&c.default.logAction(c.default.LOG_ERROR,"RealtimeChannel.setOptions()","Set options failed: "+e.toString())},n=function(e){if(e&&"params"in e&&!s.isObject(e.params))return new d.default("options.params must be an object",4e4,400);if(e&&"modes"in e){if(!s.isArray(e.modes))return new d.default("options.modes must be an array",4e4,400);for(var t=0;t<e.modes.length;t++){var r=e.modes[t];if(!r||"string"!=typeof r||!s.arrIn(o.default.channelModes,String.prototype.toUpperCase.call(r)))return new d.default("Invalid channel mode: "+r,4e4,400)}}}(e);n?r(n):(a.default.prototype.setOptions.call(this,e),this._decodingContext&&(this._decodingContext.channelOptions=this.channelOptions),this._shouldReattachToSetOptions(e)?(this.attachImpl(),this._allChannelChanges.once(["attached","update","detached","failed"],(function(e){switch(this.event){case"update":case"attached":return void(null==r||r(null));default:return void(null==r||r(e.reason))}}))):r())},t.prototype._shouldReattachToSetOptions=function(e){return("attached"===this.state||"attaching"===this.state)&&((null==e?void 0:e.params)||(null==e?void 0:e.modes))},t.prototype.publish=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],o=t.length,i=t[o-1];if("function"!=typeof i){if(this.realtime.options.promises)return s.promisify(this,"publish",arguments);i=m,++o}if(this.connectionManager.activeState()){if(2==o)if(s.isObject(n))n=[l.default.fromValues(n)];else{if(!s.isArray(n))throw new d.default("The single-argument form of publish() expects a message object or an array of message objects",40013,400);n=l.default.fromValuesArray(n)}else n=[l.default.fromValues({name:t[0],data:t[1]})];var a=this.realtime.options.maxMessageSize;l.default.encodeArray(n,this.channelOptions,(function(t){if(t)i(t);else{var r=l.default.getMessagesSize(n);r>a?i(new d.default("Maximum size of messages that can be published at once exceeded ( was "+r+" bytes; limit is "+a+" bytes)",40009,400)):e.__publish(n,i)}}))}else i(this.connectionManager.getError())},t.prototype.__publish=function(e,t){c.default.logAction(c.default.LOG_MICRO,"RealtimeChannel.publish()","message count = "+e.length);var r=this.state;switch(r){case"failed":case"suspended":t(d.default.fromValues(this.invalidStateError()));break;default:c.default.logAction(c.default.LOG_MICRO,"RealtimeChannel.publish()","sending message; channel state is "+r);var n=new o.default;n.action=h.MESSAGE,n.channel=this.name,n.messages=e,this.sendMessage(n,t)}},t.prototype.onEvent=function(e){c.default.logAction(c.default.LOG_MICRO,"RealtimeChannel.onEvent()","received message");for(var t=this.subscriptions,r=0;r<e.length;r++){var n=e[r];t.emit(n.name,n)}},t.prototype.attach=function(e,t){var r;if("function"==typeof e?(t=e,r=null):r=e,!t){if(this.realtime.options.promises)return s.promisify(this,"attach",arguments);t=function(e){e&&c.default.logAction(c.default.LOG_MAJOR,"RealtimeChannel.attach()","Channel attach failed: "+e.toString())}}if(r)c.default.deprecated("channel.attach() with flags","channel.setOptions() with channelOptions.params"),this._requestedFlags=r;else if("attached"===this.state)return void t(null,null);this._attach(!1,null,t)},t.prototype._attach=function(e,t,r){r||(r=function(e){e&&c.default.logAction(c.default.LOG_ERROR,"RealtimeChannel._attach()","Channel attach failed: "+e.toString())});var n=this.connectionManager;n.activeState()?(("attaching"!==this.state||e)&&this.requestState("attaching",t),this.once((function(e){switch(this.event){case"attached":null==r||r(null,e);break;case"detached":case"suspended":case"failed":null==r||r(e.reason||n.getError()||new d.default("Unable to attach; reason unknown; state = "+this.event,9e4,500));break;case"detaching":null==r||r(new d.default("Attach request superseded by a subsequent detach request",9e4,409))}}))):r(n.getError())},t.prototype.attachImpl=function(){c.default.logAction(c.default.LOG_MICRO,"RealtimeChannel.attachImpl()","sending ATTACH message");var e=o.default.fromValues({action:h.ATTACH,channel:this.name,params:this.channelOptions.params,channelSerial:this.properties.channelSerial});this._requestedFlags?e.encodeModesToFlags(this._requestedFlags):this.channelOptions.modes&&e.encodeModesToFlags(s.allToUpperCase(this.channelOptions.modes)),this._attachResume&&e.setFlag("ATTACH_RESUME"),this._lastPayload.decodeFailureRecoveryInProgress&&(e.channelSerial=this._lastPayload.protocolMessageChannelSerial),this.sendMessage(e,m)},t.prototype.detach=function(e){if(!e){if(this.realtime.options.promises)return s.promisify(this,"detach",arguments);e=m}var t=this.connectionManager;if(t.activeState())switch(this.state){case"suspended":this.notifyState("detached"),e();break;case"detached":e();break;case"failed":e(new d.default("Unable to detach; channel state = failed",90001,400));break;default:this.requestState("detaching");case"detaching":this.once((function(r){switch(this.event){case"detached":e();break;case"attached":case"suspended":case"failed":e(r.reason||t.getError()||new d.default("Unable to detach; reason unknown; state = "+this.event,9e4,500));break;case"attaching":e(new d.default("Detach request superseded by a subsequent attach request",9e4,409))}}))}else e(t.getError())},t.prototype.detachImpl=function(e){c.default.logAction(c.default.LOG_MICRO,"RealtimeChannel.detach()","sending DETACH message");var t=o.default.fromValues({action:h.DETACH,channel:this.name});this.sendMessage(t,e||m)},t.prototype.subscribe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.processListenerArgs(e),o=n[0],i=n[1],a=n[2];return!a&&this.realtime.options.promises?s.promisify(this,"subscribe",[o,i]):"failed"!==this.state?(o&&"object"==typeof o&&!Array.isArray(o)?this._subscribeFilter(o,i):this.subscriptions.on(o,i),this.attach(a||m)):void(null==a||a(d.default.fromValues(this.invalidStateError())))},t.prototype._subscribeFilter=function(e,t){var r=function(r){var n,o,i,s,a,c,u={name:r.name,refTimeserial:null===(o=null===(n=r.extras)||void 0===n?void 0:n.ref)||void 0===o?void 0:o.timeserial,refType:null===(s=null===(i=r.extras)||void 0===i?void 0:i.ref)||void 0===s?void 0:s.type,isRef:!!(null===(c=null===(a=r.extras)||void 0===a?void 0:a.ref)||void 0===c?void 0:c.timeserial),clientId:r.clientId};Object.entries(e).find((function(e){var t=e[0],r=e[1];return void 0!==r&&u[t]!==r}))||t(r)};this._addFilteredSubscription(e,t,r),this.subscriptions.on(r)},t.prototype._addFilteredSubscription=function(e,t,r){var n;if(this.filteredSubscriptions||(this.filteredSubscriptions=new Map),this.filteredSubscriptions.has(t)){var o=this.filteredSubscriptions.get(t);o.set(e,(null===(n=null==o?void 0:o.get(e))||void 0===n?void 0:n.concat(r))||[r])}else this.filteredSubscriptions.set(t,new Map([[e,[r]]]))},t.prototype._getAndDeleteFilteredSubscriptions=function(e,t){var r=this;if(!this.filteredSubscriptions)return[];if(!t&&e)return Array.from(this.filteredSubscriptions.entries()).map((function(t){var n,o=t[0],i=t[1],s=i.get(e);return i.delete(e),0===i.size&&(null===(n=r.filteredSubscriptions)||void 0===n||n.delete(o)),s})).reduce((function(e,t){var r;return t?(r=e).concat.apply(r,t):e}),[]);if(!t||!this.filteredSubscriptions.has(t))return[];var n=this.filteredSubscriptions.get(t);if(!e){var o=Array.from(n.values()).reduce((function(e,t){return e.concat.apply(e,t)}),[]);return this.filteredSubscriptions.delete(t),o}var i=n.get(e);return n.delete(e),i||[]},t.prototype.unsubscribe=function(){for(var e,r=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=t.processListenerArgs(n),s=i[0],a=i[1];"object"==typeof s&&!a||(null===(e=this.filteredSubscriptions)||void 0===e?void 0:e.has(a))?this._getAndDeleteFilteredSubscriptions(s,a).forEach((function(e){return r.subscriptions.off(e)})):this.subscriptions.off(s,a)},t.prototype.sync=function(){switch(this.state){case"initialized":case"detaching":case"detached":throw new d.PartialErrorInfo("Unable to sync to channel; not attached",4e4)}var e=this.connectionManager;if(!e.activeState())throw e.getError();var t=o.default.fromValues({action:h.SYNC,channel:this.name});this.syncChannelSerial&&(t.channelSerial=this.syncChannelSerial),e.send(t)},t.prototype.sendMessage=function(e,t){this.connectionManager.send(e,this.realtime.options.queueMessages,t)},t.prototype.sendPresence=function(e,t){var r=o.default.fromValues({action:h.PRESENCE,channel:this.name,presence:s.isArray(e)?g.default.fromValuesArray(e):[g.default.fromValues(e)]});this.sendMessage(r,t)},t.prototype.onMessage=function(e){e.action!==h.ATTACHED&&e.action!==h.MESSAGE&&e.action!==h.PRESENCE||this.setChannelSerial(e.channelSerial);var t,r=!1;switch(e.action){case h.ATTACHED:this.properties.attachSerial=e.channelSerial,this._mode=e.getMode(),this.params=e.params||{};var n=e.decodeModesFromFlags();this.modes=n&&s.allToLowerCase(n)||void 0;var o=e.hasFlag("RESUMED"),i=e.hasFlag("HAS_PRESENCE"),a=e.hasFlag("HAS_BACKLOG");if("attached"===this.state){o||this.presence.onAttached(i);var u=new p.default(this.state,this.state,o,a,e.error);this._allChannelChanges.emit("update",u),o&&!this.channelOptions.updateOnAttached||this.emit("update",u)}else"detaching"===this.state?this.checkPendingState():this.notifyState("attached",e.error,o,i,a);break;case h.DETACHED:var m=e.error?d.default.fromValues(e.error):new d.default("Channel detached",90001,404);"detaching"===this.state?this.notifyState("detached",m):"attaching"===this.state?this.notifyState("suspended",m):this.requestState("attaching",m);break;case h.SYNC:if(r=!0,t=this.syncChannelSerial=e.channelSerial,!e.presence)break;case h.PRESENCE:for(var y=e.presence,_=e.id,v=e.connectionId,S=e.timestamp,E=this.channelOptions,b=void 0,T=0;T<y.length;T++)try{b=y[T],g.default.decode(b,E),b.connectionId||(b.connectionId=v),b.timestamp||(b.timestamp=S),b.id||(b.id=_+":"+T)}catch(e){c.default.logAction(c.default.LOG_ERROR,"RealtimeChannel.onMessage()",e.toString())}this.presence.setPresence(y,r,t);break;case h.MESSAGE:if("attached"!==this.state)return void c.default.logAction(c.default.LOG_MAJOR,"RealtimeChannel.onMessage()",'Message "'+e.id+'" skipped as this channel "'+this.name+'" state is not "attached" (state is "'+this.state+'").');var A=e.messages,R=A[0],w=A[A.length-1];if(_=e.id,v=e.connectionId,S=e.timestamp,R.extras&&R.extras.delta&&R.extras.delta.from!==this._lastPayload.messageId){var O='Delta message decode failure - previous message not available for message "'+e.id+'" on this channel "'+this.name+'".';c.default.logAction(c.default.LOG_ERROR,"RealtimeChannel.onMessage()",O),this._startDecodeFailureRecovery(new d.default(O,40018,400));break}for(T=0;T<A.length;T++){O=A[T];try{l.default.decode(O,this._decodingContext)}catch(e){switch(c.default.logAction(c.default.LOG_ERROR,"RealtimeChannel.onMessage()",e.toString()),e.code){case 40018:return void this._startDecodeFailureRecovery(e);case 40019:case 40021:return void this.notifyState("failed",e)}}O.connectionId||(O.connectionId=v),O.timestamp||(O.timestamp=S),O.id||(O.id=_+":"+T)}this._lastPayload.messageId=w.id,this._lastPayload.protocolMessageChannelSerial=e.channelSerial,this.onEvent(A);break;case h.ERROR:var C=e.error;C&&80016==C.code?this.checkPendingState():this.notifyState("failed",d.default.fromValues(C));break;default:c.default.logAction(c.default.LOG_ERROR,"RealtimeChannel.onMessage()","Fatal protocol error: unrecognised action ("+e.action+")"),this.connectionManager.abort(f.default.unknownChannelErr())}},t.prototype._startDecodeFailureRecovery=function(e){var t=this;this._lastPayload.decodeFailureRecoveryInProgress||(c.default.logAction(c.default.LOG_MAJOR,"RealtimeChannel.onMessage()","Starting decode failure recovery process."),this._lastPayload.decodeFailureRecoveryInProgress=!0,this._attach(!0,e,(function(){t._lastPayload.decodeFailureRecoveryInProgress=!1})))},t.prototype.onAttached=function(){c.default.logAction(c.default.LOG_MINOR,"RealtimeChannel.onAttached","activating channel; name = "+this.name)},t.prototype.notifyState=function(e,t,r,n,o){if(c.default.logAction(c.default.LOG_MICRO,"RealtimeChannel.notifyState","name = "+this.name+", current state = "+this.state+", notifying state "+e),this.clearStateTimer(),s.arrIn(["detached","suspended","failed"],e)&&(this.properties.channelSerial=null),e!==this.state){this.presence.actOnChannelState(e,n,t),"suspended"===e&&this.connectionManager.state.sendEvents?this.startRetryTimer():this.cancelRetryTimer(),t&&(this.errorReason=t);var i=new p.default(this.state,e,r,o,t),a="failed"===e?c.default.LOG_ERROR:c.default.LOG_MAJOR;c.default.logAction(a,'Channel state for channel "'+this.name+'"',e+(t?"; reason: "+t:"")),"attaching"!==e&&"suspended"!==e&&(this.retryCount=0),"attached"===e&&this.onAttached(),"attached"===e?this._attachResume=!0:"detaching"!==e&&"failed"!==e||(this._attachResume=!1),this.state=e,this._allChannelChanges.emit(e,i),this.emit(e,i)}},t.prototype.requestState=function(e,t){c.default.logAction(c.default.LOG_MINOR,"RealtimeChannel.requestState","name = "+this.name+", state = "+e),this.notifyState(e,t),this.checkPendingState()},t.prototype.checkPendingState=function(){var e=this.connectionManager.state;if(e.sendEvents||e.forceQueueEvents)switch(c.default.logAction(c.default.LOG_MINOR,"RealtimeChannel.checkPendingState","name = "+this.name+", state = "+this.state),this.state){case"attaching":this.startStateTimerIfNotRunning(),this.attachImpl();break;case"detaching":this.startStateTimerIfNotRunning(),this.detachImpl();break;case"attached":this.sync()}else c.default.logAction(c.default.LOG_MINOR,"RealtimeChannel.checkPendingState","sendEvents is false; state is "+this.connectionManager.state.state)},t.prototype.timeoutPendingState=function(){switch(this.state){case"attaching":var e=new d.default("Channel attach timed out",90007,408);this.notifyState("suspended",e);break;case"detaching":e=new d.default("Channel detach timed out",90007,408),this.notifyState("attached",e);break;default:this.checkPendingState()}},t.prototype.startStateTimerIfNotRunning=function(){var e=this;this.stateTimer||(this.stateTimer=setTimeout((function(){c.default.logAction(c.default.LOG_MINOR,"RealtimeChannel.startStateTimerIfNotRunning","timer expired"),e.stateTimer=null,e.timeoutPendingState()}),this.realtime.options.timeouts.realtimeRequestTimeout))},t.prototype.clearStateTimer=function(){var e=this.stateTimer;e&&(clearTimeout(e),this.stateTimer=null)},t.prototype.startRetryTimer=function(){var e=this;if(!this.retryTimer){this.retryCount++;var t=s.getRetryTime(this.realtime.options.timeouts.channelRetryTimeout,this.retryCount);this.retryTimer=setTimeout((function(){"suspended"===e.state&&e.connectionManager.state.sendEvents&&(e.retryTimer=null,c.default.logAction(c.default.LOG_MINOR,"RealtimeChannel retry timer expired","attempting a new attach"),e.requestState("attaching"))}),t)}},t.prototype.cancelRetryTimer=function(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null)},t.prototype.getReleaseErr=function(){var e=this.state;return"initialized"===e||"detached"===e||"failed"===e?null:new d.default("Can only release a channel in a state where there is no possibility of further updates from the server being received (initialized, detached, or failed); was "+e,90001,400)},t.prototype.setChannelSerial=function(e){c.default.logAction(c.default.LOG_MICRO,"RealtimeChannel.setChannelSerial()","Updating channel serial; serial = "+e+"; previous = "+this.properties.channelSerial),e&&(this.properties.channelSerial=e)},t}(a.default);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r,n,o){this.previous=e,this.current=t,"attached"===t&&(this.resumed=r,this.hasBacklog=n),o&&(this.reason=o)}},function(e,t,r){var n,o,i,s,a,c,u,l;e.exports=(o=(n=l=r(6)).lib,i=o.WordArray,s=o.Hasher,a=n.algo,c=[],u=a.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],s=r[3],a=r[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var p=(n<<5|n>>>27)+a+c[u];p+=u<20?1518500249+(o&i|~o&s):u<40?1859775393+(o^i^s):u<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,a=s,s=i,i=o<<30|o>>>2,o=n,n=p}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=s._createHelper(u),n.HmacSHA1=s._createHmacHelper(u),l.SHA1)},function(e,t,r){"use strict";function n(e,t,r){for(var n=0,o=r.length;n<o;n++){var i=r.charCodeAt(n);if(i<128)e.setUint8(t++,i>>>0&127);else if(i<2048)e.setUint8(t++,i>>>6&31|192),e.setUint8(t++,i>>>0&63|128);else if(i<65536)e.setUint8(t++,i>>>12&15|224),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128);else{if(!(i<1114112))throw new Error("bad codepoint "+i);e.setUint8(t++,i>>>18&7|240),e.setUint8(t++,i>>>12&63|128),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128)}}}function o(e,t,r){for(var n="",o=t,i=t+r;o<i;o++){var s=e.getUint8(o);if(128&s)if(192!=(224&s))if(224!=(240&s)){if(240!=(248&s))throw new Error("Invalid byte "+s.toString(16));n+=String.fromCharCode((7&s)<<18|(63&e.getUint8(++o))<<12|(63&e.getUint8(++o))<<6|63&e.getUint8(++o))}else n+=String.fromCharCode((15&s)<<12|(63&e.getUint8(++o))<<6|63&e.getUint8(++o));else n+=String.fromCharCode((15&s)<<6|63&e.getUint8(++o));else n+=String.fromCharCode(s)}return n}function i(e){for(var t=0,r=0,n=e.length;r<n;r++){var o=e.charCodeAt(r);if(o<128)t+=1;else if(o<2048)t+=2;else if(o<65536)t+=3;else{if(!(o<1114112))throw new Error("bad codepoint "+o);t+=4}}return t}Object.defineProperty(t,"__esModule",{value:!0});var s=4294967296,a=1/s,c=function(e,t){var r=this;this.map=function(e){for(var t={},n=0;n<e;n++)t[r.parse()]=r.parse();return t},this.bin=function(e){var t=new ArrayBuffer(e);return new Uint8Array(t).set(new Uint8Array(r.view.buffer,r.offset,e),0),r.offset+=e,t},this.buf=this.bin,this.str=function(e){var t=o(r.view,r.offset,e);return r.offset+=e,t},this.array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=r.parse();return t},this.ext=function(e){return r.offset+=e,{type:r.view.getInt8(r.offset),data:r.buf(e)}},this.parse=function(){var e,t,n=r.view.getUint8(r.offset);if(!(128&n))return r.offset++,n;if(128==(240&n))return t=15&n,r.offset++,r.map(t);if(144==(240&n))return t=15&n,r.offset++,r.array(t);if(160==(224&n))return t=31&n,r.offset++,r.str(t);if(!(224&~n))return e=r.view.getInt8(r.offset),r.offset++,e;switch(n){case 192:return r.offset++,null;case 193:return void r.offset++;case 194:return r.offset++,!1;case 195:return r.offset++,!0;case 196:return t=r.view.getUint8(r.offset+1),r.offset+=2,r.bin(t);case 197:return t=r.view.getUint16(r.offset+1),r.offset+=3,r.bin(t);case 198:return t=r.view.getUint32(r.offset+1),r.offset+=5,r.bin(t);case 199:return t=r.view.getUint8(r.offset+1),r.offset+=2,r.ext(t);case 200:return t=r.view.getUint16(r.offset+1),r.offset+=3,r.ext(t);case 201:return t=r.view.getUint32(r.offset+1),r.offset+=5,r.ext(t);case 202:return e=r.view.getFloat32(r.offset+1),r.offset+=5,e;case 203:return e=r.view.getFloat64(r.offset+1),r.offset+=9,e;case 204:return e=r.view.getUint8(r.offset+1),r.offset+=2,e;case 205:return e=r.view.getUint16(r.offset+1),r.offset+=3,e;case 206:return e=r.view.getUint32(r.offset+1),r.offset+=5,e;case 207:return e=function(e,t){return t=t||0,e.getUint32(t)*s+e.getUint32(t+4)}(r.view,r.offset+1),r.offset+=9,e;case 208:return e=r.view.getInt8(r.offset+1),r.offset+=2,e;case 209:return e=r.view.getInt16(r.offset+1),r.offset+=3,e;case 210:return e=r.view.getInt32(r.offset+1),r.offset+=5,e;case 211:return e=function(e,t){return t=t||0,e.getInt32(t)*s+e.getUint32(t+4)}(r.view,r.offset+1),r.offset+=9,e;case 212:return t=1,r.offset++,r.ext(t);case 213:return t=2,r.offset++,r.ext(t);case 214:return t=4,r.offset++,r.ext(t);case 215:return t=8,r.offset++,r.ext(t);case 216:return t=16,r.offset++,r.ext(t);case 217:return t=r.view.getUint8(r.offset+1),r.offset+=2,r.str(t);case 218:return t=r.view.getUint16(r.offset+1),r.offset+=3,r.str(t);case 219:return t=r.view.getUint32(r.offset+1),r.offset+=5,r.str(t);case 220:return t=r.view.getUint16(r.offset+1),r.offset+=3,r.array(t);case 221:return t=r.view.getUint32(r.offset+1),r.offset+=5,r.array(t);case 222:return t=r.view.getUint16(r.offset+1),r.offset+=3,r.map(t);case 223:return t=r.view.getUint32(r.offset+1),r.offset+=5,r.map(t)}throw new Error("Unknown type 0x"+n.toString(16))},this.offset=t||0,this.view=e};function u(e,t){return Object.keys(e).filter((function(r){var n=e[r];return!(t&&null==n||"function"==typeof n&&!n.toJSON)}))}function l(e,t,r,o){var s=typeof e;if("string"==typeof e){var c=i(e);if(c<32)return t.setUint8(r,160|c),n(t,r+1,e),1+c;if(c<256)return t.setUint8(r,217),t.setUint8(r+1,c),n(t,r+2,e),2+c;if(c<65536)return t.setUint8(r,218),t.setUint16(r+1,c),n(t,r+3,e),3+c;if(c<4294967296)return t.setUint8(r,219),t.setUint32(r+1,c),n(t,r+5,e),5+c}if(ArrayBuffer.isView&&ArrayBuffer.isView(e)&&(e=e.buffer),e instanceof ArrayBuffer){var p=e.byteLength;if(p<256)return t.setUint8(r,196),t.setUint8(r+1,p),new Uint8Array(t.buffer).set(new Uint8Array(e),r+2),2+p;if(p<65536)return t.setUint8(r,197),t.setUint16(r+1,p),new Uint8Array(t.buffer).set(new Uint8Array(e),r+3),3+p;if(p<4294967296)return t.setUint8(r,198),t.setUint32(r+1,p),new Uint8Array(t.buffer).set(new Uint8Array(e),r+5),5+p}if("number"==typeof e){if(Math.floor(e)!==e)return t.setUint8(r,203),t.setFloat64(r+1,e),9;if(e>=0){if(e<128)return t.setUint8(r,e),1;if(e<256)return t.setUint8(r,204),t.setUint8(r+1,e),2;if(e<65536)return t.setUint8(r,205),t.setUint16(r+1,e),3;if(e<4294967296)return t.setUint8(r,206),t.setUint32(r+1,e),5;if(e<0x10000000000000000)return t.setUint8(r,207),function(e,t,r){r<0x10000000000000000?(e.setUint32(t,Math.floor(r*a)),e.setInt32(t+4,-1&r)):(e.setUint32(t,4294967295),e.setUint32(t+4,4294967295))}(t,r+1,e),9;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return t.setInt8(r,e),1;if(e>=-128)return t.setUint8(r,208),t.setInt8(r+1,e),2;if(e>=-32768)return t.setUint8(r,209),t.setInt16(r+1,e),3;if(e>=-2147483648)return t.setUint8(r,210),t.setInt32(r+1,e),5;if(e>=-0x8000000000000000)return t.setUint8(r,211),function(e,t,r){r<0x8000000000000000?(e.setInt32(t,Math.floor(r*a)),e.setInt32(t+4,-1&r)):(e.setUint32(t,2147483647),e.setUint32(t+4,2147483647))}(t,r+1,e),9;throw new Error("Number too small -0x"+(-e).toString(16).substr(1))}if("undefined"===s)return o?0:(t.setUint8(r,212),t.setUint8(r+1,0),t.setUint8(r+2,0),3);if(null===e)return o?0:(t.setUint8(r,192),1);if("boolean"===s)return t.setUint8(r,e?195:194),1;if("function"==typeof e.toJSON)return l(e.toJSON(),t,r,o);if("object"===s){var d,g=0,f=void 0,h=Array.isArray(e);if((d=h?e.length:(f=u(e,o)).length)<16?(t.setUint8(r,d|(h?144:128)),g=1):d<65536?(t.setUint8(r,h?220:222),t.setUint16(r+1,d),g=3):d<4294967296&&(t.setUint8(r,h?221:223),t.setUint32(r+1,d),g=5),h)for(var m=0;m<d;m++)g+=l(e[m],t,r+g,o);else if(f)for(m=0;m<d;m++){var y=f[m];g+=l(y,t,r+g),g+=l(e[y],t,r+g,o)}return g}if("function"===s)return 0;throw new Error("Unknown type "+s)}function p(e,t){var r=typeof e;if("string"===r){var n=i(e);if(n<32)return 1+n;if(n<256)return 2+n;if(n<65536)return 3+n;if(n<4294967296)return 5+n}if(ArrayBuffer.isView&&ArrayBuffer.isView(e)&&(e=e.buffer),e instanceof ArrayBuffer){var o=e.byteLength;if(o<256)return 2+o;if(o<65536)return 3+o;if(o<4294967296)return 5+o}if("number"==typeof e){if(Math.floor(e)!==e)return 9;if(e>=0){if(e<128)return 1;if(e<256)return 2;if(e<65536)return 3;if(e<4294967296)return 5;if(e<0x10000000000000000)return 9;throw new Error("Number too big 0x"+e.toString(16))}if(e>=-32)return 1;if(e>=-128)return 2;if(e>=-32768)return 3;if(e>=-2147483648)return 5;if(e>=-0x8000000000000000)return 9;throw new Error("Number too small -0x"+e.toString(16).substr(1))}if("boolean"===r)return 1;if(null===e)return t?0:1;if(void 0===e)return t?0:3;if("function"==typeof e.toJSON)return p(e.toJSON(),t);if("object"===r){var s,a=0;if(Array.isArray(e)){s=e.length;for(var c=0;c<s;c++)a+=p(e[c],t)}else{var l=u(e,t);for(s=l.length,c=0;c<s;c++){var d=l[c];a+=p(d)+p(e[d],t)}}if(s<16)return 1+a;if(s<65536)return 3+a;if(s<4294967296)return 5+a;throw new Error("Array or object too long 0x"+s.toString(16))}if("function"===r)return 0;throw new Error("Unknown type "+r)}t.default={encode:function(e,t){var r=p(e,t);if(0!==r){var n=new ArrayBuffer(r);return l(e,new DataView(n),0,t),n}},decode:function(e){var t=new DataView(e),r=new c(t),n=r.parse();if(r.offset!==e.byteLength)throw new Error(e.byteLength-r.offset+" trailing bytes");return n},inspect:function(e){if(void 0===e)return"undefined";var t,r;if(e instanceof ArrayBuffer?(r="ArrayBuffer",t=new DataView(e)):e instanceof DataView&&(r="DataView",t=e),!t)return JSON.stringify(e);for(var n=[],o=0;o<e.byteLength;o++){if(o>20){n.push("...");break}var i=t.getUint8(o).toString(16);1===i.length&&(i="0"+i),n.push(i)}return"<"+r+" "+n.join(" ")+">"},utf8Write:n,utf8Read:o,utf8ByteCount:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(30)),i=n.__importDefault(r(50)),s=n.__importDefault(r(3)),a=n.__importDefault(r(55)),c=n.__importDefault(r(57)),u=n.__importDefault(r(62)),l=n.__importDefault(r(64)),p=n.__importDefault(r(68)),d=n.__importDefault(r(2)),g=r(8),f=n.__importDefault(r(65)),h=n.__importDefault(r(66)),m=n.__importDefault(r(41)),y=(0,c.default)(l.default,a.default);s.default.Crypto=y,s.default.BufferUtils=a.default,s.default.Http=u.default,s.default.Config=l.default,s.default.Transports=p.default,s.default.WebStorage=f.default,o.default.Crypto=y,i.default.Crypto=y,d.default.initLogHandlers(),s.default.Defaults=(0,g.getDefaults)(h.default),s.default.Config.agent&&(s.default.Defaults.agent+=" "+s.default.Config.agent),s.default.Config.noUpgrade&&(s.default.Defaults.upgradeTransports=[]),t.default={Rest:o.default,Realtime:i.default,msgpack:m.default}},function(e){e.exports=JSON.parse('{"name":"ably","description":"Realtime client library for Ably, the realtime messaging service","version":"1.2.42","license":"Apache-2.0","bugs":{"url":"https://github.com/ably/ably-js/issues","email":"support@ably.com"},"main":"./build/ably-node.js","typings":"./ably.d.ts","react-native":{"./build/ably-node.js":"./build/ably-reactnative.js"},"browser":{"./build/ably-node.js":"./build/ably-commonjs.js"},"files":["build/**","ably.d.ts","callbacks.d.ts","callbacks.js","promises.d.ts","promises.js","resources/**"],"dependencies":{"@ably/msgpack-js":"^0.4.0","got":"^11.8.5","ws":"^5.1"},"devDependencies":{"@ably/vcdiff-decoder":"1.0.4","@types/crypto-js":"^4.0.1","@types/node":"^15.0.0","@types/request":"^2.48.7","@types/ws":"^8.2.0","@typescript-eslint/eslint-plugin":"^5.14.0","@typescript-eslint/parser":"^5.14.0","async":"ably-forks/async#requirejs","aws-sdk":"^2.1413.0","chai":"^4.2.0","copy-webpack-plugin":"^6.4.1","cors":"^2.8.5","crypto-js":"ably-forks/crypto-js#crypto-lite","eslint":"^7.13.0","eslint-plugin-jsdoc":"^40.0.0","eslint-plugin-security":"^1.4.0","express":"^4.17.1","glob":"~4.4","google-closure-compiler":"^20180610.0.1","grunt":"^1.6.1","grunt-bump":"^0.3.1","grunt-cli":"~1.2.0","grunt-closure-tools":"^1.0.0","grunt-contrib-concat":"~0.5","grunt-shell":"~1.1","grunt-webpack":"^4.0.2","hexy":"~0.2","kexec":"ably-forks/node-kexec#update-for-node-12","minimist":"^1.2.5","mocha":"^8.1.3","null-loader":"^4.0.1","playwright":"^1.10.0","prettier":"^2.5.1","requirejs":"~2.1","shelljs":"~0.8","source-map-explorer":"^2.5.2","ts-loader":"^8.2.0","tsconfig-paths-webpack-plugin":"^4.0.1","tslib":"^2.3.1","typedoc":"^0.23.8","typescript":"^4.6.4","webpack":"^4.44.2","webpack-cli":"^4.2.0"},"engines":{"node":">=5.10.x"},"repository":"ably/ably-js","jspm":{"registry":"npm","directories":{"lib":"build"},"main":"ably"},"scripts":{"grunt":"grunt","test":"grunt test","test:node":"grunt test:node","test:node:skip-build":"grunt mocha","test:webserver":"grunt test:webserver","test:playwright":"node test/support/runPlaywrightTests.js","concat":"grunt concat","build":"grunt build:all","build:node":"grunt build:node","build:browser":"grunt build:browser","requirejs":"grunt requirejs","lint":"eslint .","lint:fix":"eslint --fix .","check-closure-compiler":"grunt check-closure-compiler","prepare":"npm run build","format":"prettier --write --ignore-path .gitignore --ignore-path .prettierignore src test ably.d.ts webpack.config.js Gruntfile.js scripts/cdn_deploy.js docs/chrome-mv3.md","format:check":"prettier --check --ignore-path .gitignore --ignore-path .prettierignore src test ably.d.ts webpack.config.js Gruntfile.js scripts/cdn_deploy.js","sourcemap":"source-map-explorer build/ably.min.js","sourcemap:noencryption":"source-map-explorer build/ably.noencryption.min.js","docs":"typedoc --entryPoints ably.d.ts --out docs/generated/default --readme docs/landing-pages/default.md && typedoc --entryPoints promises.d.ts --out docs/generated/promises --name \\"ably (Promise-based)\\" --readme docs/landing-pages/promises.md && cp docs/landing-pages/choose-library.html docs/generated/index.html"}}')},function(e,t){},function(e,t,r){var n;e.exports=(n=r(6),r(32),r(23),n.HmacSHA256)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(47)),s=n.__importDefault(r(25)),a=n.__importDefault(r(18)),c=n.__importDefault(r(4)),u=n.__importDefault(r(48)),l=function(){},p=function(){function e(e){this.rest=e,this.deviceRegistrations=new d(e),this.channelSubscriptions=new g(e)}return e.prototype.publish=function(e,t,r){var n=this.rest,i=n.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,a=o.defaultPostHeaders(n.options,i),c={},u=o.mixin({recipient:e},t);if("function"!=typeof r){if(this.rest.options.promises)return o.promisify(this,"publish",arguments);r=l}n.options.headers&&o.mixin(a,n.options.headers),n.options.pushFullWait&&o.mixin(c,{fullWait:"true"});var p=o.encodeBody(u,i);s.default.post(n,"/push/publish",p,a,c,null,(function(e){return r(e)}))},e}(),d=function(){function e(e){this.rest=e}return e.prototype.save=function(e,t){var r=this.rest,n=i.default.fromValues(e),a=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,c=o.defaultPostHeaders(r.options,a),u={};if("function"!=typeof t){if(this.rest.options.promises)return o.promisify(this,"save",arguments);t=l}r.options.headers&&o.mixin(c,r.options.headers),r.options.pushFullWait&&o.mixin(u,{fullWait:"true"});var p=o.encodeBody(n,a);s.default.put(r,"/push/deviceRegistrations/"+encodeURIComponent(e.id),p,c,u,null,(function(e,r,n,o){t(e,e?void 0:i.default.fromResponseBody(r,o?void 0:a))}))},e.prototype.get=function(e,t){var r=this.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,a=o.defaultGetHeaders(r.options,n),u=e.id||e;if("function"!=typeof t){if(this.rest.options.promises)return o.promisify(this,"get",arguments);t=l}"string"==typeof u&&u.length?(r.options.headers&&o.mixin(a,r.options.headers),s.default.get(r,"/push/deviceRegistrations/"+encodeURIComponent(u),a,{},null,(function(e,r,o,s){t(e,e?void 0:i.default.fromResponseBody(r,s?void 0:n))}))):t(new c.default("First argument to DeviceRegistrations#get must be a deviceId string or DeviceDetails",4e4,400))},e.prototype.list=function(e,t){var r=this.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,s=this.rest.http.supportsLinkHeaders?void 0:n,c=o.defaultGetHeaders(r.options,n);if("function"!=typeof t){if(this.rest.options.promises)return o.promisify(this,"list",arguments);t=l}r.options.headers&&o.mixin(c,r.options.headers),new a.default(r,"/push/deviceRegistrations",c,s,(function(e,t,r){return i.default.fromResponseBody(e,r?void 0:n)})).get(e,t)},e.prototype.remove=function(e,t){var r=this.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,i=o.defaultGetHeaders(r.options,n),a={},u=e.id||e;if("function"!=typeof t){if(this.rest.options.promises)return o.promisify(this,"remove",arguments);t=l}"string"==typeof u&&u.length?(r.options.headers&&o.mixin(i,r.options.headers),r.options.pushFullWait&&o.mixin(a,{fullWait:"true"}),s.default.delete(r,"/push/deviceRegistrations/"+encodeURIComponent(u),i,a,null,(function(e){return t(e)}))):t(new c.default("First argument to DeviceRegistrations#remove must be a deviceId string or DeviceDetails",4e4,400))},e.prototype.removeWhere=function(e,t){var r=this.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,i=o.defaultGetHeaders(r.options,n);if("function"!=typeof t){if(this.rest.options.promises)return o.promisify(this,"removeWhere",arguments);t=l}r.options.headers&&o.mixin(i,r.options.headers),r.options.pushFullWait&&o.mixin(e,{fullWait:"true"}),s.default.delete(r,"/push/deviceRegistrations",i,e,null,(function(e){return t(e)}))},e}(),g=function(){function e(t){this.remove=e.prototype.removeWhere,this.rest=t}return e.prototype.save=function(e,t){var r=this.rest,n=u.default.fromValues(e),i=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,a=o.defaultPostHeaders(r.options,i),c={};if("function"!=typeof t){if(this.rest.options.promises)return o.promisify(this,"save",arguments);t=l}r.options.headers&&o.mixin(a,r.options.headers),r.options.pushFullWait&&o.mixin(c,{fullWait:"true"});var p=o.encodeBody(n,i);s.default.post(r,"/push/channelSubscriptions",p,a,c,null,(function(e,r,n,o){t(e,!e&&u.default.fromResponseBody(r,o?void 0:i))}))},e.prototype.list=function(e,t){var r=this.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,i=this.rest.http.supportsLinkHeaders?void 0:n,s=o.defaultGetHeaders(r.options,n);if("function"!=typeof t){if(this.rest.options.promises)return o.promisify(this,"list",arguments);t=l}r.options.headers&&o.mixin(s,r.options.headers),new a.default(r,"/push/channelSubscriptions",s,i,(function(e,t,r){return u.default.fromResponseBody(e,r?void 0:n)})).get(e,t)},e.prototype.removeWhere=function(e,t){var r=this.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,i=o.defaultGetHeaders(r.options,n);if("function"!=typeof t){if(this.rest.options.promises)return o.promisify(this,"removeWhere",arguments);t=l}r.options.headers&&o.mixin(i,r.options.headers),r.options.pushFullWait&&o.mixin(e,{fullWait:"true"}),s.default.delete(r,"/push/channelSubscriptions",i,e,null,(function(e){return t(e)}))},e.prototype.listChannels=function(e,t){var r=this.rest,n=r.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,i=this.rest.http.supportsLinkHeaders?void 0:n,s=o.defaultGetHeaders(r.options,n);if("function"!=typeof t){if(this.rest.options.promises)return o.promisify(this,"listChannels",arguments);t=l}r.options.headers&&o.mixin(s,r.options.headers),r.options.pushFullWait&&o.mixin(e,{fullWait:"true"}),new a.default(r,"/push/channels",s,i,(function(e,t,r){for(var i=!r&&n?o.decodeBody(e,n):e,s=0;s<i.length;s++)i[s]=String(i[s]);return i})).get(e,t)},e}();t.default=function(e){this.rest=e,this.admin=new p(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=r(0),s=i.__importStar(r(1)),a=i.__importDefault(r(4));!function(e){e.Phone="phone",e.Tablet="tablet",e.Desktop="desktop",e.TV="tv",e.Watch="watch",e.Car="car",e.Embedded="embedded",e.Other="other"}(n||(n={})),function(e){e.Android="android",e.IOS="ios",e.Browser="browser"}(o||(o={}));var c=function(){function e(){}return e.prototype.toJSON=function(){var e,t,r;return{id:this.id,deviceSecret:this.deviceSecret,platform:this.platform,formFactor:this.formFactor,clientId:this.clientId,metadata:this.metadata,deviceIdentityToken:this.deviceIdentityToken,push:{recipient:null===(e=this.push)||void 0===e?void 0:e.recipient,state:null===(t=this.push)||void 0===t?void 0:t.state,error:null===(r=this.push)||void 0===r?void 0:r.error}}},e.prototype.toString=function(){var e,t,r,n,o="[DeviceDetails";return this.id&&(o+="; id="+this.id),this.platform&&(o+="; platform="+this.platform),this.formFactor&&(o+="; formFactor="+this.formFactor),this.clientId&&(o+="; clientId="+this.clientId),this.metadata&&(o+="; metadata="+this.metadata),this.deviceIdentityToken&&(o+="; deviceIdentityToken="+JSON.stringify(this.deviceIdentityToken)),(null===(e=this.push)||void 0===e?void 0:e.recipient)&&(o+="; push.recipient="+JSON.stringify(this.push.recipient)),(null===(t=this.push)||void 0===t?void 0:t.state)&&(o+="; push.state="+this.push.state),(null===(r=this.push)||void 0===r?void 0:r.error)&&(o+="; push.error="+JSON.stringify(this.push.error)),(null===(n=this.push)||void 0===n?void 0:n.metadata)&&(o+="; push.metadata="+this.push.metadata),o+"]"},e.fromResponseBody=function(t,r){return r&&(t=s.decodeBody(t,r)),s.isArray(t)?e.fromValuesArray(t):e.fromValues(t)},e.fromValues=function(t){return t.error=t.error&&a.default.fromValues(t.error),Object.assign(new e,t)},e.fromValuesArray=function(t){for(var r=t.length,n=new Array(r),o=0;o<r;o++)n[o]=e.fromValues(t[o]);return n},e.toRequestBody=s.encodeBody,e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importStar(r(1)),o=function(){function e(){}return e.prototype.toJSON=function(){return{channel:this.channel,deviceId:this.deviceId,clientId:this.clientId}},e.prototype.toString=function(){var e="[PushChannelSubscription";return this.channel&&(e+="; channel="+this.channel),this.deviceId&&(e+="; deviceId="+this.deviceId),this.clientId&&(e+="; clientId="+this.clientId),e+"]"},e.fromResponseBody=function(t,r){return r&&(t=n.decodeBody(t,r)),n.isArray(t)?e.fromValuesArray(t):e.fromValues(t)},e.fromValues=function(t){return Object.assign(new e,t)},e.fromValuesArray=function(t){for(var r=t.length,n=new Array(r),o=0;o<r;o++)n[o]=e.fromValues(t[o]);return n},e.toRequestBody=n.encodeBody,e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=function(e){this.count=e&&e.count||0,this.data=e&&e.data||0,this.uncompressedData=e&&e.uncompressedData||0,this.failed=e&&e.failed||0,this.refused=e&&e.refused||0},s=function(e){function t(t){var r=e.call(this,t)||this;return t&&t.category&&(r.category={},o.forInOwnNonNullProperties(t.category,(function(e){r.category[e]=new i(t.category[e])}))),r}return n.__extends(t,e),t}(i),a=function(e){this.peak=e&&e.peak||0,this.min=e&&e.min||0,this.mean=e&&e.mean||0,this.opened=e&&e.opened||0,this.refused=e&&e.refused||0},c=function(e){this.succeeded=e&&e.succeeded||0,this.failed=e&&e.failed||0,this.refused=e&&e.refused||0},u=function(e){this.plain=new a(e&&e.plain),this.tls=new a(e&&e.tls),this.all=new a(e&&e.all)},l=function(e){this.messages=new s(e&&e.messages),this.presence=new s(e&&e.presence),this.all=new s(e&&e.all)},p=function(e){this.realtime=new l(e&&e.realtime),this.rest=new l(e&&e.rest),this.webhook=new l(e&&e.webhook),this.sharedQueue=new l(e&&e.sharedQueue),this.externalQueue=new l(e&&e.externalQueue),this.httpEvent=new l(e&&e.httpEvent),this.push=new l(e&&e.push),this.all=new l(e&&e.all)},d=function(e){this.all=new l(e&&e.all),this.inbound=new p(e&&e.inbound),this.outbound=new p(e&&e.outbound)},g=function(e){this.all=new l(e&&e.all),this.producerPaid=new d(e&&e.producerPaid),this.consumerPaid=new d(e&&e.consumerPaid)},f=function(e){this.messages=e&&e.messages||0;var t=e&&e.notifications;this.notifications={invalid:t&&t.invalid||0,attempted:t&&t.attempted||0,successful:t&&t.successful||0,failed:t&&t.failed||0},this.directPublishes=e&&e.directPublishes||0},h=function(e){this.succeeded=e&&e.succeeded||0,this.skipped=e&&e.skipped||0,this.failed=e&&e.failed||0},m=function(e){var t=this;this.delta=void 0,e&&e.delta&&(this.delta={},o.forInOwnNonNullProperties(e.delta,(function(r){t.delta[r]=new h(e.delta[r])})))},y=function(e){function t(t){var r=e.call(this,t)||this;return r.persisted=new l(t&&t.persisted),r.connections=new u(t&&t.connections),r.channels=new a(t&&t.channels),r.apiRequests=new c(t&&t.apiRequests),r.tokenRequests=new c(t&&t.tokenRequests),r.xchgProducer=new g(t&&t.xchgProducer),r.xchgConsumer=new g(t&&t.xchgConsumer),r.push=new f(t&&t.pushStats),r.processed=new m(t&&t.processed),r.inProgress=t&&t.inProgress||void 0,r.unit=t&&t.unit||void 0,r.intervalId=t&&t.intervalId||void 0,r}return n.__extends(t,e),t.fromValues=function(e){return new t(e)},t}(d);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(30)),s=n.__importDefault(r(7)),a=n.__importDefault(r(2)),c=n.__importDefault(r(51)),u=n.__importDefault(r(38)),l=n.__importDefault(r(8)),p=n.__importDefault(r(4)),d=n.__importDefault(r(10)),g=n.__importDefault(r(35)),f=n.__importDefault(r(3)),h=n.__importDefault(r(9)),m=function(e){function t(t){var r=e.call(this,t)||this;return a.default.logAction(a.default.LOG_MINOR,"Realtime()",""),r.connection=new c.default(r,r.options),r.channels=new y(r),!1!==t.autoConnect&&r.connect(),r}return n.__extends(t,e),t.prototype.connect=function(){a.default.logAction(a.default.LOG_MINOR,"Realtime.connect()",""),this.connection.connect()},t.prototype.close=function(){a.default.logAction(a.default.LOG_MINOR,"Realtime.close()",""),this.connection.close()},t.Promise=function(e){return(e=l.default.objectifyOptions(e)).promises=!0,new t(e)},t.Callbacks=t,t.Utils=o,t.ConnectionManager=g.default,t.Platform=f.default,t.ProtocolMessage=d.default,t.Message=h.default,t}(i.default),y=function(e){function t(t){var r=e.call(this)||this;return r.realtime=t,r.all=Object.create(null),t.connection.connectionManager.on("transport.active",(function(){r.onTransportActive()})),r}return n.__extends(t,e),t.prototype.channelSerials=function(){for(var e={},t=0,r=o.keysArray(this.all,!0);t<r.length;t++){var n=r[t],i=this.all[n];i.properties.channelSerial&&(e[n]=i.properties.channelSerial)}return e},t.prototype.recoverChannels=function(e){for(var t=0,r=o.keysArray(e,!0);t<r.length;t++){var n=r[t];this.get(n).properties.channelSerial=e[n]}},t.prototype.onChannelMessage=function(e){var t=e.channel;if(void 0!==t){var r=this.all[t];r?r.onMessage(e):a.default.logAction(a.default.LOG_ERROR,"Channels.onChannelMessage()","received event for non-existent channel: "+t)}else a.default.logAction(a.default.LOG_ERROR,"Channels.onChannelMessage()","received event unspecified channel, action = "+e.action)},t.prototype.onTransportActive=function(){for(var e in this.all){var t=this.all[e];"attaching"===t.state||"detaching"===t.state?t.checkPendingState():"suspended"===t.state?t._attach(!1,null):"attached"===t.state&&t.requestState("attaching")}},t.prototype.propogateConnectionInterruption=function(e,t){var r=["attaching","attached","detaching","suspended"],n={closing:"detached",closed:"detached",failed:"failed",suspended:"suspended"}[e];for(var i in this.all){var s=this.all[i];o.arrIn(r,s.state)&&s.notifyState(n,t)}},t.prototype.get=function(e,t){e=String(e);var r=this.all[e];if(r){if(t){if(r._shouldReattachToSetOptions(t))throw new p.default("Channels.get() cannot be used to set channel options that would cause the channel to reattach. Please, use RealtimeChannel.setOptions() instead.",4e4,400);r.setOptions(t)}}else r=this.all[e]=new u.default(this.realtime,e,t);return r},t.prototype.getDerived=function(e,t,r){if(t.filter){var n=o.toBase64(t.filter),i=o.matchDerivedChannel(e);e="[filter=".concat(n).concat(i.qualifierParam,"]").concat(i.channelName)}return this.get(e,r)},t.prototype.release=function(e){e=String(e);var t=this.all[e];if(t){var r=t.getReleaseErr();if(r)throw r;delete this.all[e]}},t}(s.default);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(7)),s=n.__importDefault(r(35)),a=n.__importDefault(r(2)),c=n.__importDefault(r(37)),u=n.__importDefault(r(3));function l(){}var p=function(e){function t(t,r){var n=e.call(this)||this;return n.whenState=function(e,t){return i.default.prototype.whenState.call(n,e,n.state,t,new c.default(void 0,e))},n.ably=t,n.connectionManager=new s.default(t,r),n.state=n.connectionManager.state.state,n.key=void 0,n.id=void 0,n.errorReason=null,n.connectionManager.on("connectionstate",(function(e){var t=n.state=e.current;u.default.Config.nextTick((function(){n.emit(t,e)}))})),n.connectionManager.on("update",(function(e){u.default.Config.nextTick((function(){n.emit("update",e)}))})),n}return n.__extends(t,e),t.prototype.connect=function(){a.default.logAction(a.default.LOG_MINOR,"Connection.connect()",""),this.connectionManager.requestState({state:"connecting"})},t.prototype.ping=function(e){if(a.default.logAction(a.default.LOG_MINOR,"Connection.ping()",""),!e){if(this.ably.options.promises)return o.promisify(this,"ping",arguments);e=l}this.connectionManager.ping(null,e)},t.prototype.close=function(){a.default.logAction(a.default.LOG_MINOR,"Connection.close()","connectionKey = "+this.key),this.connectionManager.requestState({state:"closing"})},Object.defineProperty(t.prototype,"recoveryKey",{get:function(){return this.createRecoveryKey()},enumerable:!1,configurable:!0}),t.prototype.createRecoveryKey=function(){return this.connectionManager.createRecoveryKey()},t}(i.default);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PendingMessage=void 0;var n=r(0),o=n.__importDefault(r(10)),i=n.__importStar(r(1)),s=n.__importDefault(r(7)),a=n.__importDefault(r(2)),c=n.__importDefault(r(36)),u=n.__importDefault(r(4)),l=o.default.Action;t.PendingMessage=function(e,t){this.message=e,this.callback=t,this.merged=!1;var r=e.action;this.sendAttempted=!1,this.ackRequired=r==l.MESSAGE||r==l.PRESENCE};var p=function(e){function t(t){var r=e.call(this)||this;return r.transport=t,r.messageQueue=new c.default,t.on("ack",(function(e,t){r.onAck(e,t)})),t.on("nack",(function(e,t,n){r.onNack(e,t,n)})),r}return n.__extends(t,e),t.prototype.onAck=function(e,t){a.default.logAction(a.default.LOG_MICRO,"Protocol.onAck()","serial = "+e+"; count = "+t),this.messageQueue.completeMessages(e,t)},t.prototype.onNack=function(e,t,r){a.default.logAction(a.default.LOG_ERROR,"Protocol.onNack()","serial = "+e+"; count = "+t+"; err = "+i.inspectError(r)),r||(r=new u.default("Unable to send message; channel not responding",50001,500)),this.messageQueue.completeMessages(e,t,r)},t.prototype.onceIdle=function(e){var t=this.messageQueue;0!==t.count()?t.once("idle",e):e()},t.prototype.send=function(e){e.ackRequired&&this.messageQueue.push(e),a.default.shouldLog(a.default.LOG_MICRO)&&a.default.logAction(a.default.LOG_MICRO,"Protocol.send()","sending msg; "+o.default.stringify(e.message)),e.sendAttempted=!0,this.transport.send(e.message)},t.prototype.getTransport=function(){return this.transport},t.prototype.getPendingMessages=function(){return this.messageQueue.copyAll()},t.prototype.clearPendingMessages=function(){return this.messageQueue.clear()},t.prototype.finish=function(){var e=this.transport;this.onceIdle((function(){e.disconnect()}))},t}(s.default);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(3)),i=n.__importStar(r(1)),s=n.__importDefault(r(26)),a=n.__importDefault(r(8)),c=n.__importDefault(r(2)),u=n.__importDefault(r(10)),l=n.__importDefault(r(4)),p="web_socket",d=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return i.shortName=p,n.heartbeats=o.default.Config.useProtocolHeartbeats,i.wsHost=a.default.getHost(n.options,n.host,!0),i}return n.__extends(t,e),t.isAvailable=function(){return!!o.default.Config.WebSocket},t.prototype.createWebSocket=function(e,t){return this.uri=e+i.toQueryString(t),new o.default.Config.WebSocket(this.uri)},t.prototype.toString=function(){return"WebSocketTransport; uri="+this.uri},t.prototype.connect=function(){c.default.logAction(c.default.LOG_MINOR,"WebSocketTransport.connect()","starting"),s.default.prototype.connect.call(this);var e=this,t=this.params,r=t.options,n=(r.tls?"wss://":"ws://")+this.wsHost+":"+a.default.getPort(r)+"/";c.default.logAction(c.default.LOG_MINOR,"WebSocketTransport.connect()","uri: "+n),this.auth.getAuthParams((function(r,i){if(!e.isDisposed){var s="";for(var a in i)s+=" "+a+": "+i[a]+";";if(c.default.logAction(c.default.LOG_MINOR,"WebSocketTransport.connect()","authParams:"+s+" err: "+r),r)e.disconnect(r);else{var u=t.getConnectParams(i);try{var l=e.wsConnection=e.createWebSocket(n,u);l.binaryType=o.default.Config.binaryType,l.onopen=function(){e.onWsOpen()},l.onclose=function(t){e.onWsClose(t)},l.onmessage=function(t){e.onWsData(t.data)},l.onerror=function(t){e.onWsError(t)},l.on&&l.on("ping",(function(){e.onActivity()}))}catch(t){c.default.logAction(c.default.LOG_ERROR,"WebSocketTransport.connect()","Unexpected exception creating websocket: err = "+(t.stack||t.message)),e.disconnect(t)}}}}))},t.prototype.send=function(e){var t=this.wsConnection;if(t)try{t.send(u.default.serialize(e,this.params.format))}catch(e){var r="Exception from ws connection when trying to send: "+i.inspectError(e);c.default.logAction(c.default.LOG_ERROR,"WebSocketTransport.send()",r),this.finish("disconnected",new l.default(r,5e4,500))}else c.default.logAction(c.default.LOG_ERROR,"WebSocketTransport.send()","No socket connection")},t.prototype.onWsData=function(e){c.default.logAction(c.default.LOG_MICRO,"WebSocketTransport.onWsData()","data received; length = "+e.length+"; type = "+typeof e);try{this.onProtocolMessage(u.default.deserialize(e,this.format))}catch(e){c.default.logAction(c.default.LOG_ERROR,"WebSocketTransport.onWsData()","Unexpected exception handing channel message: "+e.stack)}},t.prototype.onWsOpen=function(){c.default.logAction(c.default.LOG_MINOR,"WebSocketTransport.onWsOpen()","opened WebSocket"),this.emit("preconnect")},t.prototype.onWsClose=function(e){var t,r;if("object"==typeof e?(r=e.code,t=e.wasClean||1e3===r):t=1e3==(r=e),delete this.wsConnection,t){c.default.logAction(c.default.LOG_MINOR,"WebSocketTransport.onWsClose()","Cleanly closed WebSocket");var n=new l.default("Websocket closed",80003,400);this.finish("disconnected",n)}else{var o="Unclean disconnection of WebSocket ; code = "+r;n=new l.default(o,80003,400),c.default.logAction(c.default.LOG_MINOR,"WebSocketTransport.onWsClose()",o),this.finish("disconnected",n)}this.emit("disposed")},t.prototype.onWsError=function(e){var t=this;c.default.logAction(c.default.LOG_MINOR,"WebSocketTransport.onError()","Error from WebSocket: "+e.message),o.default.Config.nextTick((function(){t.disconnect(Error(e.message))}))},t.prototype.dispose=function(){c.default.logAction(c.default.LOG_MINOR,"WebSocketTransport.dispose()",""),this.isDisposed=!0;var e=this.wsConnection;e&&(e.onmessage=function(){},delete this.wsConnection,o.default.Config.nextTick((function(){if(c.default.logAction(c.default.LOG_MICRO,"WebSocketTransport.dispose()","closing websocket"),!e)throw new Error("WebSocketTransport.dispose(): wsConnection is not defined");e.close()})))},t}(s.default);t.default=function(e){return d.isAvailable()&&(e.supportedTransports[p]=d),d}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(1)),i=n.__importDefault(r(34)),s=n.__importDefault(r(7)),a=n.__importDefault(r(2)),c=n.__importDefault(r(14)),u=n.__importStar(r(4)),l=n.__importDefault(r(38)),p=n.__importDefault(r(22)),d=n.__importDefault(r(39)),g=function(){};function f(e){var t=e.channel.realtime,r=t.auth.clientId;return(!r||"*"===r)&&"connected"===t.connection.state}function h(e,t){if(e.isSynthesized()||t.isSynthesized())return e.timestamp>=t.timestamp;var r=e.parseId(),n=t.parseId();return r.msgSerial===n.msgSerial?r.index>n.index:r.msgSerial>n.msgSerial}var m=function(e){function t(t){var r=e.call(this,t)||this;return r.channel=t,r.syncComplete=!1,r.members=new y(r,(function(e){return e.clientId+":"+e.connectionId})),r._myMembers=new y(r,(function(e){return e.clientId})),r.subscriptions=new s.default,r.pendingPresence=[],r}return n.__extends(t,e),t.prototype.enter=function(e,t){if(f(this))throw new u.default("clientId must be specified to enter a presence channel",40012,400);return this._enterOrUpdateClient(void 0,void 0,e,"enter",t)},t.prototype.update=function(e,t){if(f(this))throw new u.default("clientId must be specified to update presence data",40012,400);return this._enterOrUpdateClient(void 0,void 0,e,"update",t)},t.prototype.enterClient=function(e,t,r){return this._enterOrUpdateClient(void 0,e,t,"enter",r)},t.prototype.updateClient=function(e,t,r){return this._enterOrUpdateClient(void 0,e,t,"update",r)},t.prototype._enterOrUpdateClient=function(e,t,r,n,i){var s=this;if(!i)if("function"==typeof r)i=r,r=null;else{if(this.channel.realtime.options.promises)return o.promisify(this,"_enterOrUpdateClient",[e,t,r,n]);i=g}var l=this.channel;if(l.connectionManager.activeState()){a.default.logAction(a.default.LOG_MICRO,"RealtimePresence."+n+"Client()","channel = "+l.name+", id = "+e+", client = "+(t||"(implicit) "+this.channel.realtime.auth.clientId));var p=c.default.fromValues({action:n,data:r});e&&(p.id=e),t&&(p.clientId=t),c.default.encode(p,l.channelOptions,(function(e){if(e)i(e);else switch(l.state){case"attached":l.sendPresence(p,i);break;case"initialized":case"detached":l.attach();case"attaching":s.pendingPresence.push({presence:p,callback:i});break;default:(e=new u.PartialErrorInfo("Unable to "+n+" presence channel while in "+l.state+" state",90001)).code=90001,i(e)}}))}else i(l.connectionManager.getError())},t.prototype.leave=function(e,t){if(f(this))throw new u.default("clientId must have been specified to enter or leave a presence channel",40012,400);return this.leaveClient(void 0,e,t)},t.prototype.leaveClient=function(e,t,r){if(!r)if("function"==typeof t)r=t,t=null;else{if(this.channel.realtime.options.promises)return o.promisify(this,"leaveClient",[e,t]);r=g}var n=this.channel;if(n.connectionManager.activeState()){a.default.logAction(a.default.LOG_MICRO,"RealtimePresence.leaveClient()","leaving; channel = "+this.channel.name+", client = "+e);var i=c.default.fromValues({action:"leave",data:t});switch(e&&(i.clientId=e),n.state){case"attached":n.sendPresence(i,r);break;case"attaching":this.pendingPresence.push({presence:i,callback:r});break;case"initialized":case"failed":var s=new u.PartialErrorInfo("Unable to leave presence channel (incompatible state)",90001);null==r||r(s);break;default:null==r||r(n.invalidStateError())}}else null==r||r(n.connectionManager.getError())},t.prototype.get=function(e,t){var r=this,n=Array.prototype.slice.call(arguments);1==n.length&&"function"==typeof n[0]&&n.unshift(null),e=n[0],t=n[1];var i=!e||!("waitForSync"in e)||e.waitForSync;if(!t){if(this.channel.realtime.options.promises)return o.promisify(this,"get",n);t=g}function s(r){t(null,e?r.list(e):r.values())}"suspended"!==this.channel.state?function(e,t,r){switch(e.state){case"attached":case"suspended":r();break;case"initialized":case"detached":case"detaching":case"attaching":e.attach((function(e){e?t(e):r()}));break;default:t(u.default.fromValues(e.invalidStateError()))}}(this.channel,t,(function(){var e=r.members;i?e.waitSync((function(){s(e)})):s(e)})):i?t(u.default.fromValues({statusCode:400,code:91005,message:"Presence state is out of sync due to channel being in the SUSPENDED state"})):s(this.members)},t.prototype.history=function(e,t){if(a.default.logAction(a.default.LOG_MICRO,"RealtimePresence.history()","channel = "+this.name),void 0===t)if("function"==typeof e)t=e,e=null;else{if(this.channel.realtime.options.promises)return o.promisify(this,"history",arguments);t=g}e&&e.untilAttach&&("attached"===this.channel.state?(delete e.untilAttach,e.from_serial=this.channel.properties.attachSerial):t(new u.default("option untilAttach requires the channel to be attached, was: "+this.channel.state,4e4,400))),i.default.prototype._history.call(this,e,t)},t.prototype.setPresence=function(e,t,r){var n,o;a.default.logAction(a.default.LOG_MICRO,"RealtimePresence.setPresence()","received presence for "+e.length+" participants; syncChannelSerial = "+r);var i=this.members,s=this._myMembers,u=[],l=this.channel.connectionManager.connectionId;t&&(this.members.startSync(),r&&(o=r.match(/^[\w-]+:(.*)$/))&&(n=o[1]));for(var p=0;p<e.length;p++)switch((d=c.default.fromValues(e[p])).action){case"leave":i.remove(d)&&u.push(d),d.connectionId!==l||d.isSynthesized()||s.remove(d);break;case"enter":case"present":case"update":i.put(d)&&u.push(d),d.connectionId===l&&s.put(d)}for(t&&!n&&(i.endSync(),this.channel.syncChannelSerial=null),p=0;p<u.length;p++){var d=u[p];this.subscriptions.emit(d.action,d)}},t.prototype.onAttached=function(e){a.default.logAction(a.default.LOG_MINOR,"RealtimePresence.onAttached()","channel = "+this.channel.name+", hasPresence = "+e),e?this.members.startSync():(this._synthesizeLeaves(this.members.values()),this.members.clear()),this._ensureMyMembersPresent();var t=this.pendingPresence,r=t.length;if(r){this.pendingPresence=[];var n=[],o=p.default.create();a.default.logAction(a.default.LOG_MICRO,"RealtimePresence.onAttached","sending "+r+" queued presence messages");for(var i=0;i<r;i++){var s=t[i];n.push(s.presence),o.push(s.callback)}this.channel.sendPresence(n,o)}},t.prototype.actOnChannelState=function(e,t,r){switch(e){case"attached":this.onAttached(t);break;case"detached":case"failed":this._clearMyMembers(),this.members.clear();case"suspended":this.failPendingPresence(r)}},t.prototype.failPendingPresence=function(e){if(this.pendingPresence.length){a.default.logAction(a.default.LOG_MINOR,"RealtimeChannel.failPendingPresence","channel; name = "+this.channel.name+", err = "+o.inspectError(e));for(var t=0;t<this.pendingPresence.length;t++)try{this.pendingPresence[t].callback(e)}catch(e){}this.pendingPresence=[]}},t.prototype._clearMyMembers=function(){this._myMembers.clear()},t.prototype._ensureMyMembersPresent=function(){var e=this,t=this._myMembers,r=function(t){if(t){var r="Presence auto-re-enter failed: "+t.toString(),n=new u.default(r,91004,400);a.default.logAction(a.default.LOG_ERROR,"RealtimePresence._ensureMyMembersPresent()",r);var o=new d.default(e.channel.state,e.channel.state,!0,!1,n);e.channel.emit("update",o)}};for(var n in t.map){var o=t.map[n];a.default.logAction(a.default.LOG_MICRO,"RealtimePresence._ensureMyMembersPresent()",'Auto-reentering clientId "'+o.clientId+'" into the presence set'),this._enterOrUpdateClient(o.id,o.clientId,o.data,"enter",r)}},t.prototype._synthesizeLeaves=function(e){var t=this.subscriptions;o.arrForEach(e,(function(e){var r=c.default.fromValues({action:"leave",connectionId:e.connectionId,clientId:e.clientId,data:e.data,encoding:e.encoding,timestamp:o.now()});t.emit("leave",r)}))},t.prototype.on=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.default.deprecated("presence.on","presence.subscribe"),this.subscribe.apply(this,e)},t.prototype.off=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.default.deprecated("presence.off","presence.unsubscribe"),this.unsubscribe.apply(this,e)},t.prototype.subscribe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.default.processListenerArgs(e),n=r[0],i=r[1],s=r[2],a=this.channel;if(!s){if(this.channel.realtime.options.promises)return o.promisify(this,"subscribe",[n,i]);s=g}"failed"!==a.state?(this.subscriptions.on(n,i),a.attach(s)):s(u.default.fromValues(a.invalidStateError()))},t.prototype.unsubscribe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.default.processListenerArgs(e),n=r[0],o=r[1];this.subscriptions.off(n,o)},t}(i.default),y=function(e){function t(t,r){var n=e.call(this)||this;return n.presence=t,n.map=Object.create(null),n.syncInProgress=!1,n.residualMembers=null,n.memberKey=r,n}return n.__extends(t,e),t.prototype.get=function(e){return this.map[e]},t.prototype.getClient=function(e){var t=this.map,r=[];for(var n in t){var o=t[n];o.clientId==e&&"absent"!=o.action&&r.push(o)}return r},t.prototype.list=function(e){var t=this.map,r=e&&e.clientId,n=e&&e.connectionId,o=[];for(var i in t){var s=t[i];"absent"!==s.action&&(r&&r!=s.clientId||n&&n!=s.connectionId||o.push(s))}return o},t.prototype.put=function(e){"enter"!==e.action&&"update"!==e.action||((e=c.default.fromValues(e)).action="present");var t=this.map,r=this.memberKey(e);this.residualMembers&&delete this.residualMembers[r];var n=t[r];return!(n&&!h(e,n)||(t[r]=e,0))},t.prototype.values=function(){var e=this.map,t=[];for(var r in e){var n=e[r];"absent"!=n.action&&t.push(n)}return t},t.prototype.remove=function(e){var t=this.map,r=this.memberKey(e),n=t[r];return!(n&&!h(e,n)||(this.syncInProgress?((e=c.default.fromValues(e)).action="absent",t[r]=e):delete t[r],0))},t.prototype.startSync=function(){var e=this.map,t=this.syncInProgress;a.default.logAction(a.default.LOG_MINOR,"PresenceMap.startSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+t),this.syncInProgress||(this.residualMembers=o.copy(e),this.setInProgress(!0))},t.prototype.endSync=function(){var e=this.map,t=this.syncInProgress;if(a.default.logAction(a.default.LOG_MINOR,"PresenceMap.endSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+t),t){for(var r in e)"absent"===e[r].action&&delete e[r];for(var r in this.presence._synthesizeLeaves(o.valuesArray(this.residualMembers)),this.residualMembers)delete e[r];this.residualMembers=null,this.setInProgress(!1)}this.emit("sync")},t.prototype.waitSync=function(e){var t=this.syncInProgress;a.default.logAction(a.default.LOG_MINOR,"PresenceMap.waitSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+t),t?this.once("sync",e):e()},t.prototype.clear=function(){this.map={},this.setInProgress(!1),this.residualMembers=null},t.prototype.setInProgress=function(e){a.default.logAction(a.default.LOG_MICRO,"PresenceMap.setInProgress()","inProgress = "+e),this.syncInProgress=e,this.presence.syncComplete=!e},t}(s.default);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(56),i=r(31),s=r(11),a=n.__importDefault(r(5)),c=n.__importDefault(r(3)),u=function(){function e(){this.base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this.hexCharSet="0123456789abcdef"}return e.prototype.isWordArray=function(e){return null!=e&&void 0!==e.sigBytes},e.prototype.isArrayBuffer=function(e){return null!=e&&e.constructor===ArrayBuffer},e.prototype.isTypedArray=function(e){return!!ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e)},e.prototype.uint8ViewToBase64=function(e){for(var t,r,n,o,i="",s=this.base64CharSet,a=e.byteLength,c=a%3,u=a-c,l=0;l<u;l+=3)t=(258048&(o=e[l]<<16|e[l+1]<<8|e[l+2]))>>12,r=(4032&o)>>6,n=63&o,i+=s[(16515072&o)>>18]+s[t]+s[r]+s[n];return 1==c?(t=(3&(o=e[u]))<<4,i+=s[(252&o)>>2]+s[t]+"=="):2==c&&(t=(1008&(o=e[u]<<8|e[u+1]))>>4,r=(15&o)<<2,i+=s[(64512&o)>>10]+s[t]+s[r]+"="),i},e.prototype.base64ToArrayBuffer=function(e){for(var t=null===atob||void 0===atob?void 0:atob(e),r=t.length,n=new Uint8Array(r),o=0;o<r;o++){var i=t.charCodeAt(o);n[o]=i}return n.buffer},e.prototype.isBuffer=function(e){return this.isArrayBuffer(e)||this.isWordArray(e)||this.isTypedArray(e)},e.prototype.toBuffer=function(e){if(!ArrayBuffer)throw new Error("Can't convert to Buffer: browser does not support the necessary types");if(this.isArrayBuffer(e))return new Uint8Array(e);if(this.isTypedArray(e))return new Uint8Array(e.buffer);if(this.isWordArray(e)){for(var t=new ArrayBuffer(e.sigBytes),r=new Uint8Array(t),n=0;n<e.sigBytes;n++)r[n]=e.words[n>>>2]>>>24-n%4*8&255;return r}throw new Error("BufferUtils.toBuffer expected an arraybuffer, typed array, or CryptoJS wordarray")},e.prototype.toArrayBuffer=function(e){return this.isArrayBuffer(e)?e:this.toBuffer(e).buffer},e.prototype.toWordArray=function(e){return this.isTypedArray(e)&&(e=e.buffer),this.isWordArray(e)?e:a.default.create(e)},e.prototype.base64Encode=function(e){return this.isWordArray(e)?(0,s.stringify)(e):this.uint8ViewToBase64(this.toBuffer(e))},e.prototype.base64Decode=function(e){return ArrayBuffer&&c.default.Config.atob?this.base64ToArrayBuffer(e):(0,s.parse)(e)},e.prototype.hexEncode=function(e){return(0,o.stringify)(this.toWordArray(e))},e.prototype.hexDecode=function(e){var t=(0,o.parse)(e);return ArrayBuffer?this.toArrayBuffer(t):t},e.prototype.utf8Encode=function(e){return c.default.Config.TextEncoder?(new c.default.Config.TextEncoder).encode(e).buffer:(0,i.parse)(e)},e.prototype.utf8Decode=function(e){if(!this.isBuffer(e))throw new Error("Expected input of utf8decode to be an arraybuffer, typed array, or CryptoJS wordarray");return TextDecoder&&!this.isWordArray(e)?(new TextDecoder).decode(e):(e=this.toWordArray(e),(0,i.stringify)(e))},e.prototype.bufferCompare=function(e,t){if(!e)return-1;if(!t)return 1;var r=this.toWordArray(e),n=this.toWordArray(t);r.clamp(),n.clamp();var o=r.sigBytes-n.sigBytes;if(0!=o)return o;for(var i=r.words,s=n.words,a=0;a<i.length;a++)if(0!=(o=i[a]-s[a]))return o;return 0},e.prototype.byteLength=function(e){return this.isArrayBuffer(e)||this.isTypedArray(e)?e.byteLength:this.isWordArray(e)?e.sigBytes:-1},e.prototype.typedArrayToBuffer=function(e){return e.buffer},e}();t.default=new u},function(e,t,r){e.exports=r(6).enc.Hex},function(e,t,r){"use strict";r.r(t);var n=r(5),o=r.n(n),i=r(11),s=r(21),a=r.n(s),c=r(2),u=r.n(c),l=r(4),p=r.n(l);t.default=function(e,t){var r;if(e.getRandomWordArray)r=e.getRandomWordArray;else if("undefined"!=typeof Uint32Array&&e.getRandomValues){var n=new Uint32Array(4);r=function(r,o){var i=r/4,s=4==i?n:new Uint32Array(i);e.getRandomValues(s,(function(e){void 0!==o&&o(e,t.toWordArray(s))}))}}else r=function(e,t){u.a.logAction(u.a.LOG_MAJOR,"Ably.Crypto.generateRandom()","Warning: the browser you are using does not support secure cryptographically secure randomness generation; falling back to insecure Math.random()");for(var r=e/4,n=new Array(r),i=0;i<r;i++)n[i]=Math.floor(4294967296*Math.random())-2147483648;t(null,o.a.create(n))};var s=[o.a.create([269488144,269488144,269488144,269488144],16),o.a.create([16777216],1),o.a.create([33685504],2),o.a.create([50529024],3),o.a.create([67372036],4),o.a.create([84215045,83886080],5),o.a.create([101058054,101056512],6),o.a.create([117901063,117901056],7),o.a.create([134744072,134744072],8),o.a.create([151587081,151587081,150994944],9),o.a.create([168430090,168430090,168427520],10),o.a.create([185273099,185273099,185273088],11),o.a.create([202116108,202116108,202116108],12),o.a.create([218959117,218959117,218959117,218103808],13),o.a.create([235802126,235802126,235802126,235798528],14),o.a.create([252645135,252645135,252645135,252645135],15),o.a.create([269488144,269488144,269488144,269488144],16)];function c(){}function l(){this.algorithm=null,this.keyLength=null,this.mode=null,this.key=null}function d(e,r,n){this.algorithm=e.algorithm+"-"+String(e.keyLength)+"-"+e.mode,this.cjsAlgorithm=e.algorithm.toUpperCase().replace(/-\d+$/,""),this.key=t.toWordArray(e.key),n&&(this.iv=t.toWordArray(n).clone()),this.blockLengthWords=r}return c.CipherParams=l,c.getDefaultParams=function(e){var r;if("function"!=typeof e&&"string"!=typeof e){if(!e.key)throw new Error("Crypto.getDefaultParams: a key is required");r="string"==typeof e.key?Object(i.parse)(e.key.replace("_","/").replace("-","+")):t.toWordArray(e.key);var n=new l;if(n.key=r,n.algorithm=e.algorithm||"aes",n.keyLength=32*r.words.length,n.mode=e.mode||"cbc",e.keyLength&&e.keyLength!==n.keyLength)throw new Error("Crypto.getDefaultParams: a keyLength of "+e.keyLength+" was specified, but the key actually has length "+n.keyLength);return function(e){if("aes"===e.algorithm&&"cbc"===e.mode){if(128===e.keyLength||256===e.keyLength)return;throw new Error("Unsupported key length "+e.keyLength+" for aes-cbc encryption. Encryption key must be 128 or 256 bits (16 or 32 ASCII characters)")}}(n),n}if(u.a.deprecated("Crypto.getDefaultParams(key, callback)","Crypto.getDefaultParams({key: key})"),"function"==typeof e)c.generateRandomKey((function(t){e(null,c.getDefaultParams({key:t}))}));else{if("function"!=typeof arguments[1])throw new Error("Invalid arguments for Crypto.getDefaultParams");arguments[1](null,c.getDefaultParams({key:e}))}},c.generateRandomKey=function(e,t){1==arguments.length&&"function"==typeof e&&(t=e,e=void 0),r((e||256)/8,(function(e,r){void 0!==t&&t(e?p.a.fromValues(e):null,r)}))},c.getCipher=function(e){var t=e instanceof l?e:c.getDefaultParams(e);return{cipherParams:t,cipher:new d(t,4,e.iv)}},d.prototype.encrypt=function(e,n){u.a.logAction(u.a.LOG_MICRO,"CBCCipher.encrypt()","");var o=(e=t.toWordArray(e)).sigBytes,i=function(e){return e+16&-16}(o),c=this,l=function(){c.getIv((function(t,r){if(t)n(t);else{var a=c.encryptCipher.process(e.concat(s[i-o])),u=r.concat(a);n(null,u)}}))};this.encryptCipher?l():this.iv?(this.encryptCipher=a.a.algo[this.cjsAlgorithm].createEncryptor(this.key,{iv:this.iv}),l()):r(16,(function(e,t){e?n(e):(c.encryptCipher=a.a.algo[c.cjsAlgorithm].createEncryptor(c.key,{iv:t}),c.iv=t,l())}))},d.prototype.decrypt=function(e){u.a.logAction(u.a.LOG_MICRO,"CBCCipher.decrypt()",""),e=t.toWordArray(e);var r=this.blockLengthWords,n=e.words,i=o.a.create(n.slice(0,r)),s=o.a.create(n.slice(r)),c=a.a.algo[this.cjsAlgorithm].createDecryptor(this.key,{iv:i}),l=c.process(s),p=c.finalize();return c.reset(),p&&p.sigBytes&&l.concat(p),l},d.prototype.getIv=function(e){if(this.iv){var t=this.iv;return this.iv=null,void e(null,t)}var n=this;r(16,(function(t,r){t?e(t):e(null,n.encryptCipher.process(r))}))},c}},function(e,t,r){var n;e.exports=(n=r(6),function(){var e=n,t=e.lib.WordArray,r=e.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var i=t[o>>>2]>>>16-o%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var r=e.length,n=[],o=0;o<r;o++)n[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(n,2*r)}},r.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var s=o(t[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return t.create(n,2*r)}}}(),n.enc.Utf16)},function(e,t,r){var n,o,i,s;e.exports=(s=r(6),r(28),o=(n=s).lib.CipherParams,i=n.enc.Hex,n.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return o.create({ciphertext:t})}},s.format.Hex)},function(e,t,r){var n;e.exports=(n=r(6),r(11),r(61),r(27),r(28),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,o=[],i=[],s=[],a=[],c=[],u=[],l=[],p=[],d=[],g=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,o[r]=f,i[f]=r;var h=e[r],m=e[h],y=e[m],_=257*e[f]^16843008*f;s[r]=_<<24|_>>>8,a[r]=_<<16|_>>>16,c[r]=_<<8|_>>>24,u[r]=_,_=16843009*y^65537*m^257*h^16843008*r,l[f]=_<<24|_>>>8,p[f]=_<<16|_>>>16,d[f]=_<<8|_>>>24,g[f]=_,r?(r=h^e[e[e[y^h]]],n^=e[e[n]]):r=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],h=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<n;s++)s<r?i[s]=t[s]:(u=i[s-1],s%r?r>6&&s%r==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=o[(u=u<<8|u>>>24)>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=f[s/r|0]<<24),i[s]=i[s-r]^u);for(var a=this._invKeySchedule=[],c=0;c<n;c++){if(s=n-c,c%4)var u=i[s];else u=i[s-4];a[c]=c<4||s<=4?u:l[o[u>>>24]]^p[o[u>>>16&255]]^d[o[u>>>8&255]]^g[o[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,c,u,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,p,d,g,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,o,i,s,a){for(var c=this._nRounds,u=e[t]^r[0],l=e[t+1]^r[1],p=e[t+2]^r[2],d=e[t+3]^r[3],g=4,f=1;f<c;f++){var h=n[u>>>24]^o[l>>>16&255]^i[p>>>8&255]^s[255&d]^r[g++],m=n[l>>>24]^o[p>>>16&255]^i[d>>>8&255]^s[255&u]^r[g++],y=n[p>>>24]^o[d>>>16&255]^i[u>>>8&255]^s[255&l]^r[g++],_=n[d>>>24]^o[u>>>16&255]^i[l>>>8&255]^s[255&p]^r[g++];u=h,l=m,p=y,d=_}h=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[p>>>8&255]<<8|a[255&d])^r[g++],m=(a[l>>>24]<<24|a[p>>>16&255]<<16|a[d>>>8&255]<<8|a[255&u])^r[g++],y=(a[p>>>24]<<24|a[d>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^r[g++],_=(a[d>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&p])^r[g++],e[t]=h,e[t+1]=m,e[t+2]=y,e[t+3]=_},keySize:8});e.AES=t._createHelper(h)}(),n.AES)},function(e,t,r){var n;e.exports=(n=r(6),function(e){var t=n,r=t.lib,o=r.WordArray,i=r.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=s.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=e[t+0],c=e[t+1],g=e[t+2],f=e[t+3],h=e[t+4],m=e[t+5],y=e[t+6],_=e[t+7],v=e[t+8],S=e[t+9],E=e[t+10],b=e[t+11],T=e[t+12],A=e[t+13],R=e[t+14],w=e[t+15],O=i[0],C=i[1],M=i[2],I=i[3];O=u(O,C,M,I,s,7,a[0]),I=u(I,O,C,M,c,12,a[1]),M=u(M,I,O,C,g,17,a[2]),C=u(C,M,I,O,f,22,a[3]),O=u(O,C,M,I,h,7,a[4]),I=u(I,O,C,M,m,12,a[5]),M=u(M,I,O,C,y,17,a[6]),C=u(C,M,I,O,_,22,a[7]),O=u(O,C,M,I,v,7,a[8]),I=u(I,O,C,M,S,12,a[9]),M=u(M,I,O,C,E,17,a[10]),C=u(C,M,I,O,b,22,a[11]),O=u(O,C,M,I,T,7,a[12]),I=u(I,O,C,M,A,12,a[13]),M=u(M,I,O,C,R,17,a[14]),O=l(O,C=u(C,M,I,O,w,22,a[15]),M,I,c,5,a[16]),I=l(I,O,C,M,y,9,a[17]),M=l(M,I,O,C,b,14,a[18]),C=l(C,M,I,O,s,20,a[19]),O=l(O,C,M,I,m,5,a[20]),I=l(I,O,C,M,E,9,a[21]),M=l(M,I,O,C,w,14,a[22]),C=l(C,M,I,O,h,20,a[23]),O=l(O,C,M,I,S,5,a[24]),I=l(I,O,C,M,R,9,a[25]),M=l(M,I,O,C,f,14,a[26]),C=l(C,M,I,O,v,20,a[27]),O=l(O,C,M,I,A,5,a[28]),I=l(I,O,C,M,g,9,a[29]),M=l(M,I,O,C,_,14,a[30]),O=p(O,C=l(C,M,I,O,T,20,a[31]),M,I,m,4,a[32]),I=p(I,O,C,M,v,11,a[33]),M=p(M,I,O,C,b,16,a[34]),C=p(C,M,I,O,R,23,a[35]),O=p(O,C,M,I,c,4,a[36]),I=p(I,O,C,M,h,11,a[37]),M=p(M,I,O,C,_,16,a[38]),C=p(C,M,I,O,E,23,a[39]),O=p(O,C,M,I,A,4,a[40]),I=p(I,O,C,M,s,11,a[41]),M=p(M,I,O,C,f,16,a[42]),C=p(C,M,I,O,y,23,a[43]),O=p(O,C,M,I,S,4,a[44]),I=p(I,O,C,M,T,11,a[45]),M=p(M,I,O,C,w,16,a[46]),O=d(O,C=p(C,M,I,O,g,23,a[47]),M,I,s,6,a[48]),I=d(I,O,C,M,_,10,a[49]),M=d(M,I,O,C,R,15,a[50]),C=d(C,M,I,O,m,21,a[51]),O=d(O,C,M,I,T,6,a[52]),I=d(I,O,C,M,f,10,a[53]),M=d(M,I,O,C,E,15,a[54]),C=d(C,M,I,O,c,21,a[55]),O=d(O,C,M,I,v,6,a[56]),I=d(I,O,C,M,w,10,a[57]),M=d(M,I,O,C,y,15,a[58]),C=d(C,M,I,O,A,21,a[59]),O=d(O,C,M,I,h,6,a[60]),I=d(I,O,C,M,b,10,a[61]),M=d(M,I,O,C,g,15,a[62]),C=d(C,M,I,O,S,21,a[63]),i[0]=i[0]+O|0,i[1]=i[1]+C|0,i[2]=i[2]+M|0,i[3]=i[3]+I|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;r[o>>>5]|=128<<24-o%32;var i=e.floor(n/4294967296),s=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,o,i,s){var a=e+(t&r|~t&n)+o+s;return(a<<i|a>>>32-i)+t}function l(e,t,r,n,o,i,s){var a=e+(t&n|r&~n)+o+s;return(a<<i|a>>>32-i)+t}function p(e,t,r,n,o,i,s){var a=e+(t^r^n)+o+s;return(a<<i|a>>>32-i)+t}function d(e,t,r,n,o,i,s){var a=e+(r^(t|~n))+o+s;return(a<<i|a>>>32-i)+t}t.MD5=i._createHelper(c),t.HmacMD5=i._createHmacHelper(c)}(Math),n.MD5)},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=o.__importDefault(r(3)),s=o.__importStar(r(1)),a=o.__importDefault(r(8)),c=r(4),u=o.__importDefault(r(17)),l=o.__importDefault(r(15)),p=o.__importDefault(r(20)),d=o.__importDefault(r(2)),g=r(29),f=o.__importDefault(r(63)),h=r(24);function m(e){var t=e.statusCode;return 408===t&&!e.code||400===t&&!e.code||t>=500&&t<=504}function y(e){var t=e.connection,r=t&&t.connectionManager.host;return r?[r].concat(a.default.getFallbackHosts(e.options)):a.default.getHosts(e.options)}var _=(n=function(){function e(e){this.checksInProgress=null,this.checkConnectivity=void 0,this.supportsAuthHeaders=!1,this.supportsLinkHeaders=!1,this._getHosts=y,this.options=e||{};var t=this.options.connectivityCheckUrl||a.default.connectivityCheckUrl,r=this.options.connectivityCheckParams,n=!this.options.connectivityCheckUrl;i.default.Config.xhrSupported?(this.supportsAuthHeaders=!0,this.Request=function(e,t,r,n,o,i,s){var a=l.default.createRequest(r,n,o,i,p.default.REQ_SEND,t&&t.options.timeouts,e);return a.once("complete",s),a.exec(),a},this.options.disableConnectivityCheck?this.checkConnectivity=function(e){e(null,!0)}:this.checkConnectivity=function(e){d.default.logAction(d.default.LOG_MICRO,"(XHRRequest)Http.checkConnectivity()","Sending; "+t),this.doUri(u.default.Get,null,t,null,null,r,(function(t,r,o,i,s){var a;a=n?!t&&"yes"==(null==r?void 0:r.replace(/\n/,"")):!t&&(0,h.isSuccessCode)(s),d.default.logAction(d.default.LOG_MICRO,"(XHRRequest)Http.checkConnectivity()","Result: "+a),e(null,a)}))}):i.default.Config.jsonpSupported?(this.Request=function(e,t,r,n,o,s,a){var c=(0,g.createRequest)(r,n,o,s,p.default.REQ_SEND,t&&t.options.timeouts,e);return c.once("complete",a),i.default.Config.nextTick((function(){c.exec()})),c},this.options.disableConnectivityCheck?this.checkConnectivity=function(e){e(null,!0)}:this.checkConnectivity=function(e){var t=this,r=a.default.jsonpInternetUpUrl;if(this.checksInProgress)this.checksInProgress.push(e);else{this.checksInProgress=[e],d.default.logAction(d.default.LOG_MICRO,"(JSONP)Http.checkConnectivity()","Sending; "+r);var n=new g.Request("isTheInternetUp",r,null,null,null,p.default.REQ_SEND,a.default.TIMEOUTS);n.once("complete",(function(e,r){var n=!e&&r;d.default.logAction(d.default.LOG_MICRO,"(JSONP)Http.checkConnectivity()","Result: "+n);for(var o=0;o<t.checksInProgress.length;o++)t.checksInProgress[o](null,n);t.checksInProgress=null})),i.default.Config.nextTick((function(){n.exec()}))}}):i.default.Config.fetchSupported?(this.supportsAuthHeaders=!0,this.Request=f.default,this.checkConnectivity=function(e){d.default.logAction(d.default.LOG_MICRO,"(Fetch)Http.checkConnectivity()","Sending; "+t),this.doUri(u.default.Get,null,t,null,null,null,(function(t,r){var n=!t&&"yes"==(null==r?void 0:r.replace(/\n/,""));d.default.logAction(d.default.LOG_MICRO,"(Fetch)Http.checkConnectivity()","Result: "+n),e(null,n)}))}):this.Request=function(e,t,r,n,o,i,s){s(new c.PartialErrorInfo("no supported HTTP transports available",null,400),null)}}return e.prototype.do=function(e,t,r,n,i,a,u){var l=this,p="function"==typeof r?r:function(e){return t.baseUri(e)+r},d=t._currentFallback;if(d){if(d.validUntil>s.now())return this.Request?void this.Request(e,t,p(d.host),n,a,i,(function(s){for(var c=[],p=1;p<arguments.length;p++)c[p-1]=arguments[p];if(s&&m(s))return t._currentFallback=null,void l.do(e,t,r,n,i,a,u);null==u||u.apply(void 0,o.__spreadArray([s],c,!1))})):void(null==u||u(new c.PartialErrorInfo("Request invoked before assigned to",null,500)));t._currentFallback=null}var g=y(t);if(1!==g.length){var f=function(r,c){var d=r.shift();l.doUri(e,t,p(d),n,i,a,(function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];e&&m(e)&&r.length?f(r,!0):(c&&(t._currentFallback={host:d,validUntil:s.now()+t.options.timeouts.fallbackRetryTimeout}),null==u||u.apply(void 0,o.__spreadArray([e],n,!1)))}))};f(g)}else this.doUri(e,t,p(g[0]),n,i,a,u)},e.prototype.doUri=function(e,t,r,n,o,i,s){this.Request?this.Request(e,t,r,n,i,o,s):s(new c.PartialErrorInfo("Request invoked before assigned to",null,500))},e}(),n.methods=[u.default.Get,u.default.Delete,u.default.Post,u.default.Put,u.default.Patch],n.methodsWithoutBody=[u.default.Get,u.default.Delete],n.methodsWithBody=[u.default.Post,u.default.Put,u.default.Patch],n);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importStar(r(4)),i=n.__importDefault(r(3)),s=n.__importDefault(r(8)),a=n.__importStar(r(1)),c=r(1);t.default=function(e,t,r,n,u,l,p){var d=new Headers(n||{}),g=e?e.toUpperCase():a.isEmptyArg(l)?"GET":"POST",f=new AbortController,h=setTimeout((function(){f.abort(),p(new o.PartialErrorInfo("Request timed out",null,408))}),t?t.options.timeouts.httpRequestTimeout:s.default.TIMEOUTS.httpRequestTimeout),m={method:g,headers:d,body:l};i.default.Config.isWebworker||(m.credentials=d.has("authorization")?"include":"same-origin"),(0,c.getGlobalObject)().fetch(r+"?"+new URLSearchParams(u||{}),m).then((function(e){clearTimeout(h);var t=e.headers.get("Content-Type");(t&&t.indexOf("application/x-msgpack")>-1?e.arrayBuffer():t&&t.indexOf("application/json")>-1?e.json():e.text()).then((function(r){var n=!!t&&-1===t.indexOf("application/x-msgpack");if(e.ok)p(null,r,e.headers,n,e.status);else{var s=function(e,t){if(function(e,t){return!!t.get("x-ably-errorcode")}(0,t))return e.error&&o.default.fromValues(e.error)}(r,e.headers)||new o.PartialErrorInfo("Error response received from server: "+e.status+" body was: "+i.default.Config.inspect(r),null,e.status);p(s,r,e.headers,n,e.status)}}))})).catch((function(e){clearTimeout(h),p(e)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=n.__importDefault(r(41)),i=n.__importStar(r(1)).getGlobalObject();"undefined"==typeof Window&&"undefined"==typeof WorkerGlobalScope&&console.log("Warning: this distribution of Ably is intended for browsers. On nodejs, please use the 'ably' package on npm");var s,a=i.navigator&&i.navigator.userAgent.toString(),c={agent:"browser",logTimestamps:!0,userAgent:a,currentUrl:i.location&&i.location.href,noUpgrade:a&&!!a.match(/MSIE\s8\.0/),binaryType:"arraybuffer",WebSocket:i.WebSocket,fetchSupported:!!i.fetch,xhrSupported:i.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,jsonpSupported:"undefined"!=typeof document,allowComet:(s=i.location,!i.WebSocket||!s||!s.origin||s.origin.indexOf("http")>-1),streamingSupported:!0,useProtocolHeartbeats:!0,createHmac:null,msgpack:o.default,supportsBinary:!!i.TextDecoder,preferBinary:!1,ArrayBuffer:i.ArrayBuffer,atob:i.atob,nextTick:void 0!==i.setImmediate?i.setImmediate.bind(i):function(e){setTimeout(e,0)},addEventListener:i.addEventListener,inspect:JSON.stringify,stringByteSize:function(e){return i.TextDecoder&&(new i.TextEncoder).encode(e).length||e.length},TextEncoder:i.TextEncoder,TextDecoder:i.TextDecoder,Promise:i.Promise,getRandomValues:function(e){if(void 0!==e)return function(t,r){e.getRandomValues(t),r&&r(null)}}(i.crypto||msCrypto)};t.default=c},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importStar(r(1)),o="ablyjs-storage-test",i=function(){function t(){try{e.sessionStorage.setItem(o,o),e.sessionStorage.removeItem(o),this.sessionSupported=!0}catch(e){this.sessionSupported=!1}try{e.localStorage.setItem(o,o),e.localStorage.removeItem(o),this.localSupported=!0}catch(e){this.localSupported=!1}}return t.prototype.get=function(e){return this._get(e,!1)},t.prototype.getSession=function(e){return this._get(e,!0)},t.prototype.remove=function(e){return this._remove(e,!1)},t.prototype.removeSession=function(e){return this._remove(e,!0)},t.prototype.set=function(e,t,r){return this._set(e,t,r,!1)},t.prototype.setSession=function(e,t,r){return this._set(e,t,r,!0)},t.prototype._set=function(e,t,r,o){var i={value:t};return r&&(i.expires=n.now()+r),this.storageInterface(o).setItem(e,JSON.stringify(i))},t.prototype._get=function(e,t){if(t&&!this.sessionSupported)throw new Error("Session Storage not supported");if(!t&&!this.localSupported)throw new Error("Local Storage not supported");var r=this.storageInterface(t).getItem(e);if(!r)return null;var o=JSON.parse(r);return o.expires&&o.expires<n.now()?(this.storageInterface(t).removeItem(e),null):o.value},t.prototype._remove=function(e,t){return this.storageInterface(t).removeItem(e)},t.prototype.storageInterface=function(t){return t?e.sessionStorage:e.localStorage},t}();t.default=new i}).call(this,r(13))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).__importDefault(r(67)),o={connectivityCheckUrl:"https://internet-up.ably-realtime.com/is-the-internet-up.txt",jsonpInternetUpUrl:"https://internet-up.ably-realtime.com/is-the-internet-up-0-9.js",defaultTransports:[n.default.XhrPolling,n.default.XhrStreaming,n.default.JsonP,n.default.WebSocket],baseTransportOrder:[n.default.XhrPolling,n.default.XhrStreaming,n.default.JsonP,n.default.WebSocket],transportPreferenceOrder:[n.default.JsonP,n.default.XhrPolling,n.default.XhrStreaming,n.default.WebSocket],upgradeTransports:[n.default.XhrStreaming,n.default.WebSocket]};t.default=o},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.WebSocket="web_socket",e.Comet="comet",e.XhrStreaming="xhr_streaming",e.XhrPolling="xhr_polling",e.JsonP="jsonp"}(n||(n={})),t.default=n},function(e,t,r){"use strict";r.r(t);var n=r(29),o=r.n(n),i=r(1),s=r(3),a=r.n(s),c=r(12),u=r.n(c),l=r(15),p=r.n(l);t.default=[o.a,function(e){var t="xhr_polling";function r(e,r,n){n.stream=!1,u.a.call(this,e,r,n),this.shortName=t}return i.inherits(r,u.a),r.isAvailable=function(){return a.a.Config.xhrSupported&&a.a.Config.allowComet},r.prototype.toString=function(){return"XHRPollingTransport; uri="+this.baseUri+"; isConnected="+this.isConnected},r.prototype.createRequest=function(e,t,r,n,o){return p.a.createRequest(e,t,r,n,o,this.timeouts)},void 0!==e&&r.isAvailable()&&(e.supportedTransports[t]=r),r},function(e){var t="xhr_streaming";function r(e,r,n){u.a.call(this,e,r,n),this.shortName=t}return i.inherits(r,u.a),r.isAvailable=function(){return a.a.Config.xhrSupported&&a.a.Config.streamingSupported&&a.a.Config.allowComet},r.prototype.toString=function(){return"XHRStreamingTransport; uri="+this.baseUri+"; isConnected="+this.isConnected},r.prototype.createRequest=function(e,t,r,n,o){return p.a.createRequest(e,t,r,n,o,this.timeouts)},void 0!==e&&r.isAvailable()&&(e.supportedTransports[t]=r),r}]}]).default},e.exports=t()},"./node_modules/ably/promises.js":(e,t,r)=>{"use strict";function n(e){return"string"==typeof e&&(e=-1==e.indexOf(":")?{token:e}:{key:e}),e.promises=!0,e}var o=r("./node_modules/ably/build/ably-commonjs.js"),i=function(e){return new o.Rest(n(e))};Object.assign(i,o.Rest);var s=function(e){return new o.Realtime(n(e))};Object.assign(s,o.Realtime),e.exports={Rest:i,Realtime:s}},"./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js":(e,t,r)=>{"use strict";var n=r("./node_modules/sdp/sdp.js");function o(e,t,r,o,i){var s=n.writeRtpDescription(e.kind,t);if(s+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":i||"active"),s+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var c="msid:"+(o?o.id:"-")+" "+a+"\r\n";s+="a="+c,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),s}function i(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},o=function(e,t,r,o){var i=n(e.parameters.apt,r),s=n(t.parameters.apt,o);return i&&s&&i.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach((function(n){for(var i=0;i<t.codecs.length;i++){var s=t.codecs[i];if(n.name.toLowerCase()===s.name.toLowerCase()&&n.clockRate===s.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&s.parameters.apt&&!o(n,s,e.codecs,t.codecs))continue;(s=JSON.parse(JSON.stringify(s))).numChannels=Math.min(n.numChannels,s.numChannels),r.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter((function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var n=0;n<t.headerExtensions.length;n++){var o=t.headerExtensions[n];if(e.uri===o.uri){r.headerExtensions.push(o);break}}})),r}function s(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function a(e,t){var r=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return r||e.addRemoteCandidate(t),!r}function c(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}e.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,r,n,o){var i=new Event("track");i.track=r,i.receiver=n,i.transceiver={receiver:n},i.streams=o,e.setTimeout((function(){t._dispatchEvent("track",i)}))}var l=function(r){var o=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){o[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o="string"==typeof n;return o&&(n=[n]),n=n.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)})),delete e.url,e.urls=o?n[0]:n,!!n.length}}))}(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var s=r.iceCandidatePoolSize;s>0;s--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var o=this._createIceAndDtlsTransports();n.iceTransport=o.iceTransport,n.dtlsTransport=o.dtlsTransport}return t||this.transceivers.push(n),n},l.prototype.addTrack=function(t,r){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(n=this.transceivers[o]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),n.track=t,n.stream=r,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},l.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach((function(t){r.addTrack(t,e)}));else{var n=e.clone();e.getTracks().forEach((function(e,t){var r=n.getTracks()[t];e.addEventListener("enabled",(function(e){r.enabled=e.enabled}))})),n.getTracks().forEach((function(e){r.addTrack(e,n)}))}},l.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find((function(e){return e.rtpSender===t}));if(!r)throw c("InvalidAccessError","Sender was not created by this connection.");var n=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var r=t.getSenders().find((function(t){return t.track===e}));r&&t.removeTrack(r)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,r){var n=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;o.state=r?"completed":"gathering",null!==n.transceivers[t].bufferedCandidateEvents&&n.transceivers[t].bufferedCandidateEvents.push(e)},o.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),o},l.prototype._gather=function(t,r){var o=this,i=this.transceivers[r].iceGatherer;if(!i.onlocalcandidate){var s=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),i.onlocalcandidate=function(e){if(!(o.usingBundle&&r>0)){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:r};var a=e.candidate,c=!a||0===Object.keys(a).length;if(c)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),a.component=1,a.ufrag=i.getLocalParameters().usernameFragment;var u=n.writeCandidate(a);s.candidate=Object.assign(s.candidate,n.parseCandidate(u)),s.candidate.candidate=u,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var l=n.getMediaSections(o._localDescription.sdp);l[s.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",o._localDescription.sdp=n.getDescription(o._localDescription.sdp)+l.join("");var p=o.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),c||o._dispatchEvent("icecandidate",s),p&&(o._dispatchEvent("icecandidate",new Event("icecandidate")),o.iceGatheringState="complete",o._emitGatheringStateChange())}},e.setTimeout((function(){s.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var n=new e.RTCDtlsTransport(r);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:n}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,r,o){var s=i(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(s.encodings=e.sendEncodingParameters,s.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(s.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(s)),o&&e.rtpReceiver&&s.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?s.encodings=e.recvEncodingParameters:s.encodings=[{}],s.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(s.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(s.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(s))},l.prototype.setLocalDescription=function(e){var t,r,o=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!s("setLocalDescription",e.type,o.signalingState)||o._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+o.signalingState));if("offer"===e.type)t=n.splitSections(e.sdp),r=t.shift(),t.forEach((function(e,t){var r=n.parseRtpParameters(e);o.transceivers[t].localCapabilities=r})),o.transceivers.forEach((function(e,t){o._gather(e.mid,t)}));else if("answer"===e.type){t=n.splitSections(o._remoteDescription.sdp),r=t.shift();var a=n.matchPrefix(r,"a=ice-lite").length>0;t.forEach((function(e,t){var s=o.transceivers[t],c=s.iceGatherer,u=s.iceTransport,l=s.dtlsTransport,p=s.localCapabilities,d=s.remoteCapabilities;if(!(n.isRejected(e)&&0===n.matchPrefix(e,"a=bundle-only").length||s.rejected)){var g=n.getIceParameters(e,r),f=n.getDtlsParameters(e,r);a&&(f.role="server"),o.usingBundle&&0!==t||(o._gather(s.mid,t),"new"===u.state&&u.start(c,g,a?"controlling":"controlled"),"new"===l.state&&l.start(f));var h=i(p,d);o._transceive(s,h.codecs.length>0,!1)}}))}return o._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?o._updateSignalingState("have-local-offer"):o._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(o){var l=this;if(-1===["offer","answer"].indexOf(o.type))return Promise.reject(c("TypeError",'Unsupported type "'+o.type+'"'));if(!s("setRemoteDescription",o.type,l.signalingState)||l._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+o.type+" in state "+l.signalingState));var p={};l.remoteStreams.forEach((function(e){p[e.id]=e}));var d=[],g=n.splitSections(o.sdp),f=g.shift(),h=n.matchPrefix(f,"a=ice-lite").length>0,m=n.matchPrefix(f,"a=group:BUNDLE ").length>0;l.usingBundle=m;var y=n.matchPrefix(f,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!y&&y.substr(14).split(" ").indexOf("trickle")>=0,g.forEach((function(s,c){var u=n.splitLines(s),g=n.getKind(s),y=n.isRejected(s)&&0===n.matchPrefix(s,"a=bundle-only").length,_=u[0].substr(2).split(" ")[2],v=n.getDirection(s,f),S=n.parseMsid(s),E=n.getMid(s)||n.generateIdentifier();if(y||"application"===g&&("DTLS/SCTP"===_||"UDP/DTLS/SCTP"===_))l.transceivers[c]={mid:E,kind:g,protocol:_,rejected:!0};else{var b,T,A,R,w,O,C,M,I;!y&&l.transceivers[c]&&l.transceivers[c].rejected&&(l.transceivers[c]=l._createTransceiver(g,!0));var P,D,L=n.parseRtpParameters(s);y||(P=n.getIceParameters(s,f),(D=n.getDtlsParameters(s,f)).role="client"),C=n.parseRtpEncodingParameters(s);var N=n.parseRtcpParameters(s),j=n.matchPrefix(s,"a=end-of-candidates",f).length>0,k=n.matchPrefix(s,"a=candidate:").map((function(e){return n.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===o.type||"answer"===o.type)&&!y&&m&&c>0&&l.transceivers[c]&&(l._disposeIceAndDtlsTransports(c),l.transceivers[c].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[c].iceTransport=l.transceivers[0].iceTransport,l.transceivers[c].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[c].rtpSender&&l.transceivers[c].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[c].rtpReceiver&&l.transceivers[c].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==o.type||y)"answer"!==o.type||y||(T=(b=l.transceivers[c]).iceGatherer,A=b.iceTransport,R=b.dtlsTransport,w=b.rtpReceiver,O=b.sendEncodingParameters,M=b.localCapabilities,l.transceivers[c].recvEncodingParameters=C,l.transceivers[c].remoteCapabilities=L,l.transceivers[c].rtcpParameters=N,k.length&&"new"===A.state&&(!h&&!j||m&&0!==c?k.forEach((function(e){a(b.iceTransport,e)})):A.setRemoteCandidates(k)),m&&0!==c||("new"===A.state&&A.start(T,P,"controlling"),"new"===R.state&&R.start(D)),!i(b.localCapabilities,b.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&b.sendEncodingParameters[0].rtx&&delete b.sendEncodingParameters[0].rtx,l._transceive(b,"sendrecv"===v||"recvonly"===v,"sendrecv"===v||"sendonly"===v),!w||"sendrecv"!==v&&"sendonly"!==v?delete b.rtpReceiver:(I=w.track,S?(p[S.stream]||(p[S.stream]=new e.MediaStream),r(I,p[S.stream]),d.push([I,w,p[S.stream]])):(p.default||(p.default=new e.MediaStream),r(I,p.default),d.push([I,w,p.default]))));else{(b=l.transceivers[c]||l._createTransceiver(g)).mid=E,b.iceGatherer||(b.iceGatherer=l._createIceGatherer(c,m)),k.length&&"new"===b.iceTransport.state&&(!j||m&&0!==c?k.forEach((function(e){a(b.iceTransport,e)})):b.iceTransport.setRemoteCandidates(k)),M=e.RTCRtpReceiver.getCapabilities(g),t<15019&&(M.codecs=M.codecs.filter((function(e){return"rtx"!==e.name}))),O=b.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var U,x=!1;"sendrecv"===v||"sendonly"===v?(x=!b.rtpReceiver,w=b.rtpReceiver||new e.RTCRtpReceiver(b.dtlsTransport,g),x&&(I=w.track,S&&"-"===S.stream||(S?(p[S.stream]||(p[S.stream]=new e.MediaStream,Object.defineProperty(p[S.stream],"id",{get:function(){return S.stream}})),Object.defineProperty(I,"id",{get:function(){return S.track}}),U=p[S.stream]):(p.default||(p.default=new e.MediaStream),U=p.default)),U&&(r(I,U),b.associatedRemoteMediaStreams.push(U)),d.push([I,w,U]))):b.rtpReceiver&&b.rtpReceiver.track&&(b.associatedRemoteMediaStreams.forEach((function(t){var r=t.getTracks().find((function(e){return e.id===b.rtpReceiver.track.id}));r&&function(t,r){r.removeTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(r,t)})),b.associatedRemoteMediaStreams=[]),b.localCapabilities=M,b.remoteCapabilities=L,b.rtpReceiver=w,b.rtcpParameters=N,b.sendEncodingParameters=O,b.recvEncodingParameters=C,l._transceive(l.transceivers[c],!1,x)}}})),void 0===l._dtlsRole&&(l._dtlsRole="offer"===o.type?"active":"passive"),l._remoteDescription={type:o.type,sdp:o.sdp},"offer"===o.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(p).forEach((function(t){var r=p[t];if(r.getTracks().length){if(-1===l.remoteStreams.indexOf(r)){l.remoteStreams.push(r);var n=new Event("addstream");n.stream=r,e.setTimeout((function(){l._dispatchEvent("addstream",n)}))}d.forEach((function(e){var t=e[0],n=e[1];r.id===e[2].id&&u(l,t,n,[r])}))}})),d.forEach((function(e){e[2]||u(l,e[0],e[1],[])})),e.setTimeout((function(){l&&l.transceivers&&l.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},l.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var i=r.transceivers.filter((function(e){return"audio"===e.kind})).length,s=r.transceivers.filter((function(e){return"video"===e.kind})).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(i=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(r.transceivers.forEach((function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--s<0&&(e.wantReceive=!1)}));i>0||s>0;)i>0&&(r._createTransceiver("audio"),i--),s>0&&(r._createTransceiver("video"),s--);var u=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach((function(o,i){var s=o.track,a=o.kind,c=o.mid||n.generateIdentifier();o.mid=c,o.iceGatherer||(o.iceGatherer=r._createIceGatherer(i,r.usingBundle));var u=e.RTCRtpSender.getCapabilities(a);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),o.remoteCapabilities&&o.remoteCapabilities.codecs&&o.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){(o.remoteCapabilities&&o.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=o.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];s&&t>=15019&&"video"===a&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),o.wantReceive&&(o.rtpReceiver=new e.RTCRtpReceiver(o.dtlsTransport,a)),o.localCapabilities=u,o.sendEncodingParameters=l})),"max-compat"!==r._config.bundlePolicy&&(u+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",r.transceivers.forEach((function(e,t){u+=o(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,u+="a="+n.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(l)},l.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var s=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(s+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n";var a=n.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach((function(e,n){if(!(n+1>a)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?s+="m=application 0 DTLS/SCTP 5000\r\n":s+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?s+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(s+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(s+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;e.stream&&("audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var u=i(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,s+=o(e,u,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(s+="a=rtcp-rsize\r\n")}}));var u=new e.RTCSessionDescription({type:"answer",sdp:s});return Promise.resolve(u)},l.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(o,i){if(!r._remoteDescription)return i(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var s=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<r.transceivers.length;u++)if(r.transceivers[u].mid===e.sdpMid){s=u;break}var l=r.transceivers[s];if(!l)return i(c("OperationError","Can not add ICE candidate"));if(l.rejected)return o();var p=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===p.protocol&&(0===p.port||9===p.port))return o();if(p.component&&1!==p.component)return o();if((0===s||s>0&&l.iceTransport!==r.transceivers[0].iceTransport)&&!a(l.iceTransport,p))return i(c("OperationError","Can not add ICE candidate"));var d=e.candidate.trim();0===d.indexOf("a=")&&(d=d.substr(2)),(t=n.getMediaSections(r._remoteDescription.sdp))[s]+="a="+(p.type?d:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var g=0;g<r.transceivers.length&&(r.transceivers[g].rejected||(r.transceivers[g].iceTransport.addRemoteCandidate({}),(t=n.getMediaSections(r._remoteDescription.sdp))[g]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join(""),!r.usingBundle));g++);o()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)})),!r)throw c("InvalidAccessError","Invalid selector.");return r.getStats()}var n=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&n.push(e[t].getStats())}))})),Promise.all(n).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(r){var n;e[r].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(n=e[r]).type]||n.type,t.set(r,e[r])})),t}))}}}));var p=["createOffer","createAnswer"];return p.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(p=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}},"./node_modules/sdp/sdp.js":e=>{"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var r=t.splitSections(e);return r&&r[0]},t.getMediaSections=function(e){var r=t.splitSections(e);return r.shift(),r},t.matchPrefix=function(e,r){return t.splitLines(e).filter((function(e){return 0===e.indexOf(r)}))},t.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1]}return r},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<n.length;o++)r[(t=n[o].trim().split("="))[0].trim()]=t[1];return r},t.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var r=t.matchPrefix(e,"a=mid:")[0];if(r)return r.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,r){return{role:"auto",fingerprints:t.matchPrefix(e+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,r){return t.matchPrefix(e+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,r){var n=t.matchPrefix(e+r,"a=ice-ufrag:")[0],o=t.matchPrefix(e+r,"a=ice-pwd:")[0];return n&&o?{usernameFragment:n.substr(12),password:o.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" "),o=3;o<n.length;o++){var i=n[o],s=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(s){var a=t.parseRtpMap(s),c=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(a.parameters=c.length?t.parseFmtp(c[0]):{},a.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),r.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(a.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){r.headerExtensions.push(t.parseExtmap(e))})),r},t.writeRtpDescription=function(e,r){var n="";n+="m="+e+" ",n+=r.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=r.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",r.codecs.forEach((function(e){n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));var o=0;return r.codecs.forEach((function(e){e.maxptime>o&&(o=e.maxptime)})),o>0&&(n+="a=maxptime:"+o+"\r\n"),n+="a=rtcp-mux\r\n",r.headerExtensions&&r.headerExtensions.forEach((function(e){n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){var r,n=[],o=t.parseRtpParameters(e),i=-1!==o.fecMechanisms.indexOf("RED"),s=-1!==o.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=a.length>0&&a[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(r=u[0][1]),o.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&r&&(t.rtx={ssrc:r}),n.push(t),i&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&c&&n.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},t.parseRtcpParameters=function(e){var r={},n=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(r.cname=n.value,r.ssrc=n.ssrc);var o=t.matchPrefix(e,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=0===o.length;var i=t.matchPrefix(e,"a=rtcp-mux");return r.mux=i.length>0,r},t.parseMsid=function(e){var r,n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(r=n[0].substr(7).split(" "))[0],track:r[1]};var o=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return o.length>0?{stream:(r=o[0].value.split(" "))[0],track:r[1]}:void 0},t.parseSctpDescription=function(e){var r,n=t.parseMLine(e),o=t.matchPrefix(e,"a=max-message-size:");o.length>0&&(r=parseInt(o[0].substr(19),10)),isNaN(r)&&(r=65536);var i=t.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substr(12),10),protocol:n.fmt,maxMessageSize:r};if(t.matchPrefix(e,"a=sctpmap:").length>0){var s=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,r,n){var o=void 0!==r?r:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,r,n,o){var i=t.writeRtpDescription(e.kind,r);if(i+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var s="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+s,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),i},t.getDirection=function(e,r){for(var n=t.splitLines(e),o=0;o<n.length;o++)switch(n[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[o].substr(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var r=t.splitLines(e)[0].substr(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(e){var r=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var r=t.splitLines(e),n=0;n<r.length;n++)if(r[n].length<2||"="!==r[n].charAt(1))return!1;return!0},e.exports=t},"./node_modules/webrtc-adapter/src/js/adapter_core.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=(0,r("./node_modules/webrtc-adapter/src/js/adapter_factory.js").adapterFactory)({window:"undefined"==typeof window?void 0:window})},"./node_modules/webrtc-adapter/src/js/adapter_factory.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{adapterFactory:()=>u});var n=r("./node_modules/webrtc-adapter/src/js/utils.js"),o=r("./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js"),i=r("./node_modules/webrtc-adapter/src/js/edge/edge_shim.js"),s=r("./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js"),a=r("./node_modules/webrtc-adapter/src/js/safari/safari_shim.js"),c=r("./node_modules/webrtc-adapter/src/js/common_shim.js");function u(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};const r=n.log,u=n.detectBrowser(e),l={browserDetails:u,commonShim:c,extractVersion:n.extractVersion,disableLog:n.disableLog,disableWarnings:n.disableWarnings};switch(u.browser){case"chrome":if(!o||!o.shimPeerConnection||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),l;if(null===u.version)return r("Chrome shim can not determine version, not shimming."),l;r("adapter.js shimming chrome."),l.browserShim=o,c.shimAddIceCandidateNullOrEmpty(e,u),o.shimGetUserMedia(e,u),o.shimMediaStream(e,u),o.shimPeerConnection(e,u),o.shimOnTrack(e,u),o.shimAddTrackRemoveTrack(e,u),o.shimGetSendersWithDtmf(e,u),o.shimGetStats(e,u),o.shimSenderReceiverGetStats(e,u),o.fixNegotiationNeeded(e,u),c.shimRTCIceCandidate(e,u),c.shimConnectionState(e,u),c.shimMaxMessageSize(e,u),c.shimSendThrowTypeError(e,u),c.removeExtmapAllowMixed(e,u);break;case"firefox":if(!s||!s.shimPeerConnection||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),l;r("adapter.js shimming firefox."),l.browserShim=s,c.shimAddIceCandidateNullOrEmpty(e,u),s.shimGetUserMedia(e,u),s.shimPeerConnection(e,u),s.shimOnTrack(e,u),s.shimRemoveStream(e,u),s.shimSenderGetStats(e,u),s.shimReceiverGetStats(e,u),s.shimRTCDataChannel(e,u),s.shimAddTransceiver(e,u),s.shimGetParameters(e,u),s.shimCreateOffer(e,u),s.shimCreateAnswer(e,u),c.shimRTCIceCandidate(e,u),c.shimConnectionState(e,u),c.shimMaxMessageSize(e,u),c.shimSendThrowTypeError(e,u);break;case"edge":if(!i||!i.shimPeerConnection||!t.shimEdge)return r("MS edge shim is not included in this adapter release."),l;r("adapter.js shimming edge."),l.browserShim=i,i.shimGetUserMedia(e,u),i.shimGetDisplayMedia(e,u),i.shimPeerConnection(e,u),i.shimReplaceTrack(e,u),c.shimMaxMessageSize(e,u),c.shimSendThrowTypeError(e,u);break;case"safari":if(!a||!t.shimSafari)return r("Safari shim is not included in this adapter release."),l;r("adapter.js shimming safari."),l.browserShim=a,c.shimAddIceCandidateNullOrEmpty(e,u),a.shimRTCIceServerUrls(e,u),a.shimCreateOfferLegacy(e,u),a.shimCallbacksAPI(e,u),a.shimLocalStreamsAPI(e,u),a.shimRemoteStreamsAPI(e,u),a.shimTrackEventTransceiver(e,u),a.shimGetUserMedia(e,u),a.shimAudioContext(e,u),c.shimRTCIceCandidate(e,u),c.shimMaxMessageSize(e,u),c.shimSendThrowTypeError(e,u),c.removeExtmapAllowMixed(e,u);break;default:r("Unsupported browser!")}return l}},"./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{shimGetUserMedia:()=>o.shimGetUserMedia,shimGetDisplayMedia:()=>i.shimGetDisplayMedia,shimMediaStream:()=>s,shimOnTrack:()=>a,shimGetSendersWithDtmf:()=>c,shimGetStats:()=>u,shimSenderReceiverGetStats:()=>l,shimAddTrackRemoveTrackWithNative:()=>p,shimAddTrackRemoveTrack:()=>d,shimPeerConnection:()=>g,fixNegotiationNeeded:()=>f});var n=r("./node_modules/webrtc-adapter/src/js/utils.js"),o=r("./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js"),i=r("./node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js");function s(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function a(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.track.id)):{track:r.track};const o=new Event("track");o.track=r.track,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)})),t.stream.getTracks().forEach((r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.id)):{track:r};const o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else n.wrapPeerConnectionEvent(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function c(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function u(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,n]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach((e=>{const r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{r[t]=e.stat(t)})),t[r.id]=r})),t},i=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const n=function(e){r(i(o(e)))};return t.apply(this,[n,e])}return new Promise(((e,r)=>{t.apply(this,[function(t){e(i(o(t)))},r])})).then(r,n)}}function l(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>n.filterStats(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),n.wrapPeerConnectionEvent(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>n.filterStats(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,r,n;return this.getSenders().forEach((r=>{r.track===e&&(t?n=!0:t=r)})),this.getReceivers().forEach((t=>(t.track===e&&(r?n=!0:r=t),t.track===e))),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function p(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();r.apply(this,arguments);const n=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),o.apply(this,arguments)}}function d(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return p(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}n.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(o.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const n=new e.MediaStream([t]);this._streams[r.id]=n,this._reverseStreams[n.id]=r,this.addStream(n)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[t=>{const r=i(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then((e=>i(this,e)))}};e.RTCPeerConnection.prototype[t]=n[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),o.id)})),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=a.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((r=>{this._streams[r].getTracks().find((t=>e.track===t))&&(t=this._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function g(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function f(e,t){n.wrapPeerConnectionEvent(e,"negotiationneeded",(e=>{const r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e}))}},"./node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js":(e,t,r)=>{"use strict";function n(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then((t=>{const n=r.video&&r.video.width,o=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},n&&(r.video.mandatory.maxWidth=n),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}r.r(t),r.d(t,{shimGetDisplayMedia:()=>n})},"./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{shimGetUserMedia:()=>o});const n=r("./node_modules/webrtc-adapter/src/js/utils.js").log;function o(e,t){const r=e&&e.navigator;if(!r.mediaDevices)return;const o=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((r=>{if("require"===r||"advanced"===r||"mediaSource"===r)return;const n="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[o("min",r)]=n.ideal,t.optional.push(e),e={},e[o("max",r)]=n.ideal,t.optional.push(e)):(e[o("",r)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach((e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=o(e.audio)}if(e&&"object"==typeof e.video){let s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});const a=t.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?t=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(t=["front"]),t)return r.mediaDevices.enumerateDevices().then((r=>{let a=(r=r.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&r.length&&t.includes("back")&&(a=r[r.length-1]),a&&(e.video.deviceId=s.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=o(e.video),n("chrome: "+JSON.stringify(e)),i(e)}))}e.video=o(e.video)}return n("chrome: "+JSON.stringify(e)),i(e)},s=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){i(e,(e=>{r.webkitGetUserMedia(e,t,(e=>{n&&n(s(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){const e=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(s(e))))))}}}},"./node_modules/webrtc-adapter/src/js/common_shim.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{shimRTCIceCandidate:()=>s,shimMaxMessageSize:()=>a,shimSendThrowTypeError:()=>c,shimConnectionState:()=>u,removeExtmapAllowMixed:()=>l,shimAddIceCandidateNullOrEmpty:()=>p});var n=r("./node_modules/sdp/sdp.js"),o=r.n(n),i=r("./node_modules/webrtc-adapter/src/js/utils.js");function s(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const r=new t(e),n=o().parseCandidate(e.candidate),i=Object.assign(r,n);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function a(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=o().splitSections(e.sdp);return t.shift(),t.some((e=>{const t=o().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),r=function(e){let r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(e),n=function(e,r){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);const i=o().matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?n=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],e);let i;i=0===r&&0===n?Number.POSITIVE_INFINITY:0===r||0===n?Math.max(r,n):Math.min(r,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>i}),this._sctp=s}return r.apply(this,arguments)}}function c(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const r=e.send;e.send=function(){const n=arguments[0],o=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=r.apply(this,arguments);return t(e,this),e},i.wrapPeerConnectionEvent(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function u(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}function l(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const r=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return r.apply(this,arguments)}}function p(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}},"./node_modules/webrtc-adapter/src/js/edge/edge_shim.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{shimGetUserMedia:()=>a.shimGetUserMedia,shimGetDisplayMedia:()=>c.shimGetDisplayMedia,shimPeerConnection:()=>u,shimReplaceTrack:()=>l});var n=r("./node_modules/webrtc-adapter/src/js/utils.js"),o=r("./node_modules/webrtc-adapter/src/js/edge/filtericeservers.js"),i=r("./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js"),s=r.n(i),a=r("./node_modules/webrtc-adapter/src/js/edge/getusermedia.js"),c=r("./node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js");function u(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const r=new Event("enabled");r.enabled=e,this.dispatchEvent(r)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const r=s()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,o.filterIceServers)(e.iceServers,t.version),n.log("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function l(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}},"./node_modules/webrtc-adapter/src/js/edge/filtericeservers.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{filterIceServers:()=>o});var n=r("./node_modules/webrtc-adapter/src/js/utils.js");function o(e,t){let r=!1;return(e=JSON.parse(JSON.stringify(e))).filter((e=>{if(e&&(e.urls||e.url)){let t=e.urls||e.url;e.url&&!e.urls&&n.deprecated("RTCIceServer.url","RTCIceServer.urls");const o="string"==typeof t;return o&&(t=[t]),t=t.filter((e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!r?(r=!0,!0):t&&!r})),delete e.url,e.urls=o?t[0]:t,!!t.length}}))}},"./node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js":(e,t,r)=>{"use strict";function n(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}r.r(t),r.d(t,{shimGetDisplayMedia:()=>n})},"./node_modules/webrtc-adapter/src/js/edge/getusermedia.js":(e,t,r)=>{"use strict";function n(e){const t=e&&e.navigator,r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch((e=>Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e))))}}r.r(t),r.d(t,{shimGetUserMedia:()=>n})},"./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{shimGetUserMedia:()=>o.shimGetUserMedia,shimGetDisplayMedia:()=>i.shimGetDisplayMedia,shimOnTrack:()=>s,shimPeerConnection:()=>a,shimSenderGetStats:()=>c,shimReceiverGetStats:()=>u,shimRemoveStream:()=>l,shimRTCDataChannel:()=>p,shimAddTransceiver:()=>d,shimGetParameters:()=>g,shimCreateOffer:()=>f,shimCreateAnswer:()=>h});var n=r("./node_modules/webrtc-adapter/src/js/utils.js"),o=r("./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js"),i=r("./node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js");function s(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function a(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return n.apply(this,[e||null]).then((e=>{if(t.version<53&&!o)try{e.forEach((e=>{e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,n)=>{e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(o,i)}}function c(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function u(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),n.wrapPeerConnectionEvent(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function l(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){n.deprecated("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function p(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function d(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],r=e&&"sendEncodings"in e;r&&e.sendEncodings.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const n=t.apply(this,arguments);if(r){const{sender:t}=n,r=t.getParameters();(!("encodings"in r)||1===r.encodings.length&&0===Object.keys(r.encodings[0]).length)&&(r.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(r).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return n})}function g(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function f(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function h(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}},"./node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js":(e,t,r)=>{"use strict";function n(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}r.r(t),r.d(t,{shimGetDisplayMedia:()=>n})},"./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{shimGetUserMedia:()=>o});var n=r("./node_modules/webrtc-adapter/src/js/utils.js");function o(e,t){const r=e&&e.navigator,o=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,o){n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,o)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(r){return"object"==typeof r&&"object"==typeof r.audio&&(r=JSON.parse(JSON.stringify(r)),e(r.audio,"autoGainControl","mozAutoGainControl"),e(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},o&&o.prototype.getSettings){const t=o.prototype.getSettings;o.prototype.getSettings=function(){const r=t.apply(this,arguments);return e(r,"mozAutoGainControl","autoGainControl"),e(r,"mozNoiseSuppression","noiseSuppression"),r}}if(o&&o.prototype.applyConstraints){const t=o.prototype.applyConstraints;o.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"==typeof r&&(r=JSON.parse(JSON.stringify(r)),e(r,"autoGainControl","mozAutoGainControl"),e(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}},"./node_modules/webrtc-adapter/src/js/safari/safari_shim.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{shimLocalStreamsAPI:()=>o,shimRemoteStreamsAPI:()=>i,shimCallbacksAPI:()=>s,shimGetUserMedia:()=>a,shimConstraints:()=>c,shimRTCIceServerUrls:()=>u,shimTrackEventTransceiver:()=>l,shimCreateOfferLegacy:()=>p,shimAudioContext:()=>d});var n=r("./node_modules/webrtc-adapter/src/js/utils.js");function o(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((r=>t.call(this,r,e))),e.getVideoTracks().forEach((r=>t.call(this,r,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n&&n.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const r=e.getTracks();this.getSenders().forEach((e=>{r.includes(e.track)&&this.removeTrack(e)}))})}}function i(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}))}),t.apply(e,arguments)}}}function s(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};let a=function(e,t,r){const n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=a,a=function(e,t,r){const n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=a,a=function(e,t,r){const n=s.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=a}function a(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>r(c(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function c(e){return e&&void 0!==e.video?Object.assign({},e,{video:n.compactObject(e.video)}):e}function u(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){const t=[];for(let r=0;r<e.iceServers.length;r++){let o=e.iceServers[r];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),o=JSON.parse(JSON.stringify(o)),o.urls=o.url,delete o.url,t.push(o)):t.push(e.iceServers[r])}e.iceServers=t}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function l(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function p(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const r=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function d(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}},"./node_modules/webrtc-adapter/src/js/utils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{extractVersion:()=>i,wrapPeerConnectionEvent:()=>s,disableLog:()=>a,disableWarnings:()=>c,log:()=>u,deprecated:()=>l,detectBrowser:()=>p,compactObject:()=>g,walkStats:()=>f,filterStats:()=>h});let n=!0,o=!0;function i(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function s(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,o=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,i),o.apply(this,[e,i])};const i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(r))return i.apply(this,arguments);const n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function a(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(n=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function c(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(o=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function u(){if("object"==typeof window){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function l(e,t){o&&console.warn(e+" is deprecated, please use "+t+" instead.")}function p(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.mozGetUserMedia)t.browser="firefox",t.version=i(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=i(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.mediaDevices&&r.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=i(r.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=i(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function d(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e){return d(e)?Object.keys(e).reduce((function(t,r){const n=d(e[r]),o=n?g(e[r]):e[r],i=n&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[r]:o})}),{}):e}function f(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((n=>{n.endsWith("Id")?f(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((t=>{f(e,e.get(t),r)}))})))}function h(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((t=>{e.forEach((r=>{r.type===n&&r.trackId===t.id&&f(e,r,o)}))})),o}}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{createSignalMessage:()=>t,P2P_CONNECT_MESSAGE:()=>o,P2P_ICE_CANDIDATE_MESSAGE:()=>i,Signaler:()=>s,PeerConnection:()=>a}),r("./node_modules/webrtc-adapter/src/js/adapter_core.js");var e=r("./node_modules/ably/promises.js");function t(e,t){return{timestamp:(new Date).getTime(),receiver:e,...t}}const o="connect",i="candidate";class s{constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;this.token=t,this.client=new e.Realtime.Promise({token:t,autoConnect:!1,idempotentRestPublishing:!0,queueMessages:!1,disconnectedRetryTimeout:3e3,suspendedRetryTimeout:15e3,echoMessages:!1,log:{level:r}}),this.channel=this.channel.bind(this)}channel(e){return this.client.channels.get(e)}}class a{constructor(e,t,r,n){this.connectionId=n,this.signalerChannel=e,this.ice=t,this.isPolite=r,this.pc=null,this.queuedCandidates=[],this.onNegotiationNeeded=null,this.onIceCandidate=null,this.onSignalerMessage=null,this._flushQueuedCandidates=this._flushQueuedCandidates.bind(this),this._pruneIce=this._pruneIce.bind(this),this.close=this.close.bind(this),this.sendReadyMessage=this.sendReadyMessage.bind(this),this._handleConnectMessage=this._handleConnectMessage.bind(this),this._handleCandidateMessage=this._handleCandidateMessage.bind(this),this.makingOffer=!1,this.ignoreOffer=!1,this._pruneIce();const o={...this.ice};Array.isArray(o.iceServers)||(o.iceServers=[o.iceServers]),this.pc=new RTCPeerConnection(o)}connect(e,r){this.remotePeerId=e,this.makingOffer=!1,this.pc.onnegotiationneeded=async()=>{try{this.makingOffer=!0,await this.pc.setLocalDescription(),this.signalerChannel.publish(o,t(e,{description:this.pc.localDescription}))}catch(e){console.error(e)}finally{this.makingOffer=!1}},this.pc.onicecandidate=r=>{let{candidate:n}=r;n&&this.signalerChannel.publish(i,t(e,{candidate:n}))},this.signalerChannel.subscribe(o,this._handleConnectMessage),this.signalerChannel.subscribe(i,this._handleCandidateMessage),r&&this._handleConnectMessage(r)}close(){this.signalerChannel.unsubscribe(this._handleCandidateMessage),this.signalerChannel.unsubscribe(this._handleConnectMessage),this.signalerChannel=null,this.pc.onnegotiationneeded=null,this.pc.onicecandidate=null,this.pc.ontrack=null,this.queuedCandidates=[],this.ice=null,this.pc.close(),this.pc=null}sendReadyMessage(){this.signalerChannel.publish(o,t(this.remotePeerId,{}))}async _handleConnectMessage(e){const r=e.data,n=e.clientId;if(r.receiver!==this.signalerChannel.connectionManager.connectionDetails.clientId)return;if(void 0!==this.remotePeerId&&n!==this.remotePeerId)return;const i=e.data.description,s="offer"===i.type&&(this.makingOffer||"stable"!==this.pc.signalingState);try{if(this.ignoreOffer=!this.isPolite&&s,this.ignoreOffer)return;if(await this.pc.setRemoteDescription(i),this._flushQueuedCandidates(),"offer"===i.type){await this.pc.setLocalDescription();const r=e.clientId;this.signalerChannel.publish(o,t(r,{description:this.pc.localDescription}))}}catch(e){console.error(e)}}async _handleCandidateMessage(e){const t=e.data,r=e.clientId;if(t.receiver===this.signalerChannel.connectionManager.connectionDetails.clientId)if(void 0===this.remotePeerId||r===this.remotePeerId)try{if(!this.pc.remoteDescription)return void this.queuedCandidates.push(t.candidate);try{await this.pc.addIceCandidate(t.candidate)}catch(e){if(!this.ignoreOffer)throw e}}catch(e){console.error(e)}else console.error(`SenderId does not match Remote peer id for ICE candidate: ${r}`)}_flushQueuedCandidates(){this.queuedCandidates.forEach((e=>{this.pc.addIceCandidate(e)})),this.queuedCandidates.length=0}_pruneIce(){const e=this.ice.iceServers.urls,t=[];let r=!1;e.forEach((e=>{if(e.startsWith("stun")&&!r)return r=!0,void t.push(e);(e.startsWith("turn")&&e.endsWith(":80?transport=tcp")||e.startsWith("turns")&&e.endsWith(":443?transport=tcp"))&&t.push(e)})),this.ice.iceServers.urls=t}}})(),n})()},e.exports=t()},7198:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();o.exportSymbol("proto.api.models.v1.user_details.User",null,i),o.exportSymbol("proto.api.models.v1.user_details.UserLocation",null,i),o.exportSymbol("proto.api.models.v1.user_details.UserName",null,i),o.exportSymbol("proto.api.models.v1.user_details.UserPhone",null,i),proto.api.models.v1.user_details.User=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.models.v1.user_details.User,n.Message),o.DEBUG&&!COMPILED&&(proto.api.models.v1.user_details.User.displayName="proto.api.models.v1.user_details.User"),proto.api.models.v1.user_details.UserName=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.models.v1.user_details.UserName,n.Message),o.DEBUG&&!COMPILED&&(proto.api.models.v1.user_details.UserName.displayName="proto.api.models.v1.user_details.UserName"),proto.api.models.v1.user_details.UserPhone=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.models.v1.user_details.UserPhone,n.Message),o.DEBUG&&!COMPILED&&(proto.api.models.v1.user_details.UserPhone.displayName="proto.api.models.v1.user_details.UserPhone"),proto.api.models.v1.user_details.UserLocation=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.models.v1.user_details.UserLocation,n.Message),o.DEBUG&&!COMPILED&&(proto.api.models.v1.user_details.UserLocation.displayName="proto.api.models.v1.user_details.UserLocation"),n.Message.GENERATE_TO_OBJECT&&(proto.api.models.v1.user_details.User.prototype.toObject=function(e){return proto.api.models.v1.user_details.User.toObject(e,this)},proto.api.models.v1.user_details.User.toObject=function(e,t){var r,o={id:n.Message.getFieldWithDefault(t,1,""),username:n.Message.getFieldWithDefault(t,2,""),email:n.Message.getFieldWithDefault(t,3,""),name:(r=t.getName())&&proto.api.models.v1.user_details.UserName.toObject(e,r),date:n.Message.getFieldWithDefault(t,5,""),timezone:n.Message.getFieldWithDefault(t,6,""),trackusage:n.Message.getBooleanFieldWithDefault(t,7,!1),phone:(r=t.getPhone())&&proto.api.models.v1.user_details.UserPhone.toObject(e,r),location:(r=t.getLocation())&&proto.api.models.v1.user_details.UserLocation.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.api.models.v1.user_details.User.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.models.v1.user_details.User;return proto.api.models.v1.user_details.User.deserializeBinaryFromReader(r,t)},proto.api.models.v1.user_details.User.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readString(),e.setUsername(r);break;case 3:r=t.readString(),e.setEmail(r);break;case 4:r=new proto.api.models.v1.user_details.UserName,t.readMessage(r,proto.api.models.v1.user_details.UserName.deserializeBinaryFromReader),e.setName(r);break;case 5:r=t.readString(),e.setDate(r);break;case 6:r=t.readString(),e.setTimezone(r);break;case 7:r=t.readBool(),e.setTrackusage(r);break;case 8:r=new proto.api.models.v1.user_details.UserPhone,t.readMessage(r,proto.api.models.v1.user_details.UserPhone.deserializeBinaryFromReader),e.setPhone(r);break;case 9:r=new proto.api.models.v1.user_details.UserLocation,t.readMessage(r,proto.api.models.v1.user_details.UserLocation.deserializeBinaryFromReader),e.setLocation(r);break;default:t.skipField()}return e},proto.api.models.v1.user_details.User.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.models.v1.user_details.User.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.models.v1.user_details.User.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(1,r),(r=e.getUsername()).length>0&&t.writeString(2,r),(r=e.getEmail()).length>0&&t.writeString(3,r),null!=(r=e.getName())&&t.writeMessage(4,r,proto.api.models.v1.user_details.UserName.serializeBinaryToWriter),(r=e.getDate()).length>0&&t.writeString(5,r),(r=e.getTimezone()).length>0&&t.writeString(6,r),(r=e.getTrackusage())&&t.writeBool(7,r),null!=(r=e.getPhone())&&t.writeMessage(8,r,proto.api.models.v1.user_details.UserPhone.serializeBinaryToWriter),null!=(r=e.getLocation())&&t.writeMessage(9,r,proto.api.models.v1.user_details.UserLocation.serializeBinaryToWriter)},proto.api.models.v1.user_details.User.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.models.v1.user_details.User.prototype.setId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.models.v1.user_details.User.prototype.getUsername=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.models.v1.user_details.User.prototype.setUsername=function(e){return n.Message.setProto3StringField(this,2,e)},proto.api.models.v1.user_details.User.prototype.getEmail=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.api.models.v1.user_details.User.prototype.setEmail=function(e){return n.Message.setProto3StringField(this,3,e)},proto.api.models.v1.user_details.User.prototype.getName=function(){return n.Message.getWrapperField(this,proto.api.models.v1.user_details.UserName,4)},proto.api.models.v1.user_details.User.prototype.setName=function(e){return n.Message.setWrapperField(this,4,e)},proto.api.models.v1.user_details.User.prototype.clearName=function(){return this.setName(void 0)},proto.api.models.v1.user_details.User.prototype.hasName=function(){return null!=n.Message.getField(this,4)},proto.api.models.v1.user_details.User.prototype.getDate=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.api.models.v1.user_details.User.prototype.setDate=function(e){return n.Message.setProto3StringField(this,5,e)},proto.api.models.v1.user_details.User.prototype.getTimezone=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.api.models.v1.user_details.User.prototype.setTimezone=function(e){return n.Message.setProto3StringField(this,6,e)},proto.api.models.v1.user_details.User.prototype.getTrackusage=function(){return n.Message.getBooleanFieldWithDefault(this,7,!1)},proto.api.models.v1.user_details.User.prototype.setTrackusage=function(e){return n.Message.setProto3BooleanField(this,7,e)},proto.api.models.v1.user_details.User.prototype.getPhone=function(){return n.Message.getWrapperField(this,proto.api.models.v1.user_details.UserPhone,8)},proto.api.models.v1.user_details.User.prototype.setPhone=function(e){return n.Message.setWrapperField(this,8,e)},proto.api.models.v1.user_details.User.prototype.clearPhone=function(){return this.setPhone(void 0)},proto.api.models.v1.user_details.User.prototype.hasPhone=function(){return null!=n.Message.getField(this,8)},proto.api.models.v1.user_details.User.prototype.getLocation=function(){return n.Message.getWrapperField(this,proto.api.models.v1.user_details.UserLocation,9)},proto.api.models.v1.user_details.User.prototype.setLocation=function(e){return n.Message.setWrapperField(this,9,e)},proto.api.models.v1.user_details.User.prototype.clearLocation=function(){return this.setLocation(void 0)},proto.api.models.v1.user_details.User.prototype.hasLocation=function(){return null!=n.Message.getField(this,9)},n.Message.GENERATE_TO_OBJECT&&(proto.api.models.v1.user_details.UserName.prototype.toObject=function(e){return proto.api.models.v1.user_details.UserName.toObject(e,this)},proto.api.models.v1.user_details.UserName.toObject=function(e,t){var r={firstname:n.Message.getFieldWithDefault(t,1,""),lastname:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.api.models.v1.user_details.UserName.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.models.v1.user_details.UserName;return proto.api.models.v1.user_details.UserName.deserializeBinaryFromReader(r,t)},proto.api.models.v1.user_details.UserName.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setFirstname(r);break;case 2:r=t.readString(),e.setLastname(r);break;default:t.skipField()}return e},proto.api.models.v1.user_details.UserName.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.models.v1.user_details.UserName.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.models.v1.user_details.UserName.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getFirstname()).length>0&&t.writeString(1,r),(r=e.getLastname()).length>0&&t.writeString(2,r)},proto.api.models.v1.user_details.UserName.prototype.getFirstname=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.models.v1.user_details.UserName.prototype.setFirstname=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.models.v1.user_details.UserName.prototype.getLastname=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.models.v1.user_details.UserName.prototype.setLastname=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.api.models.v1.user_details.UserPhone.prototype.toObject=function(e){return proto.api.models.v1.user_details.UserPhone.toObject(e,this)},proto.api.models.v1.user_details.UserPhone.toObject=function(e,t){var r={countrycode:n.Message.getFieldWithDefault(t,1,""),number:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.api.models.v1.user_details.UserPhone.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.models.v1.user_details.UserPhone;return proto.api.models.v1.user_details.UserPhone.deserializeBinaryFromReader(r,t)},proto.api.models.v1.user_details.UserPhone.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCountrycode(r);break;case 2:r=t.readString(),e.setNumber(r);break;default:t.skipField()}return e},proto.api.models.v1.user_details.UserPhone.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.models.v1.user_details.UserPhone.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.models.v1.user_details.UserPhone.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getCountrycode()).length>0&&t.writeString(1,r),(r=e.getNumber()).length>0&&t.writeString(2,r)},proto.api.models.v1.user_details.UserPhone.prototype.getCountrycode=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.models.v1.user_details.UserPhone.prototype.setCountrycode=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.models.v1.user_details.UserPhone.prototype.getNumber=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.models.v1.user_details.UserPhone.prototype.setNumber=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.api.models.v1.user_details.UserLocation.prototype.toObject=function(e){return proto.api.models.v1.user_details.UserLocation.toObject(e,this)},proto.api.models.v1.user_details.UserLocation.toObject=function(e,t){var r={country:n.Message.getFieldWithDefault(t,1,""),suburb:n.Message.getFieldWithDefault(t,2,""),postcode:n.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.api.models.v1.user_details.UserLocation.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.models.v1.user_details.UserLocation;return proto.api.models.v1.user_details.UserLocation.deserializeBinaryFromReader(r,t)},proto.api.models.v1.user_details.UserLocation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCountry(r);break;case 2:r=t.readString(),e.setSuburb(r);break;case 3:r=t.readString(),e.setPostcode(r);break;default:t.skipField()}return e},proto.api.models.v1.user_details.UserLocation.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.models.v1.user_details.UserLocation.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.models.v1.user_details.UserLocation.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getCountry()).length>0&&t.writeString(1,r),(r=e.getSuburb()).length>0&&t.writeString(2,r),(r=e.getPostcode()).length>0&&t.writeString(3,r)},proto.api.models.v1.user_details.UserLocation.prototype.getCountry=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.models.v1.user_details.UserLocation.prototype.setCountry=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.models.v1.user_details.UserLocation.prototype.getSuburb=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.models.v1.user_details.UserLocation.prototype.setSuburb=function(e){return n.Message.setProto3StringField(this,2,e)},proto.api.models.v1.user_details.UserLocation.prototype.getPostcode=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.api.models.v1.user_details.UserLocation.prototype.setPostcode=function(e){return n.Message.setProto3StringField(this,3,e)},o.object.extend(t,proto.api.models.v1.user_details)},7741:(e,t,r)=>{var n=r(3157),o="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==o&&o||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();n.exportSymbol("proto.api.models.v2.ManagedDeviceState",null,o),proto.api.models.v2.ManagedDeviceState={CREATED:0,ENROLMENT_STARTED:1,ENROLLED:2},n.object.extend(t,proto.api.models.v2)},245:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();o.exportSymbol("proto.api.requests.school_manager.WindowUpdate",null,i),o.exportSymbol("proto.api.requests.school_manager.WindowUpdate.BackgroundTab",null,i),o.exportSymbol("proto.api.requests.school_manager.WindowUpdateRequest",null,i),proto.api.requests.school_manager.WindowUpdateRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.requests.school_manager.WindowUpdateRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.api.requests.school_manager.WindowUpdateRequest.displayName="proto.api.requests.school_manager.WindowUpdateRequest"),proto.api.requests.school_manager.WindowUpdate=function(e){n.Message.initialize(this,e,0,-1,proto.api.requests.school_manager.WindowUpdate.repeatedFields_,null)},o.inherits(proto.api.requests.school_manager.WindowUpdate,n.Message),o.DEBUG&&!COMPILED&&(proto.api.requests.school_manager.WindowUpdate.displayName="proto.api.requests.school_manager.WindowUpdate"),proto.api.requests.school_manager.WindowUpdate.BackgroundTab=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.requests.school_manager.WindowUpdate.BackgroundTab,n.Message),o.DEBUG&&!COMPILED&&(proto.api.requests.school_manager.WindowUpdate.BackgroundTab.displayName="proto.api.requests.school_manager.WindowUpdate.BackgroundTab"),n.Message.GENERATE_TO_OBJECT&&(proto.api.requests.school_manager.WindowUpdateRequest.prototype.toObject=function(e){return proto.api.requests.school_manager.WindowUpdateRequest.toObject(e,this)},proto.api.requests.school_manager.WindowUpdateRequest.toObject=function(e,t){var r,o={windowEndpoint:n.Message.getFieldWithDefault(t,1,""),window:(r=t.getWindow())&&proto.api.requests.school_manager.WindowUpdate.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.api.requests.school_manager.WindowUpdateRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.requests.school_manager.WindowUpdateRequest;return proto.api.requests.school_manager.WindowUpdateRequest.deserializeBinaryFromReader(r,t)},proto.api.requests.school_manager.WindowUpdateRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setWindowEndpoint(r);break;case 2:r=new proto.api.requests.school_manager.WindowUpdate,t.readMessage(r,proto.api.requests.school_manager.WindowUpdate.deserializeBinaryFromReader),e.setWindow(r);break;default:t.skipField()}return e},proto.api.requests.school_manager.WindowUpdateRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.requests.school_manager.WindowUpdateRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.requests.school_manager.WindowUpdateRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getWindowEndpoint()).length>0&&t.writeString(1,r),null!=(r=e.getWindow())&&t.writeMessage(2,r,proto.api.requests.school_manager.WindowUpdate.serializeBinaryToWriter)},proto.api.requests.school_manager.WindowUpdateRequest.prototype.getWindowEndpoint=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.requests.school_manager.WindowUpdateRequest.prototype.setWindowEndpoint=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.requests.school_manager.WindowUpdateRequest.prototype.getWindow=function(){return n.Message.getWrapperField(this,proto.api.requests.school_manager.WindowUpdate,2)},proto.api.requests.school_manager.WindowUpdateRequest.prototype.setWindow=function(e){return n.Message.setWrapperField(this,2,e)},proto.api.requests.school_manager.WindowUpdateRequest.prototype.clearWindow=function(){return this.setWindow(void 0)},proto.api.requests.school_manager.WindowUpdateRequest.prototype.hasWindow=function(){return null!=n.Message.getField(this,2)},proto.api.requests.school_manager.WindowUpdate.repeatedFields_=[10,12],n.Message.GENERATE_TO_OBJECT&&(proto.api.requests.school_manager.WindowUpdate.prototype.toObject=function(e){return proto.api.requests.school_manager.WindowUpdate.toObject(e,this)},proto.api.requests.school_manager.WindowUpdate.toObject=function(e,t){var r,o={title:n.Message.getFieldWithDefault(t,1,""),url:n.Message.getFieldWithDefault(t,2,""),favicon:n.Message.getFieldWithDefault(t,3,""),tabId:n.Message.getFieldWithDefault(t,4,""),chromeId:n.Message.getFieldWithDefault(t,5,""),chromeWindowId:n.Message.getFieldWithDefault(t,6,""),action:n.Message.getFieldWithDefault(t,7,""),email:n.Message.getFieldWithDefault(t,8,""),screenshot:n.Message.getFieldWithDefault(t,9,""),backgroundTabsList:n.Message.toObjectList(t.getBackgroundTabsList(),proto.api.requests.school_manager.WindowUpdate.BackgroundTab.toObject,e),platformType:n.Message.getFieldWithDefault(t,11,""),teacheridsList:null==(r=n.Message.getRepeatedField(t,12))?void 0:r,inFocus:n.Message.getBooleanFieldWithDefault(t,13,!1)};return e&&(o.$jspbMessageInstance=t),o}),proto.api.requests.school_manager.WindowUpdate.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.requests.school_manager.WindowUpdate;return proto.api.requests.school_manager.WindowUpdate.deserializeBinaryFromReader(r,t)},proto.api.requests.school_manager.WindowUpdate.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setTitle(r);break;case 2:r=t.readString(),e.setUrl(r);break;case 3:r=t.readString(),e.setFavicon(r);break;case 4:r=t.readString(),e.setTabId(r);break;case 5:r=t.readString(),e.setChromeId(r);break;case 6:r=t.readString(),e.setChromeWindowId(r);break;case 7:r=t.readString(),e.setAction(r);break;case 8:r=t.readString(),e.setEmail(r);break;case 9:r=t.readString(),e.setScreenshot(r);break;case 10:r=new proto.api.requests.school_manager.WindowUpdate.BackgroundTab,t.readMessage(r,proto.api.requests.school_manager.WindowUpdate.BackgroundTab.deserializeBinaryFromReader),e.addBackgroundTabs(r);break;case 11:r=t.readString(),e.setPlatformType(r);break;case 12:r=t.readString(),e.addTeacherids(r);break;case 13:r=t.readBool(),e.setInFocus(r);break;default:t.skipField()}return e},proto.api.requests.school_manager.WindowUpdate.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.requests.school_manager.WindowUpdate.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.requests.school_manager.WindowUpdate.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTitle()).length>0&&t.writeString(1,r),(r=e.getUrl()).length>0&&t.writeString(2,r),(r=e.getFavicon()).length>0&&t.writeString(3,r),(r=e.getTabId()).length>0&&t.writeString(4,r),(r=e.getChromeId()).length>0&&t.writeString(5,r),(r=e.getChromeWindowId()).length>0&&t.writeString(6,r),(r=e.getAction()).length>0&&t.writeString(7,r),(r=e.getEmail()).length>0&&t.writeString(8,r),(r=e.getScreenshot()).length>0&&t.writeString(9,r),(r=e.getBackgroundTabsList()).length>0&&t.writeRepeatedMessage(10,r,proto.api.requests.school_manager.WindowUpdate.BackgroundTab.serializeBinaryToWriter),(r=e.getPlatformType()).length>0&&t.writeString(11,r),(r=e.getTeacheridsList()).length>0&&t.writeRepeatedString(12,r),(r=e.getInFocus())&&t.writeBool(13,r)},n.Message.GENERATE_TO_OBJECT&&(proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.toObject=function(e){return proto.api.requests.school_manager.WindowUpdate.BackgroundTab.toObject(e,this)},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.toObject=function(e,t){var r={favicon:n.Message.getFieldWithDefault(t,1,""),taburl:n.Message.getFieldWithDefault(t,2,""),title:n.Message.getFieldWithDefault(t,3,""),tabId:n.Message.getFieldWithDefault(t,4,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.api.requests.school_manager.WindowUpdate.BackgroundTab.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.requests.school_manager.WindowUpdate.BackgroundTab;return proto.api.requests.school_manager.WindowUpdate.BackgroundTab.deserializeBinaryFromReader(r,t)},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setFavicon(r);break;case 2:r=t.readString(),e.setTaburl(r);break;case 3:r=t.readString(),e.setTitle(r);break;case 4:r=t.readString(),e.setTabId(r);break;default:t.skipField()}return e},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.requests.school_manager.WindowUpdate.BackgroundTab.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getFavicon()).length>0&&t.writeString(1,r),(r=e.getTaburl()).length>0&&t.writeString(2,r),(r=e.getTitle()).length>0&&t.writeString(3,r),(r=e.getTabId()).length>0&&t.writeString(4,r)},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.getFavicon=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.setFavicon=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.getTaburl=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.setTaburl=function(e){return n.Message.setProto3StringField(this,2,e)},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.getTitle=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.setTitle=function(e){return n.Message.setProto3StringField(this,3,e)},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.getTabId=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.api.requests.school_manager.WindowUpdate.BackgroundTab.prototype.setTabId=function(e){return n.Message.setProto3StringField(this,4,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getTitle=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setTitle=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getUrl=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setUrl=function(e){return n.Message.setProto3StringField(this,2,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getFavicon=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setFavicon=function(e){return n.Message.setProto3StringField(this,3,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getTabId=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setTabId=function(e){return n.Message.setProto3StringField(this,4,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getChromeId=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setChromeId=function(e){return n.Message.setProto3StringField(this,5,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getChromeWindowId=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setChromeWindowId=function(e){return n.Message.setProto3StringField(this,6,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getAction=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setAction=function(e){return n.Message.setProto3StringField(this,7,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getEmail=function(){return n.Message.getFieldWithDefault(this,8,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setEmail=function(e){return n.Message.setProto3StringField(this,8,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getScreenshot=function(){return n.Message.getFieldWithDefault(this,9,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setScreenshot=function(e){return n.Message.setProto3StringField(this,9,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getBackgroundTabsList=function(){return n.Message.getRepeatedWrapperField(this,proto.api.requests.school_manager.WindowUpdate.BackgroundTab,10)},proto.api.requests.school_manager.WindowUpdate.prototype.setBackgroundTabsList=function(e){return n.Message.setRepeatedWrapperField(this,10,e)},proto.api.requests.school_manager.WindowUpdate.prototype.addBackgroundTabs=function(e,t){return n.Message.addToRepeatedWrapperField(this,10,e,proto.api.requests.school_manager.WindowUpdate.BackgroundTab,t)},proto.api.requests.school_manager.WindowUpdate.prototype.clearBackgroundTabsList=function(){return this.setBackgroundTabsList([])},proto.api.requests.school_manager.WindowUpdate.prototype.getPlatformType=function(){return n.Message.getFieldWithDefault(this,11,"")},proto.api.requests.school_manager.WindowUpdate.prototype.setPlatformType=function(e){return n.Message.setProto3StringField(this,11,e)},proto.api.requests.school_manager.WindowUpdate.prototype.getTeacheridsList=function(){return n.Message.getRepeatedField(this,12)},proto.api.requests.school_manager.WindowUpdate.prototype.setTeacheridsList=function(e){return n.Message.setField(this,12,e||[])},proto.api.requests.school_manager.WindowUpdate.prototype.addTeacherids=function(e,t){return n.Message.addToRepeatedField(this,12,e,t)},proto.api.requests.school_manager.WindowUpdate.prototype.clearTeacheridsList=function(){return this.setTeacheridsList([])},proto.api.requests.school_manager.WindowUpdate.prototype.getInFocus=function(){return n.Message.getBooleanFieldWithDefault(this,13,!1)},proto.api.requests.school_manager.WindowUpdate.prototype.setInFocus=function(e){return n.Message.setProto3BooleanField(this,13,e)},o.object.extend(t,proto.api.requests.school_manager)},8776:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();o.exportSymbol("proto.api.responses.school_manager.Event",null,i),o.exportSymbol("proto.api.responses.school_manager.EventHeader",null,i),o.exportSymbol("proto.api.responses.school_manager.EventMessage",null,i),o.exportSymbol("proto.api.responses.school_manager.EventType",null,i),o.exportSymbol("proto.api.responses.school_manager.IceMessage",null,i),o.exportSymbol("proto.api.responses.school_manager.IceServers",null,i),o.exportSymbol("proto.api.responses.school_manager.InitP2PEvent",null,i),proto.api.responses.school_manager.EventMessage=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.responses.school_manager.EventMessage,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.school_manager.EventMessage.displayName="proto.api.responses.school_manager.EventMessage"),proto.api.responses.school_manager.Event=function(e){n.Message.initialize(this,e,0,-1,proto.api.responses.school_manager.Event.repeatedFields_,null)},o.inherits(proto.api.responses.school_manager.Event,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.school_manager.Event.displayName="proto.api.responses.school_manager.Event"),proto.api.responses.school_manager.InitP2PEvent=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.responses.school_manager.InitP2PEvent,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.school_manager.InitP2PEvent.displayName="proto.api.responses.school_manager.InitP2PEvent"),proto.api.responses.school_manager.IceServers=function(e){n.Message.initialize(this,e,0,-1,proto.api.responses.school_manager.IceServers.repeatedFields_,null)},o.inherits(proto.api.responses.school_manager.IceServers,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.school_manager.IceServers.displayName="proto.api.responses.school_manager.IceServers"),proto.api.responses.school_manager.IceMessage=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.responses.school_manager.IceMessage,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.school_manager.IceMessage.displayName="proto.api.responses.school_manager.IceMessage"),proto.api.responses.school_manager.EventHeader=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.responses.school_manager.EventHeader,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.school_manager.EventHeader.displayName="proto.api.responses.school_manager.EventHeader"),n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.school_manager.EventMessage.prototype.toObject=function(e){return proto.api.responses.school_manager.EventMessage.toObject(e,this)},proto.api.responses.school_manager.EventMessage.toObject=function(e,t){var r={timestamp:n.Message.getFieldWithDefault(t,1,""),event:n.Message.getFieldWithDefault(t,2,0),value:n.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.api.responses.school_manager.EventMessage.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.school_manager.EventMessage;return proto.api.responses.school_manager.EventMessage.deserializeBinaryFromReader(r,t)},proto.api.responses.school_manager.EventMessage.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setTimestamp(r);break;case 2:r=t.readEnum(),e.setEvent(r);break;case 3:r=t.readString(),e.setValue(r);break;default:t.skipField()}return e},proto.api.responses.school_manager.EventMessage.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.school_manager.EventMessage.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.school_manager.EventMessage.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTimestamp()).length>0&&t.writeString(1,r),0!==(r=e.getEvent())&&t.writeEnum(2,r),(r=e.getValue()).length>0&&t.writeString(3,r)},proto.api.responses.school_manager.EventMessage.prototype.getTimestamp=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.responses.school_manager.EventMessage.prototype.setTimestamp=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.responses.school_manager.EventMessage.prototype.getEvent=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.api.responses.school_manager.EventMessage.prototype.setEvent=function(e){return n.Message.setProto3EnumField(this,2,e)},proto.api.responses.school_manager.EventMessage.prototype.getValue=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.api.responses.school_manager.EventMessage.prototype.setValue=function(e){return n.Message.setProto3StringField(this,3,e)},proto.api.responses.school_manager.Event.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.school_manager.Event.prototype.toObject=function(e){return proto.api.responses.school_manager.Event.toObject(e,this)},proto.api.responses.school_manager.Event.toObject=function(e,t){var r={messagesList:n.Message.toObjectList(t.getMessagesList(),proto.api.responses.school_manager.EventMessage.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.api.responses.school_manager.Event.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.school_manager.Event;return proto.api.responses.school_manager.Event.deserializeBinaryFromReader(r,t)},proto.api.responses.school_manager.Event.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.api.responses.school_manager.EventMessage;t.readMessage(r,proto.api.responses.school_manager.EventMessage.deserializeBinaryFromReader),e.addMessages(r)}else t.skipField();return e},proto.api.responses.school_manager.Event.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.school_manager.Event.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.school_manager.Event.serializeBinaryToWriter=function(e,t){var r;(r=e.getMessagesList()).length>0&&t.writeRepeatedMessage(1,r,proto.api.responses.school_manager.EventMessage.serializeBinaryToWriter)},proto.api.responses.school_manager.Event.prototype.getMessagesList=function(){return n.Message.getRepeatedWrapperField(this,proto.api.responses.school_manager.EventMessage,1)},proto.api.responses.school_manager.Event.prototype.setMessagesList=function(e){return n.Message.setRepeatedWrapperField(this,1,e)},proto.api.responses.school_manager.Event.prototype.addMessages=function(e,t){return n.Message.addToRepeatedWrapperField(this,1,e,proto.api.responses.school_manager.EventMessage,t)},proto.api.responses.school_manager.Event.prototype.clearMessagesList=function(){return this.setMessagesList([])},n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.school_manager.InitP2PEvent.prototype.toObject=function(e){return proto.api.responses.school_manager.InitP2PEvent.toObject(e,this)},proto.api.responses.school_manager.InitP2PEvent.toObject=function(e,t){var r,o={header:(r=t.getHeader())&&proto.api.responses.school_manager.EventHeader.toObject(e,r),channel:n.Message.getFieldWithDefault(t,2,""),signalhost:n.Message.getFieldWithDefault(t,3,""),signaltoken:n.Message.getFieldWithDefault(t,4,""),signalexpiryepochseconds:n.Message.getFloatingPointFieldWithDefault(t,5,0),remotepeerid:n.Message.getFieldWithDefault(t,6,""),ice:(r=t.getIce())&&proto.api.responses.school_manager.IceMessage.toObject(e,r),peeragentid:n.Message.getFieldWithDefault(t,8,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.api.responses.school_manager.InitP2PEvent.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.school_manager.InitP2PEvent;return proto.api.responses.school_manager.InitP2PEvent.deserializeBinaryFromReader(r,t)},proto.api.responses.school_manager.InitP2PEvent.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.api.responses.school_manager.EventHeader;t.readMessage(r,proto.api.responses.school_manager.EventHeader.deserializeBinaryFromReader),e.setHeader(r);break;case 2:r=t.readString(),e.setChannel(r);break;case 3:r=t.readString(),e.setSignalhost(r);break;case 4:r=t.readString(),e.setSignaltoken(r);break;case 5:r=t.readFloat(),e.setSignalexpiryepochseconds(r);break;case 6:r=t.readString(),e.setRemotepeerid(r);break;case 7:r=new proto.api.responses.school_manager.IceMessage,t.readMessage(r,proto.api.responses.school_manager.IceMessage.deserializeBinaryFromReader),e.setIce(r);break;case 8:r=t.readString(),e.setPeeragentid(r);break;default:t.skipField()}return e},proto.api.responses.school_manager.InitP2PEvent.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.school_manager.InitP2PEvent.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.school_manager.InitP2PEvent.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getHeader())&&t.writeMessage(1,r,proto.api.responses.school_manager.EventHeader.serializeBinaryToWriter),(r=e.getChannel()).length>0&&t.writeString(2,r),(r=e.getSignalhost()).length>0&&t.writeString(3,r),(r=e.getSignaltoken()).length>0&&t.writeString(4,r),0!==(r=e.getSignalexpiryepochseconds())&&t.writeFloat(5,r),(r=e.getRemotepeerid()).length>0&&t.writeString(6,r),null!=(r=e.getIce())&&t.writeMessage(7,r,proto.api.responses.school_manager.IceMessage.serializeBinaryToWriter),(r=e.getPeeragentid()).length>0&&t.writeString(8,r)},proto.api.responses.school_manager.InitP2PEvent.prototype.getHeader=function(){return n.Message.getWrapperField(this,proto.api.responses.school_manager.EventHeader,1)},proto.api.responses.school_manager.InitP2PEvent.prototype.setHeader=function(e){return n.Message.setWrapperField(this,1,e)},proto.api.responses.school_manager.InitP2PEvent.prototype.clearHeader=function(){return this.setHeader(void 0)},proto.api.responses.school_manager.InitP2PEvent.prototype.hasHeader=function(){return null!=n.Message.getField(this,1)},proto.api.responses.school_manager.InitP2PEvent.prototype.getChannel=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.responses.school_manager.InitP2PEvent.prototype.setChannel=function(e){return n.Message.setProto3StringField(this,2,e)},proto.api.responses.school_manager.InitP2PEvent.prototype.getSignalhost=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.api.responses.school_manager.InitP2PEvent.prototype.setSignalhost=function(e){return n.Message.setProto3StringField(this,3,e)},proto.api.responses.school_manager.InitP2PEvent.prototype.getSignaltoken=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.api.responses.school_manager.InitP2PEvent.prototype.setSignaltoken=function(e){return n.Message.setProto3StringField(this,4,e)},proto.api.responses.school_manager.InitP2PEvent.prototype.getSignalexpiryepochseconds=function(){return n.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.api.responses.school_manager.InitP2PEvent.prototype.setSignalexpiryepochseconds=function(e){return n.Message.setProto3FloatField(this,5,e)},proto.api.responses.school_manager.InitP2PEvent.prototype.getRemotepeerid=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.api.responses.school_manager.InitP2PEvent.prototype.setRemotepeerid=function(e){return n.Message.setProto3StringField(this,6,e)},proto.api.responses.school_manager.InitP2PEvent.prototype.getIce=function(){return n.Message.getWrapperField(this,proto.api.responses.school_manager.IceMessage,7)},proto.api.responses.school_manager.InitP2PEvent.prototype.setIce=function(e){return n.Message.setWrapperField(this,7,e)},proto.api.responses.school_manager.InitP2PEvent.prototype.clearIce=function(){return this.setIce(void 0)},proto.api.responses.school_manager.InitP2PEvent.prototype.hasIce=function(){return null!=n.Message.getField(this,7)},proto.api.responses.school_manager.InitP2PEvent.prototype.getPeeragentid=function(){return n.Message.getFieldWithDefault(this,8,"")},proto.api.responses.school_manager.InitP2PEvent.prototype.setPeeragentid=function(e){return n.Message.setProto3StringField(this,8,e)},proto.api.responses.school_manager.IceServers.repeatedFields_=[3],n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.school_manager.IceServers.prototype.toObject=function(e){return proto.api.responses.school_manager.IceServers.toObject(e,this)},proto.api.responses.school_manager.IceServers.toObject=function(e,t){var r,o={username:n.Message.getFieldWithDefault(t,1,""),credential:n.Message.getFieldWithDefault(t,2,""),urlsList:null==(r=n.Message.getRepeatedField(t,3))?void 0:r};return e&&(o.$jspbMessageInstance=t),o}),proto.api.responses.school_manager.IceServers.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.school_manager.IceServers;return proto.api.responses.school_manager.IceServers.deserializeBinaryFromReader(r,t)},proto.api.responses.school_manager.IceServers.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUsername(r);break;case 2:r=t.readString(),e.setCredential(r);break;case 3:r=t.readString(),e.addUrls(r);break;default:t.skipField()}return e},proto.api.responses.school_manager.IceServers.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.school_manager.IceServers.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.school_manager.IceServers.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getUsername()).length>0&&t.writeString(1,r),(r=e.getCredential()).length>0&&t.writeString(2,r),(r=e.getUrlsList()).length>0&&t.writeRepeatedString(3,r)},proto.api.responses.school_manager.IceServers.prototype.getUsername=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.responses.school_manager.IceServers.prototype.setUsername=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.responses.school_manager.IceServers.prototype.getCredential=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.responses.school_manager.IceServers.prototype.setCredential=function(e){return n.Message.setProto3StringField(this,2,e)},proto.api.responses.school_manager.IceServers.prototype.getUrlsList=function(){return n.Message.getRepeatedField(this,3)},proto.api.responses.school_manager.IceServers.prototype.setUrlsList=function(e){return n.Message.setField(this,3,e||[])},proto.api.responses.school_manager.IceServers.prototype.addUrls=function(e,t){return n.Message.addToRepeatedField(this,3,e,t)},proto.api.responses.school_manager.IceServers.prototype.clearUrlsList=function(){return this.setUrlsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.school_manager.IceMessage.prototype.toObject=function(e){return proto.api.responses.school_manager.IceMessage.toObject(e,this)},proto.api.responses.school_manager.IceMessage.toObject=function(e,t){var r,n={iceservers:(r=t.getIceservers())&&proto.api.responses.school_manager.IceServers.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.api.responses.school_manager.IceMessage.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.school_manager.IceMessage;return proto.api.responses.school_manager.IceMessage.deserializeBinaryFromReader(r,t)},proto.api.responses.school_manager.IceMessage.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.api.responses.school_manager.IceServers;t.readMessage(r,proto.api.responses.school_manager.IceServers.deserializeBinaryFromReader),e.setIceservers(r)}else t.skipField();return e},proto.api.responses.school_manager.IceMessage.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.school_manager.IceMessage.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.school_manager.IceMessage.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getIceservers())&&t.writeMessage(1,r,proto.api.responses.school_manager.IceServers.serializeBinaryToWriter)},proto.api.responses.school_manager.IceMessage.prototype.getIceservers=function(){return n.Message.getWrapperField(this,proto.api.responses.school_manager.IceServers,1)},proto.api.responses.school_manager.IceMessage.prototype.setIceservers=function(e){return n.Message.setWrapperField(this,1,e)},proto.api.responses.school_manager.IceMessage.prototype.clearIceservers=function(){return this.setIceservers(void 0)},proto.api.responses.school_manager.IceMessage.prototype.hasIceservers=function(){return null!=n.Message.getField(this,1)},n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.school_manager.EventHeader.prototype.toObject=function(e){return proto.api.responses.school_manager.EventHeader.toObject(e,this)},proto.api.responses.school_manager.EventHeader.toObject=function(e,t){var r={timestampepochms:n.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.api.responses.school_manager.EventHeader.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.school_manager.EventHeader;return proto.api.responses.school_manager.EventHeader.deserializeBinaryFromReader(r,t)},proto.api.responses.school_manager.EventHeader.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readString();e.setTimestampepochms(r)}else t.skipField();return e},proto.api.responses.school_manager.EventHeader.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.school_manager.EventHeader.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.school_manager.EventHeader.serializeBinaryToWriter=function(e,t){var r;(r=e.getTimestampepochms()).length>0&&t.writeString(1,r)},proto.api.responses.school_manager.EventHeader.prototype.getTimestampepochms=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.responses.school_manager.EventHeader.prototype.setTimestampepochms=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.responses.school_manager.EventType={MESSAGE:0,OPEN_TAB:1,POLICY_UPDATE:2,CLASS_STARTED:3,INIT_P2P:4,CONFIG_UPDATE:5,CLOSE_TAB:6},o.object.extend(t,proto.api.responses.school_manager)},619:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),s=r(7741);o.object.extend(proto,s),o.exportSymbol("proto.api.responses.v2.AutoEnrolResponse",null,i),o.exportSymbol("proto.api.responses.v2.AutoEnrolmentDetails",null,i),proto.api.responses.v2.AutoEnrolResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.responses.v2.AutoEnrolResponse,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.v2.AutoEnrolResponse.displayName="proto.api.responses.v2.AutoEnrolResponse"),proto.api.responses.v2.AutoEnrolmentDetails=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.responses.v2.AutoEnrolmentDetails,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.v2.AutoEnrolmentDetails.displayName="proto.api.responses.v2.AutoEnrolmentDetails"),n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.v2.AutoEnrolResponse.prototype.toObject=function(e){return proto.api.responses.v2.AutoEnrolResponse.toObject(e,this)},proto.api.responses.v2.AutoEnrolResponse.toObject=function(e,t){var r,o={id:n.Message.getFieldWithDefault(t,1,""),authtoken:n.Message.getFieldWithDefault(t,2,""),state:n.Message.getFieldWithDefault(t,3,0),mac:n.Message.getFieldWithDefault(t,4,""),providerauth:(r=t.getProviderauth())&&proto.api.responses.v2.AutoEnrolmentDetails.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.api.responses.v2.AutoEnrolResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.v2.AutoEnrolResponse;return proto.api.responses.v2.AutoEnrolResponse.deserializeBinaryFromReader(r,t)},proto.api.responses.v2.AutoEnrolResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readString(),e.setAuthtoken(r);break;case 3:r=t.readEnum(),e.setState(r);break;case 4:r=t.readString(),e.setMac(r);break;case 5:r=new proto.api.responses.v2.AutoEnrolmentDetails,t.readMessage(r,proto.api.responses.v2.AutoEnrolmentDetails.deserializeBinaryFromReader),e.setProviderauth(r);break;default:t.skipField()}return e},proto.api.responses.v2.AutoEnrolResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.v2.AutoEnrolResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.v2.AutoEnrolResponse.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(1,r),(r=e.getAuthtoken()).length>0&&t.writeString(2,r),0!==(r=e.getState())&&t.writeEnum(3,r),(r=e.getMac()).length>0&&t.writeString(4,r),null!=(r=e.getProviderauth())&&t.writeMessage(5,r,proto.api.responses.v2.AutoEnrolmentDetails.serializeBinaryToWriter)},proto.api.responses.v2.AutoEnrolResponse.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.responses.v2.AutoEnrolResponse.prototype.setId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.responses.v2.AutoEnrolResponse.prototype.getAuthtoken=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.responses.v2.AutoEnrolResponse.prototype.setAuthtoken=function(e){return n.Message.setProto3StringField(this,2,e)},proto.api.responses.v2.AutoEnrolResponse.prototype.getState=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.api.responses.v2.AutoEnrolResponse.prototype.setState=function(e){return n.Message.setProto3EnumField(this,3,e)},proto.api.responses.v2.AutoEnrolResponse.prototype.getMac=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.api.responses.v2.AutoEnrolResponse.prototype.setMac=function(e){return n.Message.setProto3StringField(this,4,e)},proto.api.responses.v2.AutoEnrolResponse.prototype.getProviderauth=function(){return n.Message.getWrapperField(this,proto.api.responses.v2.AutoEnrolmentDetails,5)},proto.api.responses.v2.AutoEnrolResponse.prototype.setProviderauth=function(e){return n.Message.setWrapperField(this,5,e)},proto.api.responses.v2.AutoEnrolResponse.prototype.clearProviderauth=function(){return this.setProviderauth(void 0)},proto.api.responses.v2.AutoEnrolResponse.prototype.hasProviderauth=function(){return null!=n.Message.getField(this,5)},n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.v2.AutoEnrolmentDetails.prototype.toObject=function(e){return proto.api.responses.v2.AutoEnrolmentDetails.toObject(e,this)},proto.api.responses.v2.AutoEnrolmentDetails.toObject=function(e,t){var r={username:n.Message.getFieldWithDefault(t,1,""),providertype:n.Message.getFieldWithDefault(t,2,""),applianceid:n.Message.getFieldWithDefault(t,3,""),region:n.Message.getFieldWithDefault(t,4,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.api.responses.v2.AutoEnrolmentDetails.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.v2.AutoEnrolmentDetails;return proto.api.responses.v2.AutoEnrolmentDetails.deserializeBinaryFromReader(r,t)},proto.api.responses.v2.AutoEnrolmentDetails.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUsername(r);break;case 2:r=t.readString(),e.setProvidertype(r);break;case 3:r=t.readString(),e.setApplianceid(r);break;case 4:r=t.readString(),e.setRegion(r);break;default:t.skipField()}return e},proto.api.responses.v2.AutoEnrolmentDetails.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.v2.AutoEnrolmentDetails.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.v2.AutoEnrolmentDetails.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getUsername()).length>0&&t.writeString(1,r),(r=e.getProvidertype()).length>0&&t.writeString(2,r),(r=e.getApplianceid()).length>0&&t.writeString(3,r),(r=e.getRegion()).length>0&&t.writeString(4,r)},proto.api.responses.v2.AutoEnrolmentDetails.prototype.getUsername=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.responses.v2.AutoEnrolmentDetails.prototype.setUsername=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.responses.v2.AutoEnrolmentDetails.prototype.getProvidertype=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.responses.v2.AutoEnrolmentDetails.prototype.setProvidertype=function(e){return n.Message.setProto3StringField(this,2,e)},proto.api.responses.v2.AutoEnrolmentDetails.prototype.getApplianceid=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.api.responses.v2.AutoEnrolmentDetails.prototype.setApplianceid=function(e){return n.Message.setProto3StringField(this,3,e)},proto.api.responses.v2.AutoEnrolmentDetails.prototype.getRegion=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.api.responses.v2.AutoEnrolmentDetails.prototype.setRegion=function(e){return n.Message.setProto3StringField(this,4,e)},o.object.extend(t,proto.api.responses.v2)},2658:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),s=r(7198);o.object.extend(proto,s);var a=r(7741);o.object.extend(proto,a),o.exportSymbol("proto.api.responses.v2.EnrollManagedDeviceResponse",null,i),o.exportSymbol("proto.api.responses.v2.EnrollManagedDeviceResponse.User",null,i),proto.api.responses.v2.EnrollManagedDeviceResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.responses.v2.EnrollManagedDeviceResponse,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.v2.EnrollManagedDeviceResponse.displayName="proto.api.responses.v2.EnrollManagedDeviceResponse"),proto.api.responses.v2.EnrollManagedDeviceResponse.User=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.api.responses.v2.EnrollManagedDeviceResponse.User,n.Message),o.DEBUG&&!COMPILED&&(proto.api.responses.v2.EnrollManagedDeviceResponse.User.displayName="proto.api.responses.v2.EnrollManagedDeviceResponse.User"),n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.toObject=function(e){return proto.api.responses.v2.EnrollManagedDeviceResponse.toObject(e,this)},proto.api.responses.v2.EnrollManagedDeviceResponse.toObject=function(e,t){var r,o={authtoken:n.Message.getFieldWithDefault(t,1,""),status:n.Message.getFieldWithDefault(t,2,0),id:n.Message.getFieldWithDefault(t,3,""),user:(r=t.getUser())&&proto.api.responses.v2.EnrollManagedDeviceResponse.User.toObject(e,r),region:n.Message.getFieldWithDefault(t,5,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.api.responses.v2.EnrollManagedDeviceResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.v2.EnrollManagedDeviceResponse;return proto.api.responses.v2.EnrollManagedDeviceResponse.deserializeBinaryFromReader(r,t)},proto.api.responses.v2.EnrollManagedDeviceResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setAuthtoken(r);break;case 2:r=t.readEnum(),e.setStatus(r);break;case 3:r=t.readString(),e.setId(r);break;case 4:r=new proto.api.responses.v2.EnrollManagedDeviceResponse.User,t.readMessage(r,proto.api.responses.v2.EnrollManagedDeviceResponse.User.deserializeBinaryFromReader),e.setUser(r);break;case 5:r=t.readString(),e.setRegion(r);break;default:t.skipField()}return e},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.v2.EnrollManagedDeviceResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.v2.EnrollManagedDeviceResponse.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAuthtoken()).length>0&&t.writeString(1,r),0!==(r=e.getStatus())&&t.writeEnum(2,r),(r=e.getId()).length>0&&t.writeString(3,r),null!=(r=e.getUser())&&t.writeMessage(4,r,proto.api.responses.v2.EnrollManagedDeviceResponse.User.serializeBinaryToWriter),(r=e.getRegion()).length>0&&t.writeString(5,r)},n.Message.GENERATE_TO_OBJECT&&(proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.toObject=function(e){return proto.api.responses.v2.EnrollManagedDeviceResponse.User.toObject(e,this)},proto.api.responses.v2.EnrollManagedDeviceResponse.User.toObject=function(e,t){var r,o={id:n.Message.getFieldWithDefault(t,1,""),samaccountid:n.Message.getFieldWithDefault(t,2,""),name:(r=t.getName())&&s.UserName.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.api.responses.v2.EnrollManagedDeviceResponse.User.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.api.responses.v2.EnrollManagedDeviceResponse.User;return proto.api.responses.v2.EnrollManagedDeviceResponse.User.deserializeBinaryFromReader(r,t)},proto.api.responses.v2.EnrollManagedDeviceResponse.User.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readString(),e.setSamaccountid(r);break;case 3:r=new s.UserName,t.readMessage(r,s.UserName.deserializeBinaryFromReader),e.setName(r);break;default:t.skipField()}return e},proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.api.responses.v2.EnrollManagedDeviceResponse.User.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.api.responses.v2.EnrollManagedDeviceResponse.User.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(1,r),(r=e.getSamaccountid()).length>0&&t.writeString(2,r),null!=(r=e.getName())&&t.writeMessage(3,r,s.UserName.serializeBinaryToWriter)},proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.setId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.getSamaccountid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.setSamaccountid=function(e){return n.Message.setProto3StringField(this,2,e)},proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.getName=function(){return n.Message.getWrapperField(this,s.UserName,3)},proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.setName=function(e){return n.Message.setWrapperField(this,3,e)},proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.clearName=function(){return this.setName(void 0)},proto.api.responses.v2.EnrollManagedDeviceResponse.User.prototype.hasName=function(){return null!=n.Message.getField(this,3)},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.getAuthtoken=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.setAuthtoken=function(e){return n.Message.setProto3StringField(this,1,e)},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.getStatus=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.setStatus=function(e){return n.Message.setProto3EnumField(this,2,e)},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.getId=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.setId=function(e){return n.Message.setProto3StringField(this,3,e)},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.getUser=function(){return n.Message.getWrapperField(this,proto.api.responses.v2.EnrollManagedDeviceResponse.User,4)},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.setUser=function(e){return n.Message.setWrapperField(this,4,e)},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.clearUser=function(){return this.setUser(void 0)},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.hasUser=function(){return null!=n.Message.getField(this,4)},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.getRegion=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.api.responses.v2.EnrollManagedDeviceResponse.prototype.setRegion=function(e){return n.Message.setProto3StringField(this,5,e)},o.object.extend(t,proto.api.responses.v2)},8326:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),s=r(8776);o.object.extend(proto,s),o.exportSymbol("proto.classwize.ClasswizeEvent",null,i),proto.classwize.ClasswizeEvent=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.classwize.ClasswizeEvent,n.Message),o.DEBUG&&!COMPILED&&(proto.classwize.ClasswizeEvent.displayName="proto.classwize.ClasswizeEvent"),n.Message.GENERATE_TO_OBJECT&&(proto.classwize.ClasswizeEvent.prototype.toObject=function(e){return proto.classwize.ClasswizeEvent.toObject(e,this)},proto.classwize.ClasswizeEvent.toObject=function(e,t){var r,n={messages:(r=t.getMessages())&&s.EventMessage.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.classwize.ClasswizeEvent.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.classwize.ClasswizeEvent;return proto.classwize.ClasswizeEvent.deserializeBinaryFromReader(r,t)},proto.classwize.ClasswizeEvent.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new s.EventMessage;t.readMessage(r,s.EventMessage.deserializeBinaryFromReader),e.setMessages(r)}else t.skipField();return e},proto.classwize.ClasswizeEvent.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.classwize.ClasswizeEvent.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.classwize.ClasswizeEvent.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getMessages())&&t.writeMessage(1,r,s.EventMessage.serializeBinaryToWriter)},proto.classwize.ClasswizeEvent.prototype.getMessages=function(){return n.Message.getWrapperField(this,s.EventMessage,1)},proto.classwize.ClasswizeEvent.prototype.setMessages=function(e){return n.Message.setWrapperField(this,1,e)},proto.classwize.ClasswizeEvent.prototype.clearMessages=function(){return this.setMessages(void 0)},proto.classwize.ClasswizeEvent.prototype.hasMessages=function(){return null!=n.Message.getField(this,1)},o.object.extend(t,proto.classwize)},1071:(e,t,r)=>{var n=r(3157),o="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==o&&o||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=r(1458);n.object.extend(proto,i);var s=r(8326);n.object.extend(proto,s);var a=r(245);n.object.extend(proto,a)},5635:(e,t,r)=>{r(1071);var n=r(1458),o=r(8326),i=r(245),s=r(459).grpc,a=function(){function e(){}return e.serviceName="classwize.ClasswizeApi",e}();function c(e,t){this.serviceHost=e,this.options=t||{}}a.ReceiveEvents={methodName:"ReceiveEvents",service:a,requestStream:!1,responseStream:!0,requestType:n.Empty,responseType:o.ClasswizeEvent},a.UpdateTabs={methodName:"UpdateTabs",service:a,requestStream:!1,responseStream:!1,requestType:i.WindowUpdate,responseType:n.Empty},t.ClasswizeApi=a,c.prototype.receiveEvents=function(e,t){var r={data:[],end:[],status:[]},n=s.invoke(a.ReceiveEvents,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onMessage:function(e){r.data.forEach((function(t){t(e)}))},onEnd:function(e,t,n){r.status.forEach((function(r){r({code:e,details:t,metadata:n})})),r.end.forEach((function(r){r({code:e,details:t,metadata:n})})),r=null}});return{on:function(e,t){return r[e].push(t),this},cancel:function(){r=null,n.close()}}},c.prototype.updateTabs=function(e,t,r){2===arguments.length&&(r=arguments[1]);var n=s.unary(a.UpdateTabs,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==s.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,n.close()}}},t.ClasswizeApiClient=c},409:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),s=r(6669);o.object.extend(proto,s),o.exportSymbol("proto.companion.CompanionRegistrationRequest",null,i),o.exportSymbol("proto.companion.CompanionRegistrationResponse",null,i),o.exportSymbol("proto.companion.ConsoleLog",null,i),o.exportSymbol("proto.companion.EnrolmentDetails",null,i),o.exportSymbol("proto.companion.Functionality",null,i),proto.companion.CompanionRegistrationRequest=function(e){n.Message.initialize(this,e,0,-1,proto.companion.CompanionRegistrationRequest.repeatedFields_,null)},o.inherits(proto.companion.CompanionRegistrationRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.companion.CompanionRegistrationRequest.displayName="proto.companion.CompanionRegistrationRequest"),proto.companion.EnrolmentDetails=function(e){n.Message.initialize(this,e,0,-1,proto.companion.EnrolmentDetails.repeatedFields_,null)},o.inherits(proto.companion.EnrolmentDetails,n.Message),o.DEBUG&&!COMPILED&&(proto.companion.EnrolmentDetails.displayName="proto.companion.EnrolmentDetails"),proto.companion.CompanionRegistrationResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.companion.CompanionRegistrationResponse,n.Message),o.DEBUG&&!COMPILED&&(proto.companion.CompanionRegistrationResponse.displayName="proto.companion.CompanionRegistrationResponse"),proto.companion.ConsoleLog=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.companion.ConsoleLog,n.Message),o.DEBUG&&!COMPILED&&(proto.companion.ConsoleLog.displayName="proto.companion.ConsoleLog"),proto.companion.CompanionRegistrationRequest.repeatedFields_=[3],n.Message.GENERATE_TO_OBJECT&&(proto.companion.CompanionRegistrationRequest.prototype.toObject=function(e){return proto.companion.CompanionRegistrationRequest.toObject(e,this)},proto.companion.CompanionRegistrationRequest.toObject=function(e,t){var r,o={name:n.Message.getFieldWithDefault(t,1,""),version:n.Message.getFieldWithDefault(t,2,""),functionalityList:null==(r=n.Message.getRepeatedField(t,3))?void 0:r};return e&&(o.$jspbMessageInstance=t),o}),proto.companion.CompanionRegistrationRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.companion.CompanionRegistrationRequest;return proto.companion.CompanionRegistrationRequest.deserializeBinaryFromReader(r,t)},proto.companion.CompanionRegistrationRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setName(r);break;case 2:r=t.readString(),e.setVersion(r);break;case 3:for(var n=t.isDelimited()?t.readPackedEnum():[t.readEnum()],o=0;o<n.length;o++)e.addFunctionality(n[o]);break;default:t.skipField()}return e},proto.companion.CompanionRegistrationRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.companion.CompanionRegistrationRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.companion.CompanionRegistrationRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r),(r=e.getVersion()).length>0&&t.writeString(2,r),(r=e.getFunctionalityList()).length>0&&t.writePackedEnum(3,r)},proto.companion.CompanionRegistrationRequest.prototype.getName=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.companion.CompanionRegistrationRequest.prototype.setName=function(e){return n.Message.setProto3StringField(this,1,e)},proto.companion.CompanionRegistrationRequest.prototype.getVersion=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.companion.CompanionRegistrationRequest.prototype.setVersion=function(e){return n.Message.setProto3StringField(this,2,e)},proto.companion.CompanionRegistrationRequest.prototype.getFunctionalityList=function(){return n.Message.getRepeatedField(this,3)},proto.companion.CompanionRegistrationRequest.prototype.setFunctionalityList=function(e){return n.Message.setField(this,3,e||[])},proto.companion.CompanionRegistrationRequest.prototype.addFunctionality=function(e,t){return n.Message.addToRepeatedField(this,3,e,t)},proto.companion.CompanionRegistrationRequest.prototype.clearFunctionalityList=function(){return this.setFunctionalityList([])},proto.companion.EnrolmentDetails.repeatedFields_=[5,7,8,10],n.Message.GENERATE_TO_OBJECT&&(proto.companion.EnrolmentDetails.prototype.toObject=function(e){return proto.companion.EnrolmentDetails.toObject(e,this)},proto.companion.EnrolmentDetails.toObject=function(e,t){var r,o={username:n.Message.getFieldWithDefault(t,1,""),applianceid:n.Message.getFieldWithDefault(t,2,""),region:n.Message.getFieldWithDefault(t,3,""),primaryipaddress:n.Message.getFieldWithDefault(t,4,""),enabledfeaturesList:null==(r=n.Message.getRepeatedField(t,5))?void 0:r,devicetoken:n.Message.getFieldWithDefault(t,6,""),featureflagsList:null==(r=n.Message.getRepeatedField(t,7))?void 0:r,ipaddressesList:null==(r=n.Message.getRepeatedField(t,8))?void 0:r,enrolmentinformation:(r=t.getEnrolmentinformation())&&s.EnrolmentInformation.toObject(e,r),macaddressesList:null==(r=n.Message.getRepeatedField(t,10))?void 0:r};return e&&(o.$jspbMessageInstance=t),o}),proto.companion.EnrolmentDetails.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.companion.EnrolmentDetails;return proto.companion.EnrolmentDetails.deserializeBinaryFromReader(r,t)},proto.companion.EnrolmentDetails.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUsername(r);break;case 2:r=t.readString(),e.setApplianceid(r);break;case 3:r=t.readString(),e.setRegion(r);break;case 4:r=t.readString(),e.setPrimaryipaddress(r);break;case 5:r=t.readString(),e.addEnabledfeatures(r);break;case 6:r=t.readString(),e.setDevicetoken(r);break;case 7:r=t.readString(),e.addFeatureflags(r);break;case 8:r=t.readString(),e.addIpaddresses(r);break;case 9:r=new s.EnrolmentInformation,t.readMessage(r,s.EnrolmentInformation.deserializeBinaryFromReader),e.setEnrolmentinformation(r);break;case 10:r=t.readString(),e.addMacaddresses(r);break;default:t.skipField()}return e},proto.companion.EnrolmentDetails.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.companion.EnrolmentDetails.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.companion.EnrolmentDetails.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getUsername()).length>0&&t.writeString(1,r),(r=e.getApplianceid()).length>0&&t.writeString(2,r),(r=e.getRegion()).length>0&&t.writeString(3,r),(r=e.getPrimaryipaddress()).length>0&&t.writeString(4,r),(r=e.getEnabledfeaturesList()).length>0&&t.writeRepeatedString(5,r),(r=e.getDevicetoken()).length>0&&t.writeString(6,r),(r=e.getFeatureflagsList()).length>0&&t.writeRepeatedString(7,r),(r=e.getIpaddressesList()).length>0&&t.writeRepeatedString(8,r),null!=(r=e.getEnrolmentinformation())&&t.writeMessage(9,r,s.EnrolmentInformation.serializeBinaryToWriter),(r=e.getMacaddressesList()).length>0&&t.writeRepeatedString(10,r)},proto.companion.EnrolmentDetails.prototype.getUsername=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.companion.EnrolmentDetails.prototype.setUsername=function(e){return n.Message.setProto3StringField(this,1,e)},proto.companion.EnrolmentDetails.prototype.getApplianceid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.companion.EnrolmentDetails.prototype.setApplianceid=function(e){return n.Message.setProto3StringField(this,2,e)},proto.companion.EnrolmentDetails.prototype.getRegion=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.companion.EnrolmentDetails.prototype.setRegion=function(e){return n.Message.setProto3StringField(this,3,e)},proto.companion.EnrolmentDetails.prototype.getPrimaryipaddress=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.companion.EnrolmentDetails.prototype.setPrimaryipaddress=function(e){return n.Message.setProto3StringField(this,4,e)},proto.companion.EnrolmentDetails.prototype.getEnabledfeaturesList=function(){return n.Message.getRepeatedField(this,5)},proto.companion.EnrolmentDetails.prototype.setEnabledfeaturesList=function(e){return n.Message.setField(this,5,e||[])},proto.companion.EnrolmentDetails.prototype.addEnabledfeatures=function(e,t){return n.Message.addToRepeatedField(this,5,e,t)},proto.companion.EnrolmentDetails.prototype.clearEnabledfeaturesList=function(){return this.setEnabledfeaturesList([])},proto.companion.EnrolmentDetails.prototype.getDevicetoken=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.companion.EnrolmentDetails.prototype.setDevicetoken=function(e){return n.Message.setProto3StringField(this,6,e)},proto.companion.EnrolmentDetails.prototype.getFeatureflagsList=function(){return n.Message.getRepeatedField(this,7)},proto.companion.EnrolmentDetails.prototype.setFeatureflagsList=function(e){return n.Message.setField(this,7,e||[])},proto.companion.EnrolmentDetails.prototype.addFeatureflags=function(e,t){return n.Message.addToRepeatedField(this,7,e,t)},proto.companion.EnrolmentDetails.prototype.clearFeatureflagsList=function(){return this.setFeatureflagsList([])},proto.companion.EnrolmentDetails.prototype.getIpaddressesList=function(){return n.Message.getRepeatedField(this,8)},proto.companion.EnrolmentDetails.prototype.setIpaddressesList=function(e){return n.Message.setField(this,8,e||[])},proto.companion.EnrolmentDetails.prototype.addIpaddresses=function(e,t){return n.Message.addToRepeatedField(this,8,e,t)},proto.companion.EnrolmentDetails.prototype.clearIpaddressesList=function(){return this.setIpaddressesList([])},proto.companion.EnrolmentDetails.prototype.getEnrolmentinformation=function(){return n.Message.getWrapperField(this,s.EnrolmentInformation,9)},proto.companion.EnrolmentDetails.prototype.setEnrolmentinformation=function(e){return n.Message.setWrapperField(this,9,e)},proto.companion.EnrolmentDetails.prototype.clearEnrolmentinformation=function(){return this.setEnrolmentinformation(void 0)},proto.companion.EnrolmentDetails.prototype.hasEnrolmentinformation=function(){return null!=n.Message.getField(this,9)},proto.companion.EnrolmentDetails.prototype.getMacaddressesList=function(){return n.Message.getRepeatedField(this,10)},proto.companion.EnrolmentDetails.prototype.setMacaddressesList=function(e){return n.Message.setField(this,10,e||[])},proto.companion.EnrolmentDetails.prototype.addMacaddresses=function(e,t){return n.Message.addToRepeatedField(this,10,e,t)},proto.companion.EnrolmentDetails.prototype.clearMacaddressesList=function(){return this.setMacaddressesList([])},n.Message.GENERATE_TO_OBJECT&&(proto.companion.CompanionRegistrationResponse.prototype.toObject=function(e){return proto.companion.CompanionRegistrationResponse.toObject(e,this)},proto.companion.CompanionRegistrationResponse.toObject=function(e,t){var r,o={version:n.Message.getFieldWithDefault(t,1,""),enrolmentdetails:(r=t.getEnrolmentdetails())&&proto.companion.EnrolmentDetails.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.companion.CompanionRegistrationResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.companion.CompanionRegistrationResponse;return proto.companion.CompanionRegistrationResponse.deserializeBinaryFromReader(r,t)},proto.companion.CompanionRegistrationResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setVersion(r);break;case 2:r=new proto.companion.EnrolmentDetails,t.readMessage(r,proto.companion.EnrolmentDetails.deserializeBinaryFromReader),e.setEnrolmentdetails(r);break;default:t.skipField()}return e},proto.companion.CompanionRegistrationResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.companion.CompanionRegistrationResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.companion.CompanionRegistrationResponse.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getVersion()).length>0&&t.writeString(1,r),null!=(r=e.getEnrolmentdetails())&&t.writeMessage(2,r,proto.companion.EnrolmentDetails.serializeBinaryToWriter)},proto.companion.CompanionRegistrationResponse.prototype.getVersion=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.companion.CompanionRegistrationResponse.prototype.setVersion=function(e){return n.Message.setProto3StringField(this,1,e)},proto.companion.CompanionRegistrationResponse.prototype.getEnrolmentdetails=function(){return n.Message.getWrapperField(this,proto.companion.EnrolmentDetails,2)},proto.companion.CompanionRegistrationResponse.prototype.setEnrolmentdetails=function(e){return n.Message.setWrapperField(this,2,e)},proto.companion.CompanionRegistrationResponse.prototype.clearEnrolmentdetails=function(){return this.setEnrolmentdetails(void 0)},proto.companion.CompanionRegistrationResponse.prototype.hasEnrolmentdetails=function(){return null!=n.Message.getField(this,2)},n.Message.GENERATE_TO_OBJECT&&(proto.companion.ConsoleLog.prototype.toObject=function(e){return proto.companion.ConsoleLog.toObject(e,this)},proto.companion.ConsoleLog.toObject=function(e,t){var r={log:n.Message.getFieldWithDefault(t,1,""),loglevel:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.companion.ConsoleLog.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.companion.ConsoleLog;return proto.companion.ConsoleLog.deserializeBinaryFromReader(r,t)},proto.companion.ConsoleLog.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setLog(r);break;case 2:r=t.readString(),e.setLoglevel(r);break;default:t.skipField()}return e},proto.companion.ConsoleLog.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.companion.ConsoleLog.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.companion.ConsoleLog.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getLog()).length>0&&t.writeString(1,r),(r=e.getLoglevel()).length>0&&t.writeString(2,r)},proto.companion.ConsoleLog.prototype.getLog=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.companion.ConsoleLog.prototype.setLog=function(e){return n.Message.setProto3StringField(this,1,e)},proto.companion.ConsoleLog.prototype.getLoglevel=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.companion.ConsoleLog.prototype.setLoglevel=function(e){return n.Message.setProto3StringField(this,2,e)},proto.companion.Functionality={FILTERING:0,REPORTING:1,CLASSWIZE:2},o.object.extend(t,proto.companion)},3934:(e,t,r)=>{var n=r(3157),o="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==o&&o||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),i=r(409);n.object.extend(proto,i);var s=r(1458);n.object.extend(proto,s)},7518:(e,t,r)=>{r(3934);var n=r(409),o=r(1458),i=r(459).grpc,s=function(){function e(){}return e.serviceName="companion.CompanionApi",e}();function a(e,t){this.serviceHost=e,this.options=t||{}}s.RegisterCompanion={methodName:"RegisterCompanion",service:s,requestStream:!1,responseStream:!0,requestType:n.CompanionRegistrationRequest,responseType:n.CompanionRegistrationResponse},s.ConsoleLogStream={methodName:"ConsoleLogStream",service:s,requestStream:!0,responseStream:!1,requestType:n.ConsoleLog,responseType:o.Empty},t.CompanionApi=s,a.prototype.registerCompanion=function(e,t){var r={data:[],end:[],status:[]},n=i.invoke(s.RegisterCompanion,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onMessage:function(e){r.data.forEach((function(t){t(e)}))},onEnd:function(e,t,n){r.status.forEach((function(r){r({code:e,details:t,metadata:n})})),r.end.forEach((function(r){r({code:e,details:t,metadata:n})})),r=null}});return{on:function(e,t){return r[e].push(t),this},cancel:function(){r=null,n.close()}}},a.prototype.consoleLogStream=function(e){var t={end:[],status:[]},r=i.client(s.ConsoleLogStream,{host:this.serviceHost,metadata:e,transport:this.options.transport});return r.onEnd((function(e,r,n){t.status.forEach((function(t){t({code:e,details:r,metadata:n})})),t.end.forEach((function(t){t({code:e,details:r,metadata:n})})),t=null})),{on:function(e,r){return t[e].push(r),this},write:function(t){return r.started||r.start(e),r.send(t),this},end:function(){r.finishSend()},cancel:function(){t=null,r.close()}}},t.CompanionApiClient=a},6669:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")(),s=r(2658);o.object.extend(proto,s);var a=r(619);o.object.extend(proto,a),o.exportSymbol("proto.configuration.EnrolmentInformation",null,i),o.exportSymbol("proto.configuration.EnrolmentInformation.UserInformation",null,i),o.exportSymbol("proto.configuration.Properties",null,i),o.exportSymbol("proto.configuration.PropertiesDNSSetting",null,i),o.exportSymbol("proto.configuration.PropertiesManagedDevice",null,i),proto.configuration.Properties=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.configuration.Properties,n.Message),o.DEBUG&&!COMPILED&&(proto.configuration.Properties.displayName="proto.configuration.Properties"),proto.configuration.EnrolmentInformation=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.configuration.EnrolmentInformation,n.Message),o.DEBUG&&!COMPILED&&(proto.configuration.EnrolmentInformation.displayName="proto.configuration.EnrolmentInformation"),proto.configuration.EnrolmentInformation.UserInformation=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.configuration.EnrolmentInformation.UserInformation,n.Message),o.DEBUG&&!COMPILED&&(proto.configuration.EnrolmentInformation.UserInformation.displayName="proto.configuration.EnrolmentInformation.UserInformation"),proto.configuration.PropertiesDNSSetting=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.configuration.PropertiesDNSSetting,n.Message),o.DEBUG&&!COMPILED&&(proto.configuration.PropertiesDNSSetting.displayName="proto.configuration.PropertiesDNSSetting"),proto.configuration.PropertiesManagedDevice=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.configuration.PropertiesManagedDevice,n.Message),o.DEBUG&&!COMPILED&&(proto.configuration.PropertiesManagedDevice.displayName="proto.configuration.PropertiesManagedDevice"),n.Message.GENERATE_TO_OBJECT&&(proto.configuration.Properties.prototype.toObject=function(e){return proto.configuration.Properties.toObject(e,this)},proto.configuration.Properties.toObject=function(e,t){var r,o={loggingLevel:n.Message.getFieldWithDefault(t,1,""),deviceToken:n.Message.getFieldWithDefault(t,2,""),deviceId:n.Message.getFieldWithDefault(t,3,""),dnsSettingsMap:(r=t.getDnsSettingsMap())?r.toObject(e,proto.configuration.PropertiesDNSSetting.toObject):[],managedDevice:(r=t.getManagedDevice())&&proto.configuration.PropertiesManagedDevice.toObject(e,r),autoEnrolmentDetails:(r=t.getAutoEnrolmentDetails())&&a.AutoEnrolmentDetails.toObject(e,r),lastSuccessfulEnrollmentUsername:n.Message.getFieldWithDefault(t,13,""),enrolmentInformation:(r=t.getEnrolmentInformation())&&proto.configuration.EnrolmentInformation.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.configuration.Properties.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.configuration.Properties;return proto.configuration.Properties.deserializeBinaryFromReader(r,t)},proto.configuration.Properties.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setLoggingLevel(r);break;case 2:r=t.readString(),e.setDeviceToken(r);break;case 3:r=t.readString(),e.setDeviceId(r);break;case 10:r=e.getDnsSettingsMap(),t.readMessage(r,(function(e,t){n.Map.deserializeBinary(e,t,n.BinaryReader.prototype.readString,n.BinaryReader.prototype.readMessage,proto.configuration.PropertiesDNSSetting.deserializeBinaryFromReader,"",new proto.configuration.PropertiesDNSSetting)}));break;case 11:r=new proto.configuration.PropertiesManagedDevice,t.readMessage(r,proto.configuration.PropertiesManagedDevice.deserializeBinaryFromReader),e.setManagedDevice(r);break;case 12:r=new a.AutoEnrolmentDetails,t.readMessage(r,a.AutoEnrolmentDetails.deserializeBinaryFromReader),e.setAutoEnrolmentDetails(r);break;case 13:r=t.readString(),e.setLastSuccessfulEnrollmentUsername(r);break;case 14:r=new proto.configuration.EnrolmentInformation,t.readMessage(r,proto.configuration.EnrolmentInformation.deserializeBinaryFromReader),e.setEnrolmentInformation(r);break;default:t.skipField()}return e},proto.configuration.Properties.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.configuration.Properties.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.configuration.Properties.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getLoggingLevel()).length>0&&t.writeString(1,r),(r=e.getDeviceToken()).length>0&&t.writeString(2,r),(r=e.getDeviceId()).length>0&&t.writeString(3,r),(r=e.getDnsSettingsMap(!0))&&r.getLength()>0&&r.serializeBinary(10,t,n.BinaryWriter.prototype.writeString,n.BinaryWriter.prototype.writeMessage,proto.configuration.PropertiesDNSSetting.serializeBinaryToWriter),null!=(r=e.getManagedDevice())&&t.writeMessage(11,r,proto.configuration.PropertiesManagedDevice.serializeBinaryToWriter),null!=(r=e.getAutoEnrolmentDetails())&&t.writeMessage(12,r,a.AutoEnrolmentDetails.serializeBinaryToWriter),(r=e.getLastSuccessfulEnrollmentUsername()).length>0&&t.writeString(13,r),null!=(r=e.getEnrolmentInformation())&&t.writeMessage(14,r,proto.configuration.EnrolmentInformation.serializeBinaryToWriter)},proto.configuration.Properties.prototype.getLoggingLevel=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.configuration.Properties.prototype.setLoggingLevel=function(e){return n.Message.setProto3StringField(this,1,e)},proto.configuration.Properties.prototype.getDeviceToken=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.configuration.Properties.prototype.setDeviceToken=function(e){return n.Message.setProto3StringField(this,2,e)},proto.configuration.Properties.prototype.getDeviceId=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.configuration.Properties.prototype.setDeviceId=function(e){return n.Message.setProto3StringField(this,3,e)},proto.configuration.Properties.prototype.getDnsSettingsMap=function(e){return n.Message.getMapField(this,10,e,proto.configuration.PropertiesDNSSetting)},proto.configuration.Properties.prototype.clearDnsSettingsMap=function(){return this.getDnsSettingsMap().clear(),this},proto.configuration.Properties.prototype.getManagedDevice=function(){return n.Message.getWrapperField(this,proto.configuration.PropertiesManagedDevice,11)},proto.configuration.Properties.prototype.setManagedDevice=function(e){return n.Message.setWrapperField(this,11,e)},proto.configuration.Properties.prototype.clearManagedDevice=function(){return this.setManagedDevice(void 0)},proto.configuration.Properties.prototype.hasManagedDevice=function(){return null!=n.Message.getField(this,11)},proto.configuration.Properties.prototype.getAutoEnrolmentDetails=function(){return n.Message.getWrapperField(this,a.AutoEnrolmentDetails,12)},proto.configuration.Properties.prototype.setAutoEnrolmentDetails=function(e){return n.Message.setWrapperField(this,12,e)},proto.configuration.Properties.prototype.clearAutoEnrolmentDetails=function(){return this.setAutoEnrolmentDetails(void 0)},proto.configuration.Properties.prototype.hasAutoEnrolmentDetails=function(){return null!=n.Message.getField(this,12)},proto.configuration.Properties.prototype.getLastSuccessfulEnrollmentUsername=function(){return n.Message.getFieldWithDefault(this,13,"")},proto.configuration.Properties.prototype.setLastSuccessfulEnrollmentUsername=function(e){return n.Message.setProto3StringField(this,13,e)},proto.configuration.Properties.prototype.getEnrolmentInformation=function(){return n.Message.getWrapperField(this,proto.configuration.EnrolmentInformation,14)},proto.configuration.Properties.prototype.setEnrolmentInformation=function(e){return n.Message.setWrapperField(this,14,e)},proto.configuration.Properties.prototype.clearEnrolmentInformation=function(){return this.setEnrolmentInformation(void 0)},proto.configuration.Properties.prototype.hasEnrolmentInformation=function(){return null!=n.Message.getField(this,14)},n.Message.GENERATE_TO_OBJECT&&(proto.configuration.EnrolmentInformation.prototype.toObject=function(e){return proto.configuration.EnrolmentInformation.toObject(e,this)},proto.configuration.EnrolmentInformation.toObject=function(e,t){var r,o={provider:n.Message.getFieldWithDefault(t,1,""),apiToken:n.Message.getFieldWithDefault(t,2,""),customerId:n.Message.getFieldWithDefault(t,3,""),tenantId:n.Message.getFieldWithDefault(t,4,""),userInformation:(r=t.getUserInformation())&&proto.configuration.EnrolmentInformation.UserInformation.toObject(e,r),apiRegion:n.Message.getFieldWithDefault(t,6,""),metadataMap:(r=t.getMetadataMap())?r.toObject(e,void 0):[]};return e&&(o.$jspbMessageInstance=t),o}),proto.configuration.EnrolmentInformation.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.configuration.EnrolmentInformation;return proto.configuration.EnrolmentInformation.deserializeBinaryFromReader(r,t)},proto.configuration.EnrolmentInformation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setProvider(r);break;case 2:r=t.readString(),e.setApiToken(r);break;case 3:r=t.readString(),e.setCustomerId(r);break;case 4:r=t.readString(),e.setTenantId(r);break;case 5:r=new proto.configuration.EnrolmentInformation.UserInformation,t.readMessage(r,proto.configuration.EnrolmentInformation.UserInformation.deserializeBinaryFromReader),e.setUserInformation(r);break;case 6:r=t.readString(),e.setApiRegion(r);break;case 10:r=e.getMetadataMap(),t.readMessage(r,(function(e,t){n.Map.deserializeBinary(e,t,n.BinaryReader.prototype.readString,n.BinaryReader.prototype.readString,null,"","")}));break;default:t.skipField()}return e},proto.configuration.EnrolmentInformation.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.configuration.EnrolmentInformation.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.configuration.EnrolmentInformation.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getProvider()).length>0&&t.writeString(1,r),(r=e.getApiToken()).length>0&&t.writeString(2,r),(r=e.getCustomerId()).length>0&&t.writeString(3,r),null!=(r=n.Message.getField(e,4))&&t.writeString(4,r),null!=(r=e.getUserInformation())&&t.writeMessage(5,r,proto.configuration.EnrolmentInformation.UserInformation.serializeBinaryToWriter),null!=(r=n.Message.getField(e,6))&&t.writeString(6,r),(r=e.getMetadataMap(!0))&&r.getLength()>0&&r.serializeBinary(10,t,n.BinaryWriter.prototype.writeString,n.BinaryWriter.prototype.writeString)},n.Message.GENERATE_TO_OBJECT&&(proto.configuration.EnrolmentInformation.UserInformation.prototype.toObject=function(e){return proto.configuration.EnrolmentInformation.UserInformation.toObject(e,this)},proto.configuration.EnrolmentInformation.UserInformation.toObject=function(e,t){var r={username:n.Message.getFieldWithDefault(t,1,""),usernameRaw:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.configuration.EnrolmentInformation.UserInformation.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.configuration.EnrolmentInformation.UserInformation;return proto.configuration.EnrolmentInformation.UserInformation.deserializeBinaryFromReader(r,t)},proto.configuration.EnrolmentInformation.UserInformation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUsername(r);break;case 2:r=t.readString(),e.setUsernameRaw(r);break;default:t.skipField()}return e},proto.configuration.EnrolmentInformation.UserInformation.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.configuration.EnrolmentInformation.UserInformation.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.configuration.EnrolmentInformation.UserInformation.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getUsername()).length>0&&t.writeString(1,r),(r=e.getUsernameRaw()).length>0&&t.writeString(2,r)},proto.configuration.EnrolmentInformation.UserInformation.prototype.getUsername=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.configuration.EnrolmentInformation.UserInformation.prototype.setUsername=function(e){return n.Message.setProto3StringField(this,1,e)},proto.configuration.EnrolmentInformation.UserInformation.prototype.getUsernameRaw=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.configuration.EnrolmentInformation.UserInformation.prototype.setUsernameRaw=function(e){return n.Message.setProto3StringField(this,2,e)},proto.configuration.EnrolmentInformation.prototype.getProvider=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.configuration.EnrolmentInformation.prototype.setProvider=function(e){return n.Message.setProto3StringField(this,1,e)},proto.configuration.EnrolmentInformation.prototype.getApiToken=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.configuration.EnrolmentInformation.prototype.setApiToken=function(e){return n.Message.setProto3StringField(this,2,e)},proto.configuration.EnrolmentInformation.prototype.getCustomerId=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.configuration.EnrolmentInformation.prototype.setCustomerId=function(e){return n.Message.setProto3StringField(this,3,e)},proto.configuration.EnrolmentInformation.prototype.getTenantId=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.configuration.EnrolmentInformation.prototype.setTenantId=function(e){return n.Message.setField(this,4,e)},proto.configuration.EnrolmentInformation.prototype.clearTenantId=function(){return n.Message.setField(this,4,void 0)},proto.configuration.EnrolmentInformation.prototype.hasTenantId=function(){return null!=n.Message.getField(this,4)},proto.configuration.EnrolmentInformation.prototype.getUserInformation=function(){return n.Message.getWrapperField(this,proto.configuration.EnrolmentInformation.UserInformation,5)},proto.configuration.EnrolmentInformation.prototype.setUserInformation=function(e){return n.Message.setWrapperField(this,5,e)},proto.configuration.EnrolmentInformation.prototype.clearUserInformation=function(){return this.setUserInformation(void 0)},proto.configuration.EnrolmentInformation.prototype.hasUserInformation=function(){return null!=n.Message.getField(this,5)},proto.configuration.EnrolmentInformation.prototype.getApiRegion=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.configuration.EnrolmentInformation.prototype.setApiRegion=function(e){return n.Message.setField(this,6,e)},proto.configuration.EnrolmentInformation.prototype.clearApiRegion=function(){return n.Message.setField(this,6,void 0)},proto.configuration.EnrolmentInformation.prototype.hasApiRegion=function(){return null!=n.Message.getField(this,6)},proto.configuration.EnrolmentInformation.prototype.getMetadataMap=function(e){return n.Message.getMapField(this,10,e,null)},proto.configuration.EnrolmentInformation.prototype.clearMetadataMap=function(){return this.getMetadataMap().clear(),this},n.Message.GENERATE_TO_OBJECT&&(proto.configuration.PropertiesDNSSetting.prototype.toObject=function(e){return proto.configuration.PropertiesDNSSetting.toObject(e,this)},proto.configuration.PropertiesDNSSetting.toObject=function(e,t){var r={pb_static:n.Message.getBooleanFieldWithDefault(t,1,!1),primaryNameServer:n.Message.getFieldWithDefault(t,2,""),secondaryNameServer:n.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.configuration.PropertiesDNSSetting.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.configuration.PropertiesDNSSetting;return proto.configuration.PropertiesDNSSetting.deserializeBinaryFromReader(r,t)},proto.configuration.PropertiesDNSSetting.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setStatic(r);break;case 2:r=t.readString(),e.setPrimaryNameServer(r);break;case 3:r=t.readString(),e.setSecondaryNameServer(r);break;default:t.skipField()}return e},proto.configuration.PropertiesDNSSetting.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.configuration.PropertiesDNSSetting.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.configuration.PropertiesDNSSetting.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getStatic())&&t.writeBool(1,r),(r=e.getPrimaryNameServer()).length>0&&t.writeString(2,r),(r=e.getSecondaryNameServer()).length>0&&t.writeString(3,r)},proto.configuration.PropertiesDNSSetting.prototype.getStatic=function(){return n.Message.getBooleanFieldWithDefault(this,1,!1)},proto.configuration.PropertiesDNSSetting.prototype.setStatic=function(e){return n.Message.setProto3BooleanField(this,1,e)},proto.configuration.PropertiesDNSSetting.prototype.getPrimaryNameServer=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.configuration.PropertiesDNSSetting.prototype.setPrimaryNameServer=function(e){return n.Message.setProto3StringField(this,2,e)},proto.configuration.PropertiesDNSSetting.prototype.getSecondaryNameServer=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.configuration.PropertiesDNSSetting.prototype.setSecondaryNameServer=function(e){return n.Message.setProto3StringField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.configuration.PropertiesManagedDevice.prototype.toObject=function(e){return proto.configuration.PropertiesManagedDevice.toObject(e,this)},proto.configuration.PropertiesManagedDevice.toObject=function(e,t){var r,o={applianceId:n.Message.getFieldWithDefault(t,1,""),enrollmentDetails:(r=t.getEnrollmentDetails())&&s.EnrollManagedDeviceResponse.toObject(e,r)};return e&&(o.$jspbMessageInstance=t),o}),proto.configuration.PropertiesManagedDevice.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.configuration.PropertiesManagedDevice;return proto.configuration.PropertiesManagedDevice.deserializeBinaryFromReader(r,t)},proto.configuration.PropertiesManagedDevice.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setApplianceId(r);break;case 2:r=new s.EnrollManagedDeviceResponse,t.readMessage(r,s.EnrollManagedDeviceResponse.deserializeBinaryFromReader),e.setEnrollmentDetails(r);break;default:t.skipField()}return e},proto.configuration.PropertiesManagedDevice.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.configuration.PropertiesManagedDevice.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.configuration.PropertiesManagedDevice.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getApplianceId()).length>0&&t.writeString(1,r),null!=(r=e.getEnrollmentDetails())&&t.writeMessage(2,r,s.EnrollManagedDeviceResponse.serializeBinaryToWriter)},proto.configuration.PropertiesManagedDevice.prototype.getApplianceId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.configuration.PropertiesManagedDevice.prototype.setApplianceId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.configuration.PropertiesManagedDevice.prototype.getEnrollmentDetails=function(){return n.Message.getWrapperField(this,s.EnrollManagedDeviceResponse,2)},proto.configuration.PropertiesManagedDevice.prototype.setEnrollmentDetails=function(e){return n.Message.setWrapperField(this,2,e)},proto.configuration.PropertiesManagedDevice.prototype.clearEnrollmentDetails=function(){return this.setEnrollmentDetails(void 0)},proto.configuration.PropertiesManagedDevice.prototype.hasEnrollmentDetails=function(){return null!=n.Message.getField(this,2)},o.object.extend(t,proto.configuration)},786:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();o.exportSymbol("proto.reporting.models.Connection",null,i),o.exportSymbol("proto.reporting.models.ConnectionsReport",null,i),proto.reporting.models.ConnectionsReport=function(e){n.Message.initialize(this,e,0,-1,proto.reporting.models.ConnectionsReport.repeatedFields_,null)},o.inherits(proto.reporting.models.ConnectionsReport,n.Message),o.DEBUG&&!COMPILED&&(proto.reporting.models.ConnectionsReport.displayName="proto.reporting.models.ConnectionsReport"),proto.reporting.models.Connection=function(e){n.Message.initialize(this,e,0,-1,proto.reporting.models.Connection.repeatedFields_,null)},o.inherits(proto.reporting.models.Connection,n.Message),o.DEBUG&&!COMPILED&&(proto.reporting.models.Connection.displayName="proto.reporting.models.Connection"),proto.reporting.models.ConnectionsReport.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.reporting.models.ConnectionsReport.prototype.toObject=function(e){return proto.reporting.models.ConnectionsReport.toObject(e,this)},proto.reporting.models.ConnectionsReport.toObject=function(e,t){var r={itemsList:n.Message.toObjectList(t.getItemsList(),proto.reporting.models.Connection.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.reporting.models.ConnectionsReport.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.reporting.models.ConnectionsReport;return proto.reporting.models.ConnectionsReport.deserializeBinaryFromReader(r,t)},proto.reporting.models.ConnectionsReport.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=new proto.reporting.models.Connection;t.readMessage(r,proto.reporting.models.Connection.deserializeBinaryFromReader),e.addItems(r)}else t.skipField();return e},proto.reporting.models.ConnectionsReport.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.reporting.models.ConnectionsReport.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.reporting.models.ConnectionsReport.serializeBinaryToWriter=function(e,t){var r;(r=e.getItemsList()).length>0&&t.writeRepeatedMessage(1,r,proto.reporting.models.Connection.serializeBinaryToWriter)},proto.reporting.models.ConnectionsReport.prototype.getItemsList=function(){return n.Message.getRepeatedWrapperField(this,proto.reporting.models.Connection,1)},proto.reporting.models.ConnectionsReport.prototype.setItemsList=function(e){return n.Message.setRepeatedWrapperField(this,1,e)},proto.reporting.models.ConnectionsReport.prototype.addItems=function(e,t){return n.Message.addToRepeatedWrapperField(this,1,e,proto.reporting.models.Connection,t)},proto.reporting.models.ConnectionsReport.prototype.clearItemsList=function(){return this.setItemsList([])},proto.reporting.models.Connection.repeatedFields_=[8],n.Message.GENERATE_TO_OBJECT&&(proto.reporting.models.Connection.prototype.toObject=function(e){return proto.reporting.models.Connection.toObject(e,this)},proto.reporting.models.Connection.toObject=function(e,t){var r,o={appFilteringDenied:n.Message.getBooleanFieldWithDefault(t,1,!1),categoryid:n.Message.getFieldWithDefault(t,2,""),destip:n.Message.getFieldWithDefault(t,3,""),destport:n.Message.getFieldWithDefault(t,4,0),download:n.Message.getFieldWithDefault(t,5,0),finalConnectionObject:n.Message.getBooleanFieldWithDefault(t,6,!1),httphost:n.Message.getFieldWithDefault(t,7,""),httpRequestUrisList:null==(r=n.Message.getRepeatedField(t,8))?void 0:r,hwaddress:n.Message.getFieldWithDefault(t,9,""),lifetime:n.Message.getFieldWithDefault(t,10,0),noise:n.Message.getBooleanFieldWithDefault(t,11,!1),packets:n.Message.getFieldWithDefault(t,12,0),protocol:n.Message.getFieldWithDefault(t,13,0),sourceip:n.Message.getFieldWithDefault(t,14,""),subcategoryid:n.Message.getFieldWithDefault(t,15,""),tag:n.Message.getFieldWithDefault(t,16,""),time:n.Message.getFieldWithDefault(t,17,0),upload:n.Message.getFieldWithDefault(t,18,0),user:n.Message.getFieldWithDefault(t,19,""),verdictApplicationRule:n.Message.getFieldWithDefault(t,20,""),reportingtype:n.Message.getFieldWithDefault(t,21,""),extensionconnection:n.Message.getBooleanFieldWithDefault(t,22,!1),hostname:n.Message.getFieldWithDefault(t,23,""),id:n.Message.getFieldWithDefault(t,24,""),agent:n.Message.getFieldWithDefault(t,25,""),hardware:n.Message.getFieldWithDefault(t,26,""),companionModeActive:n.Message.getBooleanFieldWithDefault(t,27,!1),teacherid:n.Message.getFieldWithDefault(t,28,""),resourceType:n.Message.getFieldWithDefault(t,29,""),bypassCode:n.Message.getFieldWithDefault(t,30,""),bypassExpiryTime:n.Message.getFieldWithDefault(t,31,0),htmltitle:n.Message.getFieldWithDefault(t,32,""),filterType:n.Message.getFieldWithDefault(t,33,""),agentInsideNetwork:n.Message.getBooleanFieldWithDefault(t,34,!1),debugChromeVerdictIssued:n.Message.getBooleanFieldWithDefault(t,35,!1),debugChromeRequestid:n.Message.getFieldWithDefault(t,36,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.reporting.models.Connection.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.reporting.models.Connection;return proto.reporting.models.Connection.deserializeBinaryFromReader(r,t)},proto.reporting.models.Connection.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setAppFilteringDenied(r);break;case 2:r=t.readString(),e.setCategoryid(r);break;case 3:r=t.readString(),e.setDestip(r);break;case 4:r=t.readInt32(),e.setDestport(r);break;case 5:r=t.readInt64(),e.setDownload(r);break;case 6:r=t.readBool(),e.setFinalConnectionObject(r);break;case 7:r=t.readString(),e.setHttphost(r);break;case 8:r=t.readString(),e.addHttpRequestUris(r);break;case 9:r=t.readString(),e.setHwaddress(r);break;case 10:r=t.readInt32(),e.setLifetime(r);break;case 11:r=t.readBool(),e.setNoise(r);break;case 12:r=t.readInt32(),e.setPackets(r);break;case 13:r=t.readInt32(),e.setProtocol(r);break;case 14:r=t.readString(),e.setSourceip(r);break;case 15:r=t.readString(),e.setSubcategoryid(r);break;case 16:r=t.readString(),e.setTag(r);break;case 17:r=t.readInt32(),e.setTime(r);break;case 18:r=t.readInt64(),e.setUpload(r);break;case 19:r=t.readString(),e.setUser(r);break;case 20:r=t.readString(),e.setVerdictApplicationRule(r);break;case 21:r=t.readString(),e.setReportingtype(r);break;case 22:r=t.readBool(),e.setExtensionconnection(r);break;case 23:r=t.readString(),e.setHostname(r);break;case 24:r=t.readString(),e.setId(r);break;case 25:r=t.readString(),e.setAgent(r);break;case 26:r=t.readString(),e.setHardware(r);break;case 27:r=t.readBool(),e.setCompanionModeActive(r);break;case 28:r=t.readString(),e.setTeacherid(r);break;case 29:r=t.readString(),e.setResourceType(r);break;case 30:r=t.readString(),e.setBypassCode(r);break;case 31:r=t.readInt64(),e.setBypassExpiryTime(r);break;case 32:r=t.readString(),e.setHtmltitle(r);break;case 33:r=t.readString(),e.setFilterType(r);break;case 34:r=t.readBool(),e.setAgentInsideNetwork(r);break;case 35:r=t.readBool(),e.setDebugChromeVerdictIssued(r);break;case 36:r=t.readString(),e.setDebugChromeRequestid(r);break;default:t.skipField()}return e},proto.reporting.models.Connection.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.reporting.models.Connection.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.reporting.models.Connection.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getAppFilteringDenied())&&t.writeBool(1,r),(r=e.getCategoryid()).length>0&&t.writeString(2,r),(r=e.getDestip()).length>0&&t.writeString(3,r),0!==(r=e.getDestport())&&t.writeInt32(4,r),0!==(r=e.getDownload())&&t.writeInt64(5,r),(r=e.getFinalConnectionObject())&&t.writeBool(6,r),(r=e.getHttphost()).length>0&&t.writeString(7,r),(r=e.getHttpRequestUrisList()).length>0&&t.writeRepeatedString(8,r),(r=e.getHwaddress()).length>0&&t.writeString(9,r),0!==(r=e.getLifetime())&&t.writeInt32(10,r),(r=e.getNoise())&&t.writeBool(11,r),0!==(r=e.getPackets())&&t.writeInt32(12,r),0!==(r=e.getProtocol())&&t.writeInt32(13,r),(r=e.getSourceip()).length>0&&t.writeString(14,r),(r=e.getSubcategoryid()).length>0&&t.writeString(15,r),(r=e.getTag()).length>0&&t.writeString(16,r),0!==(r=e.getTime())&&t.writeInt32(17,r),0!==(r=e.getUpload())&&t.writeInt64(18,r),(r=e.getUser()).length>0&&t.writeString(19,r),(r=e.getVerdictApplicationRule()).length>0&&t.writeString(20,r),(r=e.getReportingtype()).length>0&&t.writeString(21,r),(r=e.getExtensionconnection())&&t.writeBool(22,r),(r=e.getHostname()).length>0&&t.writeString(23,r),(r=e.getId()).length>0&&t.writeString(24,r),(r=e.getAgent()).length>0&&t.writeString(25,r),(r=e.getHardware()).length>0&&t.writeString(26,r),(r=e.getCompanionModeActive())&&t.writeBool(27,r),null!=(r=n.Message.getField(e,28))&&t.writeString(28,r),(r=e.getResourceType()).length>0&&t.writeString(29,r),(r=e.getBypassCode()).length>0&&t.writeString(30,r),0!==(r=e.getBypassExpiryTime())&&t.writeInt64(31,r),(r=e.getHtmltitle()).length>0&&t.writeString(32,r),(r=e.getFilterType()).length>0&&t.writeString(33,r),(r=e.getAgentInsideNetwork())&&t.writeBool(34,r),(r=e.getDebugChromeVerdictIssued())&&t.writeBool(35,r),(r=e.getDebugChromeRequestid()).length>0&&t.writeString(36,r)},proto.reporting.models.Connection.prototype.getAppFilteringDenied=function(){return n.Message.getBooleanFieldWithDefault(this,1,!1)},proto.reporting.models.Connection.prototype.setAppFilteringDenied=function(e){return n.Message.setProto3BooleanField(this,1,e)},proto.reporting.models.Connection.prototype.getCategoryid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.reporting.models.Connection.prototype.setCategoryid=function(e){return n.Message.setProto3StringField(this,2,e)},proto.reporting.models.Connection.prototype.getDestip=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.reporting.models.Connection.prototype.setDestip=function(e){return n.Message.setProto3StringField(this,3,e)},proto.reporting.models.Connection.prototype.getDestport=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.reporting.models.Connection.prototype.setDestport=function(e){return n.Message.setProto3IntField(this,4,e)},proto.reporting.models.Connection.prototype.getDownload=function(){return n.Message.getFieldWithDefault(this,5,0)},proto.reporting.models.Connection.prototype.setDownload=function(e){return n.Message.setProto3IntField(this,5,e)},proto.reporting.models.Connection.prototype.getFinalConnectionObject=function(){return n.Message.getBooleanFieldWithDefault(this,6,!1)},proto.reporting.models.Connection.prototype.setFinalConnectionObject=function(e){return n.Message.setProto3BooleanField(this,6,e)},proto.reporting.models.Connection.prototype.getHttphost=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.reporting.models.Connection.prototype.setHttphost=function(e){return n.Message.setProto3StringField(this,7,e)},proto.reporting.models.Connection.prototype.getHttpRequestUrisList=function(){return n.Message.getRepeatedField(this,8)},proto.reporting.models.Connection.prototype.setHttpRequestUrisList=function(e){return n.Message.setField(this,8,e||[])},proto.reporting.models.Connection.prototype.addHttpRequestUris=function(e,t){return n.Message.addToRepeatedField(this,8,e,t)},proto.reporting.models.Connection.prototype.clearHttpRequestUrisList=function(){return this.setHttpRequestUrisList([])},proto.reporting.models.Connection.prototype.getHwaddress=function(){return n.Message.getFieldWithDefault(this,9,"")},proto.reporting.models.Connection.prototype.setHwaddress=function(e){return n.Message.setProto3StringField(this,9,e)},proto.reporting.models.Connection.prototype.getLifetime=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.reporting.models.Connection.prototype.setLifetime=function(e){return n.Message.setProto3IntField(this,10,e)},proto.reporting.models.Connection.prototype.getNoise=function(){return n.Message.getBooleanFieldWithDefault(this,11,!1)},proto.reporting.models.Connection.prototype.setNoise=function(e){return n.Message.setProto3BooleanField(this,11,e)},proto.reporting.models.Connection.prototype.getPackets=function(){return n.Message.getFieldWithDefault(this,12,0)},proto.reporting.models.Connection.prototype.setPackets=function(e){return n.Message.setProto3IntField(this,12,e)},proto.reporting.models.Connection.prototype.getProtocol=function(){return n.Message.getFieldWithDefault(this,13,0)},proto.reporting.models.Connection.prototype.setProtocol=function(e){return n.Message.setProto3IntField(this,13,e)},proto.reporting.models.Connection.prototype.getSourceip=function(){return n.Message.getFieldWithDefault(this,14,"")},proto.reporting.models.Connection.prototype.setSourceip=function(e){return n.Message.setProto3StringField(this,14,e)},proto.reporting.models.Connection.prototype.getSubcategoryid=function(){return n.Message.getFieldWithDefault(this,15,"")},proto.reporting.models.Connection.prototype.setSubcategoryid=function(e){return n.Message.setProto3StringField(this,15,e)},proto.reporting.models.Connection.prototype.getTag=function(){return n.Message.getFieldWithDefault(this,16,"")},proto.reporting.models.Connection.prototype.setTag=function(e){return n.Message.setProto3StringField(this,16,e)},proto.reporting.models.Connection.prototype.getTime=function(){return n.Message.getFieldWithDefault(this,17,0)},proto.reporting.models.Connection.prototype.setTime=function(e){return n.Message.setProto3IntField(this,17,e)},proto.reporting.models.Connection.prototype.getUpload=function(){return n.Message.getFieldWithDefault(this,18,0)},proto.reporting.models.Connection.prototype.setUpload=function(e){return n.Message.setProto3IntField(this,18,e)},proto.reporting.models.Connection.prototype.getUser=function(){return n.Message.getFieldWithDefault(this,19,"")},proto.reporting.models.Connection.prototype.setUser=function(e){return n.Message.setProto3StringField(this,19,e)},proto.reporting.models.Connection.prototype.getVerdictApplicationRule=function(){return n.Message.getFieldWithDefault(this,20,"")},proto.reporting.models.Connection.prototype.setVerdictApplicationRule=function(e){return n.Message.setProto3StringField(this,20,e)},proto.reporting.models.Connection.prototype.getReportingtype=function(){return n.Message.getFieldWithDefault(this,21,"")},proto.reporting.models.Connection.prototype.setReportingtype=function(e){return n.Message.setProto3StringField(this,21,e)},proto.reporting.models.Connection.prototype.getExtensionconnection=function(){return n.Message.getBooleanFieldWithDefault(this,22,!1)},proto.reporting.models.Connection.prototype.setExtensionconnection=function(e){return n.Message.setProto3BooleanField(this,22,e)},proto.reporting.models.Connection.prototype.getHostname=function(){return n.Message.getFieldWithDefault(this,23,"")},proto.reporting.models.Connection.prototype.setHostname=function(e){return n.Message.setProto3StringField(this,23,e)},proto.reporting.models.Connection.prototype.getId=function(){return n.Message.getFieldWithDefault(this,24,"")},proto.reporting.models.Connection.prototype.setId=function(e){return n.Message.setProto3StringField(this,24,e)},proto.reporting.models.Connection.prototype.getAgent=function(){return n.Message.getFieldWithDefault(this,25,"")},proto.reporting.models.Connection.prototype.setAgent=function(e){return n.Message.setProto3StringField(this,25,e)},proto.reporting.models.Connection.prototype.getHardware=function(){return n.Message.getFieldWithDefault(this,26,"")},proto.reporting.models.Connection.prototype.setHardware=function(e){return n.Message.setProto3StringField(this,26,e)},proto.reporting.models.Connection.prototype.getCompanionModeActive=function(){return n.Message.getBooleanFieldWithDefault(this,27,!1)},proto.reporting.models.Connection.prototype.setCompanionModeActive=function(e){return n.Message.setProto3BooleanField(this,27,e)},proto.reporting.models.Connection.prototype.getTeacherid=function(){return n.Message.getFieldWithDefault(this,28,"")},proto.reporting.models.Connection.prototype.setTeacherid=function(e){return n.Message.setField(this,28,e)},proto.reporting.models.Connection.prototype.clearTeacherid=function(){return n.Message.setField(this,28,void 0)},proto.reporting.models.Connection.prototype.hasTeacherid=function(){return null!=n.Message.getField(this,28)},proto.reporting.models.Connection.prototype.getResourceType=function(){return n.Message.getFieldWithDefault(this,29,"")},proto.reporting.models.Connection.prototype.setResourceType=function(e){return n.Message.setProto3StringField(this,29,e)},proto.reporting.models.Connection.prototype.getBypassCode=function(){return n.Message.getFieldWithDefault(this,30,"")},proto.reporting.models.Connection.prototype.setBypassCode=function(e){return n.Message.setProto3StringField(this,30,e)},proto.reporting.models.Connection.prototype.getBypassExpiryTime=function(){return n.Message.getFieldWithDefault(this,31,0)},proto.reporting.models.Connection.prototype.setBypassExpiryTime=function(e){return n.Message.setProto3IntField(this,31,e)},proto.reporting.models.Connection.prototype.getHtmltitle=function(){return n.Message.getFieldWithDefault(this,32,"")},proto.reporting.models.Connection.prototype.setHtmltitle=function(e){return n.Message.setProto3StringField(this,32,e)},proto.reporting.models.Connection.prototype.getFilterType=function(){return n.Message.getFieldWithDefault(this,33,"")},proto.reporting.models.Connection.prototype.setFilterType=function(e){return n.Message.setProto3StringField(this,33,e)},proto.reporting.models.Connection.prototype.getAgentInsideNetwork=function(){return n.Message.getBooleanFieldWithDefault(this,34,!1)},proto.reporting.models.Connection.prototype.setAgentInsideNetwork=function(e){return n.Message.setProto3BooleanField(this,34,e)},proto.reporting.models.Connection.prototype.getDebugChromeVerdictIssued=function(){return n.Message.getBooleanFieldWithDefault(this,35,!1)},proto.reporting.models.Connection.prototype.setDebugChromeVerdictIssued=function(e){return n.Message.setProto3BooleanField(this,35,e)},proto.reporting.models.Connection.prototype.getDebugChromeRequestid=function(){return n.Message.getFieldWithDefault(this,36,"")},proto.reporting.models.Connection.prototype.setDebugChromeRequestid=function(e){return n.Message.setProto3StringField(this,36,e)},o.object.extend(t,proto.reporting.models)},459:function(e){var t,r;e.exports=(t={418:function(e,t){!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={splitValues:!1});var r,o=this;this.headersMap={},e&&("undefined"!=typeof Headers&&e instanceof Headers?n.getHeaderKeys(e).forEach((function(r){n.getHeaderValues(e,r).forEach((function(e){t.splitValues?o.append(r,n.splitHeaderValue(e)):o.append(r,e)}))})):"object"==typeof(r=e)&&"object"==typeof r.headersMap&&"function"==typeof r.forEach?e.forEach((function(e,t){o.append(e,t)})):"undefined"!=typeof Map&&e instanceof Map?e.forEach((function(e,t){o.append(t,e)})):"string"==typeof e?this.appendFromString(e):"object"==typeof e&&Object.getOwnPropertyNames(e).forEach((function(t){var r=e[t];Array.isArray(r)?r.forEach((function(e){o.append(t,e)})):o.append(t,r)})))}return e.prototype.appendFromString=function(e){for(var t=e.split("\r\n"),r=0;r<t.length;r++){var n=t[r],o=n.indexOf(":");if(o>0){var i=n.substring(0,o).trim(),s=n.substring(o+1).trim();this.append(i,s)}}},e.prototype.delete=function(e,t){var r=n.normalizeName(e);if(void 0===t)delete this.headersMap[r];else{var o=this.headersMap[r];if(o){var i=o.indexOf(t);i>=0&&o.splice(i,1),0===o.length&&delete this.headersMap[r]}}},e.prototype.append=function(e,t){var r=this,o=n.normalizeName(e);Array.isArray(this.headersMap[o])||(this.headersMap[o]=[]),Array.isArray(t)?t.forEach((function(e){r.headersMap[o].push(n.normalizeValue(e))})):this.headersMap[o].push(n.normalizeValue(t))},e.prototype.set=function(e,t){var r=n.normalizeName(e);if(Array.isArray(t)){var o=[];t.forEach((function(e){o.push(n.normalizeValue(e))})),this.headersMap[r]=o}else this.headersMap[r]=[n.normalizeValue(t)]},e.prototype.has=function(e,t){var r=this.headersMap[n.normalizeName(e)];if(!Array.isArray(r))return!1;if(void 0!==t){var o=n.normalizeValue(t);return r.indexOf(o)>=0}return!0},e.prototype.get=function(e){var t=this.headersMap[n.normalizeName(e)];return void 0!==t?t.concat():[]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.headersMap).forEach((function(r){e(r,t.headersMap[r])}),this)},e.prototype.toHeaders=function(){if("undefined"!=typeof Headers){var e=new Headers;return this.forEach((function(t,r){r.forEach((function(r){e.append(t,r)}))})),e}throw new Error("Headers class is not defined")},e}();t.BrowserHeaders=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.BrowserHeaders=n.BrowserHeaders},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateHeaders=function(e,t){for(var r=e[Symbol.iterator](),n=r.next();!n.done;)t(n.value[0]),n=r.next()},t.iterateHeadersKeys=function(e,t){for(var r=e.keys(),n=r.next();!n.done;)t(n.value),n=r.next()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.normalizeName=function(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()},t.normalizeValue=function(e){return"string"!=typeof e&&(e=String(e)),e},t.getHeaderValues=function(e,t){var r=e;if(r instanceof Headers&&r.getAll)return r.getAll(t);var n=r.get(t);return n&&"string"==typeof n?[n]:n},t.getHeaderKeys=function(e){var t=e,r={},o=[];return t.keys?n.iterateHeadersKeys(t,(function(e){r[e]||(r[e]=!0,o.push(e))})):t.forEach?t.forEach((function(e,t){r[t]||(r[t]=!0,o.push(t))})):n.iterateHeaders(t,(function(e){var t=e[0];r[t]||(r[t]=!0,o.push(t))})),o},t.splitHeaderValue=function(e){var t=[];return e.split(", ").forEach((function(e){e.split(",").forEach((function(e){t.push(e)}))})),t}}]))},617:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkParser=t.ChunkType=t.encodeASCII=t.decodeASCII=void 0;var n,o=r(65);function i(e){return 9===(t=e)||10===t||13===t||e>=32&&e<=126;var t}function s(e){for(var t=0;t!==e.length;++t)if(!i(e[t]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(e))}function a(e){return!(128&~e.getUint8(0))}function c(e){return e.getUint32(1,!1)}function u(e,t,r){return e.byteLength-t>=r}function l(e,t,r){if(e.slice)return e.slice(t,r);var n=e.length;void 0!==r&&(n=r);for(var o=new Uint8Array(n-t),i=0,s=t;s<n;s++)o[i++]=e[s];return o}t.decodeASCII=s,t.encodeASCII=function(e){for(var t=new Uint8Array(e.length),r=0;r!==e.length;++r){var n=e.charCodeAt(r);if(!i(n))throw new Error("Metadata contains invalid ASCII");t[r]=n}return t},function(e){e[e.MESSAGE=1]="MESSAGE",e[e.TRAILERS=2]="TRAILERS"}(n=t.ChunkType||(t.ChunkType={}));var p=function(){function e(){this.buffer=null,this.position=0}return e.prototype.parse=function(e,t){if(0===e.length&&t)return[];var r,i=[];if(null==this.buffer)this.buffer=e,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=e,this.position=0;else{var p=this.buffer.byteLength-this.position,d=new Uint8Array(p+e.byteLength),g=l(this.buffer,this.position);d.set(g,0);var f=new Uint8Array(e);d.set(f,p),this.buffer=d,this.position=0}for(;;){if(!u(this.buffer,this.position,5))return i;var h=l(this.buffer,this.position,this.position+5),m=new DataView(h.buffer,h.byteOffset,h.byteLength),y=c(m);if(!u(this.buffer,this.position,5+y))return i;var _=l(this.buffer,this.position+5,this.position+5+y);if(this.position+=5+y,a(m))return i.push({chunkType:n.TRAILERS,trailers:(r=_,new o.Metadata(s(r)))}),i;i.push({chunkType:n.MESSAGE,data:_})}},e}();t.ChunkParser=p},8:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.httpStatusToCode=t.Code=void 0,function(e){e[e.OK=0]="OK",e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"}(r=t.Code||(t.Code={})),t.httpStatusToCode=function(e){switch(e){case 0:return r.Internal;case 200:return r.OK;case 400:return r.InvalidArgument;case 401:return r.Unauthenticated;case 403:return r.PermissionDenied;case 404:return r.NotFound;case 409:return r.Aborted;case 412:return r.FailedPrecondition;case 429:return r.ResourceExhausted;case 499:return r.Canceled;case 500:default:return r.Unknown;case 501:return r.Unimplemented;case 503:return r.Unavailable;case 504:return r.DeadlineExceeded}}},934:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.client=void 0;var n=r(65),o=r(617),i=r(8),s=r(346),a=r(57),c=r(882);t.client=function(e,t){return new u(e,t)};var u=function(){function e(e,t){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new o.ChunkParser,this.methodDefinition=e,this.props=t,this.createTransport()}return e.prototype.createTransport=function(){var e=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,t={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:e,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(t):this.transport=a.makeDefaultTransport(t)},e.prototype.onTransportHeaders=function(e,t){if(this.props.debug&&s.debug("onHeaders",e,t),this.closed)this.props.debug&&s.debug("grpc.onHeaders received after request was closed - ignoring");else if(0===t);else{this.responseHeaders=e,this.props.debug&&s.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var r=l(e);this.props.debug&&s.debug("onHeaders.gRPCStatus",r);var n=r&&r>=0?r:i.httpStatusToCode(t);this.props.debug&&s.debug("onHeaders.code",n);var o=e.get("grpc-message")||[];if(this.props.debug&&s.debug("onHeaders.gRPCMessage",o),this.rawOnHeaders(e),n!==i.Code.OK){var a=this.decodeGRPCStatus(o[0]);this.rawOnError(n,a,e)}}},e.prototype.onTransportChunk=function(e){var t=this;if(this.closed)this.props.debug&&s.debug("grpc.onChunk received after request was closed - ignoring");else{var r=[];try{r=this.parser.parse(e)}catch(e){return this.props.debug&&s.debug("onChunk.parsing error",e,e.message),void this.rawOnError(i.Code.Internal,"parsing error: "+e.message)}r.forEach((function(e){if(e.chunkType===o.ChunkType.MESSAGE){var r=t.methodDefinition.responseType.deserializeBinary(e.data);t.rawOnMessage(r)}else e.chunkType===o.ChunkType.TRAILERS&&(t.responseHeaders?(t.responseTrailers=new n.Metadata(e.trailers),t.props.debug&&s.debug("onChunk.trailers",t.responseTrailers)):(t.responseHeaders=new n.Metadata(e.trailers),t.rawOnHeaders(t.responseHeaders)))}))}},e.prototype.onTransportEnd=function(){if(this.props.debug&&s.debug("grpc.onEnd"),this.closed)this.props.debug&&s.debug("grpc.onEnd received after request was closed - ignoring");else if(void 0!==this.responseTrailers){var e=l(this.responseTrailers);if(null!==e){var t=this.responseTrailers.get("grpc-message"),r=this.decodeGRPCStatus(t[0]);this.rawOnEnd(e,r,this.responseTrailers)}else this.rawOnError(i.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(void 0===this.responseHeaders)return void this.rawOnError(i.Code.Unknown,"Response closed without headers");var n=l(this.responseHeaders),o=this.responseHeaders.get("grpc-message");if(this.props.debug&&s.debug("grpc.headers only response ",n,o),null===n)return void this.rawOnEnd(i.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var a=this.decodeGRPCStatus(o[0]);this.rawOnEnd(n,a,this.responseHeaders)}},e.prototype.decodeGRPCStatus=function(e){if(!e)return"";try{return decodeURIComponent(e)}catch(t){return e}},e.prototype.rawOnEnd=function(e,t,r){var n=this;this.props.debug&&s.debug("rawOnEnd",e,t,r),this.completed||(this.completed=!0,this.onEndCallbacks.forEach((function(o){if(!n.closed)try{o(e,t,r)}catch(e){setTimeout((function(){throw e}),0)}})))},e.prototype.rawOnHeaders=function(e){this.props.debug&&s.debug("rawOnHeaders",e),this.completed||this.onHeadersCallbacks.forEach((function(t){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))},e.prototype.rawOnError=function(e,t,r){var o=this;void 0===r&&(r=new n.Metadata),this.props.debug&&s.debug("rawOnError",e,t),this.completed||(this.completed=!0,this.onEndCallbacks.forEach((function(n){if(!o.closed)try{n(e,t,r)}catch(e){setTimeout((function(){throw e}),0)}})))},e.prototype.rawOnMessage=function(e){var t=this;this.props.debug&&s.debug("rawOnMessage",e.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach((function(r){if(!t.closed)try{r(e)}catch(e){setTimeout((function(){throw e}),0)}}))},e.prototype.onHeaders=function(e){this.onHeadersCallbacks.push(e)},e.prototype.onMessage=function(e){this.onMessageCallbacks.push(e)},e.prototype.onEnd=function(e){this.onEndCallbacks.push(e)},e.prototype.start=function(e){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var t=new n.Metadata(e||{});t.set("content-type","application/grpc-web+proto"),t.set("x-grpc-web","1"),this.transport.start(t)},e.prototype.send=function(e){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var t=c.frameRequest(e);this.transport.sendMessage(t)},e.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},e.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&s.debug("request.abort aborting request"),this.transport.cancel()},e}();function l(e){var t=e.get("grpc-status")||[];if(t.length>0)try{var r=t[0];return parseInt(r,10)}catch(e){return null}return null}},346:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0,t.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug?console.debug.apply(null,e):console.log.apply(null,e)}},607:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grpc=void 0;var n,o=r(418),i=r(57),s=r(229),a=r(540),c=r(210),u=r(859),l=r(8),p=r(938),d=r(35),g=r(934);(n=t.grpc||(t.grpc={})).setDefaultTransport=i.setDefaultTransportFactory,n.CrossBrowserHttpTransport=u.CrossBrowserHttpTransport,n.FetchReadableStreamTransport=s.FetchReadableStreamTransport,n.XhrTransport=c.XhrTransport,n.WebsocketTransport=a.WebsocketTransport,n.Code=l.Code,n.Metadata=o.BrowserHeaders,n.client=function(e,t){return g.client(e,t)},n.invoke=p.invoke,n.unary=d.unary},938:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invoke=void 0;var n=r(934);t.invoke=function(e,t){if(e.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var r=n.client(e,{host:t.host,transport:t.transport,debug:t.debug});return t.onHeaders&&r.onHeaders(t.onHeaders),t.onMessage&&r.onMessage(t.onMessage),t.onEnd&&r.onEnd(t.onEnd),r.start(t.metadata),r.send(t.request),r.finishSend(),{close:function(){r.close()}}}},65:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var n=r(418);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return n.BrowserHeaders}})},57:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeDefaultTransport=t.setDefaultTransportFactory=void 0;var n=r(859),o=function(e){return n.CrossBrowserHttpTransport({withCredentials:!1})(e)};t.setDefaultTransportFactory=function(e){o=e},t.makeDefaultTransport=function(e){return o(e)}},229:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.detectFetchSupport=t.FetchReadableStreamTransport=void 0;var o=r(65),i=r(346);t.FetchReadableStreamTransport=function(e){return function(t){return function(e,t){return e.debug&&i.debug("fetchRequest",e),new s(e,t)}(t,e)}};var s=function(){function e(e,t){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=e,this.init=t}return e.prototype.pump=function(e,t){var r=this;if(this.reader=e,this.cancelled)return this.options.debug&&i.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch((function(e){r.options.debug&&i.debug("Fetch.pump.reader.cancel exception",e)}));this.reader.read().then((function(e){if(e.done)return r.options.onEnd(),t;r.options.onChunk(e.value),r.pump(r.reader,t)})).catch((function(e){r.cancelled?r.options.debug&&i.debug("Fetch.catch - request cancelled"):(r.cancelled=!0,r.options.debug&&i.debug("Fetch.catch",e.message),r.options.onEnd(e))}))},e.prototype.send=function(e){var t=this;fetch(this.options.url,n(n({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:e,signal:this.controller&&this.controller.signal})).then((function(e){if(t.options.debug&&i.debug("Fetch.response",e),t.options.onHeaders(new o.Metadata(e.headers),e.status),!e.body)return e;t.pump(e.body.getReader(),e)})).catch((function(e){t.cancelled?t.options.debug&&i.debug("Fetch.catch - request cancelled"):(t.cancelled=!0,t.options.debug&&i.debug("Fetch.catch",e.message),t.options.onEnd(e))}))},e.prototype.sendMessage=function(e){this.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){this.metadata=e},e.prototype.cancel=function(){var e=this;this.cancelled?this.options.debug&&i.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&i.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&i.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&i.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch((function(t){e.options.debug&&i.debug("Fetch.cancel.reader.cancel exception",t)}))):this.options.debug&&i.debug("Fetch.cancel before reader"))},e}();t.detectFetchSupport=function(){return"undefined"!=typeof Response&&Response.prototype.hasOwnProperty("body")&&"function"==typeof Headers}},859:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrossBrowserHttpTransport=void 0;var n=r(229),o=r(210);t.CrossBrowserHttpTransport=function(e){if(n.detectFetchSupport()){var t={credentials:e.withCredentials?"include":"same-origin"};return n.FetchReadableStreamTransport(t)}return o.XhrTransport({withCredentials:e.withCredentials})}},210:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.stringToArrayBuffer=t.MozChunkedArrayBufferXHR=t.XHR=t.XhrTransport=void 0;var i=r(65),s=r(346),a=r(849);t.XhrTransport=function(e){return function(t){if(a.detectMozXHRSupport())return new u(t,e);if(a.detectXHROverrideMimeTypeSupport())return new c(t,e);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var c=function(){function e(e,t){this.options=e,this.init=t}return e.prototype.onProgressEvent=function(){this.options.debug&&s.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var e=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var t=p(e);this.options.onChunk(t)},e.prototype.onLoadEvent=function(){this.options.debug&&s.debug("XHR.onLoadEvent"),this.options.onEnd()},e.prototype.onStateChange=function(){this.options.debug&&s.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new i.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},e.prototype.sendMessage=function(e){this.xhr.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){var t=this;this.metadata=e;var r=new XMLHttpRequest;this.xhr=r,r.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach((function(e,t){r.setRequestHeader(e,t.join(", "))})),r.withCredentials=Boolean(this.init.withCredentials),r.addEventListener("readystatechange",this.onStateChange.bind(this)),r.addEventListener("progress",this.onProgressEvent.bind(this)),r.addEventListener("loadend",this.onLoadEvent.bind(this)),r.addEventListener("error",(function(e){t.options.debug&&s.debug("XHR.error",e),t.options.onEnd(e.error)}))},e.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},e.prototype.cancel=function(){this.options.debug&&s.debug("XHR.abort"),this.xhr.abort()},e}();t.XHR=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.configureXhr=function(){this.options.debug&&s.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},t.prototype.onProgressEvent=function(){var e=this.xhr.response;this.options.debug&&s.debug("MozXHR.onProgressEvent: ",new Uint8Array(e)),this.options.onChunk(new Uint8Array(e))},t}(c);function l(e,t){var r=e.charCodeAt(t);if(r>=55296&&r<=56319){var n=e.charCodeAt(t+1);n>=56320&&n<=57343&&(r=65536+(r-55296<<10)+(n-56320))}return r}function p(e){for(var t=new Uint8Array(e.length),r=0,n=0;n<e.length;n++){var o=String.prototype.codePointAt?e.codePointAt(n):l(e,n);t[r++]=255&o}return t}t.MozChunkedArrayBufferXHR=u,t.stringToArrayBuffer=p},849:function(e,t){"use strict";var r;function n(e){var t=function(){if(void 0!==r)return r;if(XMLHttpRequest){r=new XMLHttpRequest;try{r.open("GET","https://localhost")}catch(e){}}return r}();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.detectXHROverrideMimeTypeSupport=t.detectMozXHRSupport=t.xhrSupportsResponseType=void 0,t.xhrSupportsResponseType=n,t.detectMozXHRSupport=function(){return"undefined"!=typeof XMLHttpRequest&&n("moz-chunked-arraybuffer")},t.detectXHROverrideMimeTypeSupport=function(){return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketTransport=void 0;var n,o=r(346),i=r(617);!function(e){e[e.FINISH_SEND=1]="FINISH_SEND"}(n||(n={}));var s=new Uint8Array([1]);t.WebsocketTransport=function(){return function(e){return function(e){e.debug&&o.debug("websocketRequest",e);var t,r=function(e){if("https://"===e.substr(0,8))return"wss://"+e.substr(8);if("http://"===e.substr(0,7))return"ws://"+e.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(e.url),a=[];function c(e){if(e===n.FINISH_SEND)t.send(s);else{var r=e,o=new Int8Array(r.byteLength+1);o.set(new Uint8Array([0])),o.set(r,1),t.send(o)}}return{sendMessage:function(e){t&&t.readyState!==t.CONNECTING?c(e):a.push(e)},finishSend:function(){t&&t.readyState!==t.CONNECTING?c(n.FINISH_SEND):a.push(n.FINISH_SEND)},start:function(n){(t=new WebSocket(r,["grpc-websockets"])).binaryType="arraybuffer",t.onopen=function(){var r;e.debug&&o.debug("websocketRequest.onopen"),t.send((r="",n.forEach((function(e,t){r+=e+": "+t.join(", ")+"\r\n"})),i.encodeASCII(r))),a.forEach((function(e){c(e)}))},t.onclose=function(t){e.debug&&o.debug("websocketRequest.onclose",t),e.onEnd()},t.onerror=function(t){e.debug&&o.debug("websocketRequest.onerror",t)},t.onmessage=function(t){e.onChunk(new Uint8Array(t.data))}},cancel:function(){e.debug&&o.debug("websocket.abort"),t.close()}}}(e)}}},35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unary=void 0;var n=r(65),o=r(934);t.unary=function(e,t){if(e.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(e.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var r=null,i=null,s=o.client(e,{host:t.host,transport:t.transport,debug:t.debug});return s.onHeaders((function(e){r=e})),s.onMessage((function(e){i=e})),s.onEnd((function(e,o,s){t.onEnd({status:e,statusMessage:o,headers:r||new n.Metadata,message:i,trailers:s})})),s.start(t.metadata),s.send(t.request),s.finishSend(),{close:function(){s.close()}}}},882:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.frameRequest=void 0,t.frameRequest=function(e){var t=e.serializeBinary(),r=new ArrayBuffer(t.byteLength+5);return new DataView(r,1,4).setUint32(0,t.length,!1),new Uint8Array(r,5).set(t),new Uint8Array(r)}}},r={},function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports}(607))},2896:(e,t,r)=>{"use strict";r.d(t,{G:()=>o,P:()=>n});var n=function(){function e(){}return e.prototype.emit=function(e){},e}(),o=new n},4822:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{NOOP_LOGGER:()=>o.G,NOOP_LOGGER_PROVIDER:()=>s,NoopLogger:()=>o.P,NoopLoggerProvider:()=>i,SeverityNumber:()=>n,logs:()=>l}),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRACE=1]="TRACE",e[e.TRACE2=2]="TRACE2",e[e.TRACE3=3]="TRACE3",e[e.TRACE4=4]="TRACE4",e[e.DEBUG=5]="DEBUG",e[e.DEBUG2=6]="DEBUG2",e[e.DEBUG3=7]="DEBUG3",e[e.DEBUG4=8]="DEBUG4",e[e.INFO=9]="INFO",e[e.INFO2=10]="INFO2",e[e.INFO3=11]="INFO3",e[e.INFO4=12]="INFO4",e[e.WARN=13]="WARN",e[e.WARN2=14]="WARN2",e[e.WARN3=15]="WARN3",e[e.WARN4=16]="WARN4",e[e.ERROR=17]="ERROR",e[e.ERROR2=18]="ERROR2",e[e.ERROR3=19]="ERROR3",e[e.ERROR4=20]="ERROR4",e[e.FATAL=21]="FATAL",e[e.FATAL2=22]="FATAL2",e[e.FATAL3=23]="FATAL3",e[e.FATAL4=24]="FATAL4"}(n||(n={}));var o=r(2896),i=function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new o.P},e}(),s=new i,a="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{},c=Symbol.for("io.opentelemetry.js.api.logs"),u=a,l=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return u[c]?this.getLoggerProvider():(u[c]=(1,t=e,r=s,function(e){return 1===e?t:r}),e);var t,r},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=u[c])||void 0===e?void 0:e.call(u,1))&&void 0!==t?t:s},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete u[c]},e}().getInstance()},7753:(e,t,r)=>{"use strict";r.d(t,{_:()=>u});var n=r(5499),o=function(){function e(){}return e.prototype.active=function(){return n.l},e.prototype.with=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return t.call.apply(t,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([r],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),i=r(9120),s=r(6392),a="context",c=new o,u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,i.$G)(a,e,s.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([e,t,r],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,i.mS)(a)||c},e.prototype.disable=function(){this._getContextManager().disable(),(0,i.kv)(a,s.K.instance())},e}()},6392:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var n=r(9120),o=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i("verbose",this._namespace,e)},e}();function i(e,t,r){var o=(0,n.mS)("diag");if(o)return r.unshift(t),o[e].apply(o,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(r),!1))}var s=r(7907),a=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=(0,n.mS)("diag");if(o)return o[e].apply(o,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(t),!1))}}var t=this;t.setLogger=function(e,r){var o,i,a;if(void 0===r&&(r={logLevel:s.u.INFO}),e===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(o=c.stack)&&void 0!==o?o:c.message),!1}"number"==typeof r&&(r={logLevel:r});var u=(0,n.mS)("diag"),l=function(e,t){function r(r,n){var o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<s.u.NONE?e=s.u.NONE:e>s.u.ALL&&(e=s.u.ALL),t=t||{},{error:r("error",s.u.ERROR),warn:r("warn",s.u.WARN),info:r("info",s.u.INFO),debug:r("debug",s.u.DEBUG),verbose:r("verbose",s.u.VERBOSE)}}(null!==(i=r.logLevel)&&void 0!==i?i:s.u.INFO,e);if(u&&!r.suppressOverrideMessage){var p=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+p),l.warn("Current logger will overwrite one already registered from "+p)}return(0,n.$G)("diag",l,t,!0)},t.disable=function(){(0,n.kv)("diag",t)},t.createComponentLogger=function(e){return new o(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},2400:(e,t,r)=>{"use strict";r.d(t,{B:()=>c,L:()=>a});var n=r(6392),o=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=new e(this._entries);try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),a=s.next();!a.done;a=s.next()){var c=a.value;i._entries.delete(c)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),i=Symbol("BaggageEntryMetadata"),s=n.K.instance();function a(e){return void 0===e&&(e={}),new o(new Map(Object.entries(e)))}function c(e){return"string"!=typeof e&&(s.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:i,toString:function(){return e}}}},6982:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n=r(7753)._.getInstance()},5499:(e,t,r)=>{"use strict";function n(e){return Symbol.for(e)}r.d(t,{l:()=>o,n:()=>n});var o=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},5988:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var n=r(6392).K.instance()},7907:(e,t,r)=>{"use strict";var n;r.d(t,{u:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},5360:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>c,DiagLogLevel:()=>u.u,INVALID_SPANID:()=>H.w9,INVALID_SPAN_CONTEXT:()=>H.dM,INVALID_TRACEID:()=>H.RH,ProxyTracer:()=>M.y,ProxyTracerProvider:()=>I.n,ROOT_CONTEXT:()=>s.l,SamplingDecision:()=>P.i,SpanKind:()=>D.v,SpanStatusCode:()=>L.s,TraceFlags:()=>N.X,ValueType:()=>o,baggageEntryMetadataFromString:()=>i.B,context:()=>V._,createContextKey:()=>s.n,createNoopMeter:()=>O,createTraceState:()=>F,default:()=>J,defaultTextMapGetter:()=>C.q,defaultTextMapSetter:()=>C.U,diag:()=>G.s,isSpanContextValid:()=>W.YA,isValidSpanId:()=>W.wN,isValidTraceId:()=>W.hX,metrics:()=>Z,propagation:()=>$.$,trace:()=>X.u});var n,o,i=r(2400),s=r(5499),a=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],c=function(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var t=0;t<a.length;t++)this[a[t].n]=e(a[t].c)},u=r(7907),l=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(){function e(){}return e.prototype.createHistogram=function(e,t){return b},e.prototype.createCounter=function(e,t){return E},e.prototype.createUpDownCounter=function(e,t){return T},e.prototype.createObservableGauge=function(e,t){return R},e.prototype.createObservableCounter=function(e,t){return A},e.prototype.createObservableUpDownCounter=function(e,t){return w},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),d=function(){},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.add=function(e,t){},t}(d),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.add=function(e,t){},t}(d),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.record=function(e,t){},t}(d),m=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t}(m),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t}(m),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t}(m),S=new p,E=new g,b=new h,T=new f,A=new y,R=new _,w=new v;function O(){return S}!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(o||(o={}));var C=r(6043),M=r(2735),I=r(7357),P=r(9364),D=r(4569),L=r(2626),N=r(1199),j="[_0-9a-z-*/]",k=new RegExp("^(?:[a-z]"+j+"{0,255}|[a-z0-9]"+j+"{0,240}@[a-z]"+j+"{0,13})$"),U=/^[ -~]{0,255}[!-~]$/,x=/,|=/,B=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var o=r.slice(0,n),i=r.slice(n+1,t.length);(function(e){return k.test(e)})(o)&&function(e){return U.test(e)&&!x.test(e)}(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function F(e){return new B(e)}var W=r(9905),H=r(2102),V=r(6982),G=r(5988),z=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return S},e}()),q=r(9120),Y=r(6392),K="metrics",Z=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,q.$G)(K,e,Y.K.instance())},e.prototype.getMeterProvider=function(){return(0,q.mS)(K)||z},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){(0,q.kv)(K,Y.K.instance())},e}().getInstance(),$=r(9039),X=r(8442);const J={context:V._,diag:G.s,metrics:Z,propagation:$.$,trace:X.u}},9120:(e,t,r)=>{"use strict";r.d(t,{mS:()=>p,$G:()=>l,kv:()=>d});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{},o="1.8.0",i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,s=function(e){var t=new Set([e]),r=new Set,n=e.match(i);if(!n)return function(){return!1};var o=+n[1],s=+n[2],a=+n[3];if(null!=n[4])return function(t){return t===e};function c(e){return r.add(e),!1}function u(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(i);if(!n)return c(e);var l=+n[1],p=+n[2],d=+n[3];return null!=n[4]||o!==l?c(e):0===o?s===p&&a<=d?u(e):c(e):s<=p?u(e):c(e)}}(o),a=o.split(".")[0],c=Symbol.for("opentelemetry.js.api."+a),u=n;function l(e,t,r,n){var i;void 0===n&&(n=!1);var s=u[c]=null!==(i=u[c])&&void 0!==i?i:{version:o};if(!n&&s[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(a.stack||a.message),!1}return s.version!==o?(a=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+o),r.error(a.stack||a.message),!1):(s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+o+"."),!0)}function p(e){var t,r,n=null===(t=u[c])||void 0===t?void 0:t.version;if(n&&s(n))return null===(r=u[c])||void 0===r?void 0:r[e]}function d(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+o+".");var r=u[c];r&&delete r[e]}},9039:(e,t,r)=>{"use strict";r.d(t,{$:()=>y});var n=r(9120),o=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),i=r(6043),s=r(7753),a=(0,r(5499).n)("OpenTelemetry Baggage Key");function c(e){return e.getValue(a)||void 0}function u(){return c(s._.getInstance().active())}function l(e,t){return e.setValue(a,t)}function p(e){return e.deleteValue(a)}var d=r(2400),g=r(6392),f="propagation",h=new o,m=function(){function e(){this.createBaggage=d.L,this.getBaggage=c,this.getActiveBaggage=u,this.setBaggage=l,this.deleteBaggage=p}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,n.$G)(f,e,g.K.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=i.U),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=i.q),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,n.kv)(f,g.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,n.mS)(f)||h},e}(),y=m.getInstance()},6043:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,q:()=>n});var n={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},o={set:function(e,t,r){null!=e&&(e[t]=r)}}},8442:(e,t,r)=>{"use strict";r.d(t,{u:()=>u});var n=r(9120),o=r(7357),i=r(9905),s=r(9781),a=r(6392),c="trace",u=function(){function e(){this._proxyTracerProvider=new o.n,this.wrapSpanContext=i.IP,this.isSpanContextValid=i.YA,this.deleteSpan=s.EW,this.getSpan=s.fU,this.getActiveSpan=s.Bk,this.getSpanContext=s.w8,this.setSpan=s.Bx,this.setSpanContext=s.g_}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.$G)(c,this._proxyTracerProvider,a.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.mS)(c)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.kv)(c,a.K.instance()),this._proxyTracerProvider=new o.n},e}().getInstance()},338:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var n=r(2102),o=function(){function e(e){void 0===e&&(e=n.dM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},7369:(e,t,r)=>{"use strict";r.d(t,{o:()=>c});var n=r(7753),o=r(9781),i=r(338),s=r(9905),a=n._.getInstance(),c=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=a.active()),Boolean(null==t?void 0:t.root))return new i.d;var n,c=r&&(0,o.w8)(r);return"object"==typeof(n=c)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,s.YA)(c)?new i.d(c):new i.d},e.prototype.startActiveSpan=function(e,t,r,n){var i,s,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(i=t,c=r):(i=t,s=r,c=n);var u=null!=s?s:a.active(),l=this.startSpan(e,i,u),p=(0,o.Bx)(u,l);return a.with(p,c,void 0,l)}},e}()},2735:(e,t,r)=>{"use strict";r.d(t,{y:()=>o});var n=new(r(7369).o),o=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n},e}()},7357:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(2735),o=r(7369),i=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new o.o},e}()),s=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var o;return null!==(o=this.getDelegateTracer(e,t,r))&&void 0!==o?o:new n.y(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}()},9364:(e,t,r)=>{"use strict";var n;r.d(t,{i:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},9781:(e,t,r)=>{"use strict";r.d(t,{Bk:()=>c,Bx:()=>u,EW:()=>l,fU:()=>a,g_:()=>p,w8:()=>d});var n=r(5499),o=r(338),i=r(7753),s=(0,n.n)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(s)||void 0}function c(){return a(i._.getInstance().active())}function u(e,t){return e.setValue(s,t)}function l(e){return e.deleteValue(s)}function p(e,t){return u(e,new o.d(t))}function d(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}},2102:(e,t,r)=>{"use strict";r.d(t,{RH:()=>i,dM:()=>s,w9:()=>o});var n=r(1199),o="0000000000000000",i="00000000000000000000000000000000",s={traceId:i,spanId:o,traceFlags:n.X.NONE}},4569:(e,t,r)=>{"use strict";var n;r.d(t,{v:()=>n}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(n||(n={}))},9905:(e,t,r)=>{"use strict";r.d(t,{IP:()=>l,YA:()=>u,hX:()=>a,wN:()=>c});var n=r(2102),o=r(338),i=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(e){return i.test(e)&&e!==n.RH}function c(e){return s.test(e)&&e!==n.w9}function u(e){return a(e.traceId)&&c(e.spanId)}function l(e){return new o.d(e)}},2626:(e,t,r)=>{"use strict";var n;r.d(t,{s:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},1199:(e,t,r)=>{"use strict";var n;r.d(t,{X:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},4089:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ZoneContextManager:()=>i});var n=r(5499),o="OT_ZONE_CONTEXT",i=function(){function e(){this._enabled=!1,this._zoneCounter=0}return e.prototype._activeContextFromZone=function(e){return e&&e.get(o)||n.l},e.prototype._bindFunction=function(e,t){var r=this,n=function(){for(var n=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r.with(e,(function(){return t.apply(n,o)}))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),n},e.prototype._bindListener=function(e,t){var r=t;return void 0!==r.__ot_listeners||(r.__ot_listeners={},"function"==typeof r.addEventListener&&(r.addEventListener=this._patchAddEventListener(r,r.addEventListener,e)),"function"==typeof r.removeEventListener&&(r.removeEventListener=this._patchRemoveEventListener(r,r.removeEventListener))),t},e.prototype._createZoneName=function(){this._zoneCounter++;var e=Math.random();return this._zoneCounter+"-"+e},e.prototype._createZone=function(e,t){var r;return Zone.current.fork({name:e,properties:(r={},r[o]=t,r)})},e.prototype._getActiveZone=function(){return Zone.current},e.prototype._patchAddEventListener=function(e,t,r){var n=this;return function(o,i,s){void 0===e.__ot_listeners&&(e.__ot_listeners={});var a=e.__ot_listeners[o];void 0===a&&(a=new WeakMap,e.__ot_listeners[o]=a);var c=n.bind(r,i);return a.set(i,c),t.call(this,o,c,s)}},e.prototype._patchRemoveEventListener=function(e,t){return function(r,n){if(void 0===e.__ot_listeners||void 0===e.__ot_listeners[r])return t.call(this,r,n);var o=e.__ot_listeners[r],i=o.get(n);return o.delete(n),t.call(this,r,i||n)}},e.prototype.active=function(){if(!this._enabled)return n.l;var e=this._getActiveZone();return this._activeContextFromZone(e)||n.l},e.prototype.bind=function(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):(void 0===(r=t)&&(r={}),"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener&&this._bindListener(e,t),t);var r},e.prototype.disable=function(){return this._enabled=!1,this},e.prototype.enable=function(){return this._enabled=!0,this},e.prototype.with=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var i=this._createZoneName();return this._createZone(i,e).run(t,r,n)},e}();r(3950)},9094:(e,t,r)=>{"use strict";var n;r.d(t,{V:()=>n}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(n||(n={}))},9601:(e,t,r)=>{"use strict";r.d(t,{EC:()=>i,KV:()=>c,QC:()=>a,hN:()=>o,kI:()=>u,r_:()=>s,un:()=>n});var n="=",o=";",i=",",s="baggage",a=180,c=4096,u=8192},9893:(e,t,r)=>{"use strict";r.d(t,{L7:()=>s,Qd:()=>c,hD:()=>u,pX:()=>a});var n=r(2400),o=r(9601),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function s(e){return e.reduce((function(e,t){var r=""+e+(""!==e?o.EC:"")+t;return r.length>o.kI?e:r}),"")}function a(e){return e.getAllEntries().map((function(e){var t=i(e,2),r=t[0],n=t[1],s=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(s+=o.hN+n.metadata.toString()),s}))}function c(e){var t=e.split(o.hN);if(!(t.length<=0)){var r=t.shift();if(r){var i=r.indexOf(o.un);if(!(i<=0)){var s,a=decodeURIComponent(r.substring(0,i).trim()),c=decodeURIComponent(r.substring(i+1).trim());return t.length>0&&(s=(0,n.B)(t.join(o.hN))),{key:a,value:c,metadata:s}}}}}function u(e){return"string"!=typeof e||0===e.length?{}:e.split(o.EC).map((function(e){return c(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}},3698:(e,t,r)=>{"use strict";r.d(t,{L:()=>s,m:()=>c});var n=r(5988),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function s(e){var t,r,s={};if("object"!=typeof e||null==e)return s;try{for(var u=o(Object.entries(e)),l=u.next();!l.done;l=u.next()){var p=i(l.value,2),d=p[0],g=p[1];a(d)?c(g)?Array.isArray(g)?s[d]=g.slice():s[d]=g:n.s.warn("Invalid attribute value set for key: "+d):n.s.warn("Invalid attribute key: "+d)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s}function a(e){return"string"==typeof e&&e.length>0}function c(e){return null==e||(Array.isArray(e)?function(e){var t,r,n;try{for(var i=o(e),s=i.next();!s.done;s=i.next()){var a=s.value;if(null!=a){if(!n){if(u(a)){n=typeof a;continue}return!1}if(typeof a!==n)return!1}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!0}(e):u(e))}function u(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},7292:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});var n=r(5988),o=function(e){n.s.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){for(var t={},r=e;null!==r;)Object.getOwnPropertyNames(r).forEach((function(e){if(!t[e]){var n=r[e];n&&(t[e]=String(n))}})),r=Object.getPrototypeOf(r);return t}(e))}(e))};function i(e){try{o(e)}catch(e){}}},4530:(e,t,r)=>{"use strict";r.d(t,{Ir:()=>f,KJ:()=>u,VL:()=>g,W5:()=>l,_5:()=>c,lg:()=>s,mw:()=>h,u5:()=>p,uc:()=>a,w_:()=>d});var n=r(2648),o=Math.pow(10,6),i=Math.pow(10,9);function s(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*o)]}function a(){var e=n.u.timeOrigin;if("number"!=typeof e){var t=n.u;e=t.timing&&t.timing.fetchStart}return e}function c(e){return h(s(a()),s("number"==typeof e?e:n.u.now()))}function u(e){if(g(e))return e;if("number"==typeof e)return e<a()?c(e):s(e);if(e instanceof Date)return s(e.getTime());throw TypeError("Invalid input type")}function l(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=i),[r,n]}function p(e){return e[0]*i+e[1]}function d(e){return 1e6*e[0]+e[1]/1e3}function g(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function f(e){return g(e)||"number"==typeof e||e instanceof Date}function h(e,t){var r=[e[0]+t[0],e[1]+t[1]];return r[1]>=i&&(r[1]-=i,r[0]+=1),r}},7037:(e,t,r)=>{"use strict";r.d(t,{mM:()=>i});var n=r(6982),o=r(3331),i={_export:function(e,t){return new Promise((function(r){n._.with((0,o.M1)(n._.active()),(function(){e.export(t,(function(e){r(e)}))}))}))}}},5999:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(30),o=r(6975);function i(){var e=(0,n.Nq)(o.X);return Object.assign({},n.Uz,e)}},6975:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{}},2648:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var n=performance},2604:(e,t,r)=>{"use strict";function n(e){}r.d(t,{K:()=>n})},3331:(e,t,r)=>{"use strict";r.d(t,{M1:()=>o,Zf:()=>i});var n=(0,r(5499).n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function o(e){return e.setValue(n,!0)}function i(e){return!0===e.getValue(n)}},9464:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var n=function(){function e(){var e=this;this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),o=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new n}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([this._that],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(r),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}()},30:(e,t,r)=>{"use strict";r.d(t,{Nq:()=>E,Uz:()=>h,aE:()=>g,fv:()=>f,wn:()=>b});var n=r(7907),o=r(458),i=r(6975),s=",",a=["OTEL_SDK_DISABLED"];function c(e){return a.indexOf(e)>-1}var u=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function l(e){return u.indexOf(e)>-1}var p=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return p.indexOf(e)>-1}var g=1/0,f=128,h={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:g,OTEL_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:g,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:f,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:g,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.R.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function m(e,t,r){if(void 0!==r[e]){var n=String(r[e]);t[e]="true"===n.toLowerCase()}}function y(e,t,r,n,o){if(void 0===n&&(n=-1/0),void 0===o&&(o=1/0),void 0!==r[e]){var i=Number(r[e]);isNaN(i)||(t[e]=i<n?n:i>o?o:i)}}function _(e,t,r,n){void 0===n&&(n=s);var o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((function(e){return e.trim()})))}var v={ALL:n.u.ALL,VERBOSE:n.u.VERBOSE,DEBUG:n.u.DEBUG,INFO:n.u.INFO,WARN:n.u.WARN,ERROR:n.u.ERROR,NONE:n.u.NONE};function S(e,t,r){var n=r[e];if("string"==typeof n){var o=v[n.toUpperCase()];null!=o&&(t[e]=o)}}function E(e){var t={};for(var r in h){var n=r;if("OTEL_LOG_LEVEL"===n)S(n,t,e);else if(c(n))m(n,t,e);else if(l(n))y(n,t,e);else if(d(n))_(n,t,e);else{var o=e[n];null!=o&&(t[n]=String(o))}}return t}function b(){return"undefined"!=typeof process&&process&&process.env?E(process.env):E(i.X)}},6387:(e,t,r)=>{"use strict";r.d(t,{h:()=>y});var n,o,i="[object Object]",s="[object Null]",a="[object Undefined]",c=Function.prototype.toString,u=c.call(Object),l=(n=Object.getPrototypeOf,o=Object,function(e){return n(o(e))}),p=Object.prototype,d=p.hasOwnProperty,g=Symbol?Symbol.toStringTag:void 0,f=p.toString;function h(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||function(e){return null==e?void 0===e?a:s:g&&g in Object(e)?function(e){var t=d.call(e,g),r=e[g],n=!1;try{e[g]=void 0,n=!0}catch(e){}var o=f.call(e);return n&&(t?e[g]=r:delete e[g]),o}(e):function(e){return f.call(e)}(e)}(e)!==i)return!1;var t=l(e);if(null===t)return!0;var r=d.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)===u}var m=20;function y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=v(r,e.shift(),0,n);return r}function _(e){return E(e)?e.slice():e}function v(e,t,r,n){var o;if(void 0===r&&(r=0),!(r>m)){if(r++,A(e)||A(t)||b(t))o=_(t);else if(E(e)){if(o=e.slice(),E(t))for(var i=0,s=t.length;i<s;i++)o.push(_(t[i]));else if(T(t))for(i=0,s=(a=Object.keys(t)).length;i<s;i++)o[c=a[i]]=_(t[c])}else if(T(e))if(T(t)){if(!function(e,t){return!(!h(e)||!h(t))}(e,t))return t;var a;for(o=Object.assign({},e),i=0,s=(a=Object.keys(t)).length;i<s;i++){var c,u=t[c=a[i]];if(A(u))void 0===u?delete o[c]:o[c]=u;else{var l=o[c],p=u;if(S(e,c,n)||S(t,c,n))delete o[c];else{if(T(l)&&T(p)){var d=n.get(l)||[],g=n.get(p)||[];d.push({obj:e,key:c}),g.push({obj:t,key:c}),n.set(l,d),n.set(p,g)}o[c]=v(o[c],u,r,n)}}}}else o=t;return o}}function S(e,t,r){for(var n=r.get(e[t])||[],o=0,i=n.length;o<i;o++){var s=n[o];if(s.key===t&&s.obj===e)return!0}return!1}function E(e){return Array.isArray(e)}function b(e){return"function"==typeof e}function T(e){return!A(e)&&!E(e)&&!b(e)&&"object"==typeof e}function A(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}},458:(e,t,r)=>{"use strict";var n;r.d(t,{R:()=>n}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(n||(n={}))},2445:(e,t,r)=>{"use strict";r.r(t),r.d(t,{OTLPLogExporter:()=>m});var n=r(4912),o=r(5999),i=r(9893),s=r(9356),a=r(6180),c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function u(e,t){var r=function(e){var t,r,n=new Map;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=o.next();!i.done;i=o.next()){var s=i.value,a=s.resource,c=s.instrumentationScope,u=c.name,l=c.version,p=void 0===l?"":l,d=c.schemaUrl,g=void 0===d?"":d,f=n.get(a);f||(f=new Map,n.set(a,f));var h=u+"@"+p+":"+g,m=f.get(h);m||(m=[],f.set(h,m)),m.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}(e);return Array.from(r,(function(e){var r=c(e,2),n=r[0],o=r[1];return{resource:{attributes:(0,a.Zs)(n.attributes),droppedAttributesCount:0},scopeLogs:Array.from(o,(function(e){var r=c(e,2)[1],n=r[0].instrumentationScope,o=n.name,i=n.version,s=n.schemaUrl;return{scope:{name:o,version:i},logRecords:r.map((function(e){return function(e,t){var r,n,o,i;return{timeUnixNano:t.encodeHrTime(e.hrTime),observedTimeUnixNano:t.encodeHrTime(e.hrTimeObserved),severityNumber:e.severityNumber,severityText:e.severityText,body:(0,a.Ff)(e.body),attributes:(i=e.attributes,Object.keys(i).map((function(e){return(0,a.EB)(e,i[e])}))),droppedAttributesCount:e.droppedAttributesCount,flags:null===(r=e.spanContext)||void 0===r?void 0:r.traceFlags,traceId:t.encodeOptionalSpanContext(null===(n=e.spanContext)||void 0===n?void 0:n.traceId),spanId:t.encodeOptionalSpanContext(null===(o=e.spanContext)||void 0===o?void 0:o.spanId)}}(e,t)})),schemaUrl:s}})),schemaUrl:void 0}}))}var l,p=r(369),d="v1/logs",g="http://localhost:4318/"+d,f=(l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},l(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(){return h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)},m=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,h({timeoutMillis:(0,o._)().OTEL_EXPORTER_OTLP_LOGS_TIMEOUT},t))||this;return r._headers=h(h({},r._headers),i.hD((0,o._)().OTEL_EXPORTER_OTLP_LOGS_HEADERS)),r}return f(t,e),t.prototype.convert=function(e){return function(e,t){return{resourceLogs:u(e,(0,s.Az)({useHex:!0,useLongBits:!1}))}}(e)},t.prototype.getDefaultUrl=function(e){return function(e){return"string"==typeof e.url?e.url:(0,o._)().OTEL_EXPORTER_OTLP_LOGS_ENDPOINT.length>0?(0,p.u3)((0,o._)().OTEL_EXPORTER_OTLP_LOGS_ENDPOINT):(0,o._)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,p.Ir)((0,o._)().OTEL_EXPORTER_OTLP_ENDPOINT,d):g}(e)},t}(n.A)},6683:(e,t,r)=>{"use strict";r.r(t),r.d(t,{OTLPTraceExporter:()=>m});var n=r(9893),o=r(5999),i=r(369),s=r(4912),a=r(6180);function c(e,t){var r,n=e.spanContext(),o=e.status;return{traceId:t.encodeSpanContext(n.traceId),spanId:t.encodeSpanContext(n.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:null===(r=n.traceState)||void 0===r?void 0:r.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:(0,a.Zs)(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map((function(e){return function(e,t){return{attributes:e.attributes?(0,a.Zs)(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}(e,t)})),droppedEventsCount:e.droppedEventsCount,status:{code:o.code,message:o.message},links:e.links.map((function(e){return function(e,t){var r;return{attributes:e.attributes?(0,a.Zs)(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:null===(r=e.context.traceState)||void 0===r?void 0:r.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}(e,t)})),droppedLinksCount:e.droppedLinksCount}}var u=r(9356),l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function p(e,t){for(var r=function(e){var t,r,n=new Map;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=o.next();!i.done;i=o.next()){var s=i.value,a=n.get(s.resource);a||(a=new Map,n.set(s.resource,a));var c=s.instrumentationLibrary.name+"@"+(s.instrumentationLibrary.version||"")+":"+(s.instrumentationLibrary.schemaUrl||""),u=a.get(c);u||(u=[],a.set(c,u)),u.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}(e),n=[],o=r.entries(),i=o.next();!i.done;){for(var s=l(i.value,2),u=s[0],p=[],d=s[1].values(),g=d.next();!g.done;){var f=g.value;if(f.length>0){var h=f[0].instrumentationLibrary,m=h.name,y=h.version,_=h.schemaUrl,v=f.map((function(e){return c(e,t)}));p.push({scope:{name:m,version:y},spans:v,schemaUrl:_})}g=d.next()}var S={resource:{attributes:(0,a.Zs)(u.attributes),droppedAttributesCount:0},scopeSpans:p,schemaUrl:void 0};n.push(S),i=o.next()}return n}var d,g=(d=function(e,t){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},d(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f="v1/traces",h="http://localhost:4318/"+f,m=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;return r._headers=Object.assign(r._headers,n.hD((0,o._)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),r}return g(t,e),t.prototype.convert=function(e){return function(e,t){return{resourceSpans:p(e,(0,u.Az)({useHex:!0,useLongBits:!1}))}}(e)},t.prototype.getDefaultUrl=function(e){return"string"==typeof e.url?e.url:(0,o._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,i.u3)((0,o._)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,o._)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,i.Ir)((0,o._)().OTEL_EXPORTER_OTLP_ENDPOINT,f):h},t}(s.A)},4912:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n,o=r(5988),i=r(9464),s=r(9094),a=r(369),c=function(){function e(e){void 0===e&&(e={}),this._sendingPromises=[],this.url=this.getDefaultUrl(e),"string"==typeof e.hostname&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new i.I(this._shutdown,this),this._concurrencyLimit="number"==typeof e.concurrencyLimit?e.concurrencyLimit:30,this.timeoutMillis=(0,a.rH)(e.timeoutMillis),this.onInit(e)}return e.prototype.export=function(e,t){this._shutdownOnce.isCalled?t({code:s.V.FAILED,error:new Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?t({code:s.V.FAILED,error:new Error("Concurrent export limit reached")}):this._export(e).then((function(){t({code:s.V.SUCCESS})})).catch((function(e){t({code:s.V.FAILED,error:e})}))},e.prototype._export=function(e){var t=this;return new Promise((function(r,n){try{o.s.debug("items to be sent",e),t.send(e,r,n)}catch(e){n(e)}}))},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then((function(){}))},e.prototype._shutdown=function(){return o.s.debug("shutdown started"),this.onShutdown(),this.forceFlush()},e}(),u=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.name="OTLPExporterError",o.data=n,o.code=r,o}return u(t,e),t}(Error),p=function(){return p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)},d=r(9893),g=r(5999),f=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;return r._useXHR=!1,r._useXHR=!!t.headers||"function"!=typeof navigator.sendBeacon,r._useXHR?r._headers=Object.assign({},(0,a.QG)(t.headers),d.hD((0,g._)().OTEL_EXPORTER_OTLP_HEADERS)):r._headers={},r}return f(t,e),t.prototype.onInit=function(){},t.prototype.onShutdown=function(){},t.prototype.send=function(e,t,r){var n=this;if(this._shutdownOnce.isCalled)o.s.debug("Shutdown already started. Cannot send objects");else{var i=this.convert(e),s=JSON.stringify(i),c=new Promise((function(e,t){n._useXHR?function(e,t,r,n,i,s){var c,u,d=!1,g=setTimeout((function(){if(clearTimeout(c),d=!0,u.readyState===XMLHttpRequest.DONE){var e=new l("Request Timeout");s(e)}else u.abort()}),n),f=function(n,h){void 0===n&&(n=a.J9),void 0===h&&(h=a.Tj),(u=new XMLHttpRequest).open("POST",t),Object.entries(p(p({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach((function(e){var t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(e,2),r=t[0],n=t[1];u.setRequestHeader(r,n)})),u.send(e),u.onreadystatechange=function(){if(u.readyState===XMLHttpRequest.DONE&&!1===d)if(u.status>=200&&u.status<=299)o.s.debug("xhr success",e),i(),clearTimeout(g),clearTimeout(c);else if(u.status&&(0,a.$q)(u.status)&&n>0){var t;h=a.Q5*h,t=u.getResponseHeader("Retry-After")?(0,a.u6)(u.getResponseHeader("Retry-After")):Math.round(Math.random()*(a.Rr-h)+h),c=setTimeout((function(){f(n-1,h)}),t)}else{var r=new l("Failed to export with XHR (status: "+u.status+")",u.status);s(r),clearTimeout(g),clearTimeout(c)}},u.onabort=function(){if(d){var e=new l("Request Timeout");s(e)}clearTimeout(g),clearTimeout(c)},u.onerror=function(){if(d){var e=new l("Request Timeout");s(e)}clearTimeout(g),clearTimeout(c)}};f()}(s,n.url,n._headers,n.timeoutMillis,e,t):function(e,t,r,n,i){navigator.sendBeacon(t,new Blob([e],{type:"application/json"}))?(o.s.debug("sendBeacon - can send",e),n()):i(new l("sendBeacon - cannot send "+e))}(s,n.url,0,e,t)})).then(t,r);this._sendingPromises.push(c);var u=function(){var e=n._sendingPromises.indexOf(c);n._sendingPromises.splice(e,1)};c.then(u,u)}},t}(c)},369:(e,t,r)=>{"use strict";r.d(t,{$q:()=>m,Ir:()=>d,J9:()=>a,Q5:()=>l,QG:()=>p,Rr:()=>u,Tj:()=>c,rH:()=>f,u3:()=>g,u6:()=>y});var n=r(5988),o=r(5999),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},s=1e4,a=5,c=1e3,u=5e3,l=1.5;function p(e){void 0===e&&(e={});var t={};return Object.entries(e).forEach((function(e){var r=i(e,2),o=r[0],s=r[1];void 0!==s?t[o]=String(s):n.s.warn('Header "'+o+'" has wrong value and will be ignored')})),t}function d(e,t){return e.endsWith("/")||(e+="/"),e+t}function g(e){try{var t=new URL(e);return""===t.pathname&&(t.pathname=t.pathname+"/"),t.toString()}catch(t){return n.s.warn("Could not parse export URL: '"+e+"'"),e}}function f(e){return"number"==typeof e?e<=0?h(e,s):e:(r=Number(null!==(t=(0,o._)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)&&void 0!==t?t:(0,o._)().OTEL_EXPORTER_OTLP_TIMEOUT))<=0?h(r,s):r;var t,r}function h(e,t){return n.s.warn("Timeout must be greater than 0",e),t}function m(e){return[429,502,503,504].includes(e)}function y(e){if(null==e)return-1;var t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?1e3*t:-1;var r=new Date(e).getTime()-Date.now();return r>=0?r:0}},9356:(e,t,r)=>{"use strict";r.d(t,{Az:()=>d});var n=r(4530);function o(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function i(e){for(var t=new Uint8Array(e.length/2),r=0,n=0;n<e.length;n+=2){var i=o(e.charCodeAt(n)),s=o(e.charCodeAt(n+1));t[r++]=i<<4|s}return t}function s(e){var t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function a(e){var t;return t=s(e),{low:Number(BigInt.asUintN(32,t)),high:Number(BigInt.asUintN(32,t>>BigInt(32)))}}var c="undefined"!=typeof BigInt?function(e){return s(e).toString()}:n.u5;function u(e){return e}function l(e){if(void 0!==e)return i(e)}var p={encodeHrTime:a,encodeSpanContext:i,encodeOptionalSpanContext:l};function d(e){var t,r;if(void 0===e)return p;var n=null===(t=e.useLongBits)||void 0===t||t,o=null!==(r=e.useHex)&&void 0!==r&&r;return{encodeHrTime:n?a:c,encodeSpanContext:o?u:i,encodeOptionalSpanContext:o?u:l}}},6180:(e,t,r)=>{"use strict";r.d(t,{EB:()=>i,Ff:()=>s,Zs:()=>o});var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function o(e){return Object.keys(e).map((function(t){return i(t,e[t])}))}function i(e,t){return{key:e,value:s(t)}}function s(e){var t=typeof e;return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(s)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map((function(e){var t=n(e,2);return i(t[0],t[1])}))}}:{}}},1922:(e,t,r)=>{"use strict";r.d(t,{F:()=>u});var n,o=r(5988),i=r(1347),s=((n={})[i._2.TELEMETRY_SDK_NAME]="opentelemetry",n[i._2.PROCESS_RUNTIME_NAME]="browser",n[i._2.TELEMETRY_SDK_LANGUAGE]=i.wP.WEBJS,n[i._2.TELEMETRY_SDK_VERSION]="1.22.0",n),a=r(549),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},u=function(){function e(e,t){var r,n=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(r=this._attributes)&&void 0!==r?r:{},this._asyncAttributesPromise=null==t?void 0:t.then((function(e){return n._attributes=Object.assign({},n._attributes,e),n.asyncAttributesPending=!1,e}),(function(e){return o.s.debug("a resource's async attributes promise rejected: %s",e),n.asyncAttributesPending=!1,{}}))}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[i._2.SERVICE_NAME]=(0,a.m)(),t[i._2.TELEMETRY_SDK_LANGUAGE]=s[i._2.TELEMETRY_SDK_LANGUAGE],t[i._2.TELEMETRY_SDK_NAME]=s[i._2.TELEMETRY_SDK_NAME],t[i._2.TELEMETRY_SDK_VERSION]=s[i._2.TELEMETRY_SDK_VERSION],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&o.s.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return e=this,t=void 0,n=function(){return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},new((r=void 0)||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n},e.prototype.merge=function(t){var r,n=this;if(!t)return this;var o=c(c({},this._syncAttributes),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then((function(e){var r,o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(e,2),i=o[0],s=o[1];return c(c(c(c({},n._syncAttributes),i),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes),s)}));return new e(o,i)},e.EMPTY=new e({}),e}()},8990:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Resource:()=>n.F,browserDetector:()=>y,browserDetectorSync:()=>m,defaultServiceName:()=>o.m,detectResources:()=>A,detectResourcesSync:()=>R,envDetector:()=>E,envDetectorSync:()=>S,hostDetector:()=>a,hostDetectorSync:()=>u,osDetector:()=>c,osDetectorSync:()=>l,processDetector:()=>p,processDetectorSync:()=>d});var n=r(1922),o=r(549),i=new(function(){function e(){}return e.prototype.detect=function(){return new n.F({})},e}()),s=new(function(){function e(){}return e.prototype.detect=function(){return Promise.resolve(i.detect())},e}()),a=s,c=s,u=i,l=i,p=s,d=s,g=r(1347),f=r(5988),h=function(){return h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)},m=new(function(){function e(){}return e.prototype.detect=function(e){var t;if("undefined"==typeof navigator)return n.F.empty();var r=((t={})[g._2.PROCESS_RUNTIME_NAME]="browser",t[g._2.PROCESS_RUNTIME_DESCRIPTION]="Web Browser",t[g._2.PROCESS_RUNTIME_VERSION]=navigator.userAgent,t);return this._getResourceAttributes(r,e)},e.prototype._getResourceAttributes=function(e,t){return""===e[g._2.PROCESS_RUNTIME_VERSION]?(f.s.debug("BrowserDetector failed: Unable to find required browser resources. "),n.F.empty()):new n.F(h({},e))},e}()),y=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(m.detect(e))},e}()),_=r(5999),v=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},S=new(function(){function e(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return e.prototype.detect=function(e){var t={},r=(0,_._)(),o=r.OTEL_RESOURCE_ATTRIBUTES,i=r.OTEL_SERVICE_NAME;if(o)try{var s=this._parseResourceAttributes(o);Object.assign(t,s)}catch(e){f.s.debug("EnvDetector failed: "+e.message)}return i&&(t[g._2.SERVICE_NAME]=i),new n.F(t)},e.prototype._parseResourceAttributes=function(e){var t,r;if(!e)return{};var n={},o=e.split(this._COMMA_SEPARATOR,-1);try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),s=i.next();!s.done;s=i.next()){var a=s.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===a.length){var c=v(a,2),u=c[0],l=c[1];if(u=u.trim(),l=l.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(u))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(l))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);n[u]=decodeURIComponent(l)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype._isValid=function(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)},e.prototype._isBaggageOctetString=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<33||44===r||59===r||92===r||r>126)return!1}return!0},e.prototype._isValidAndNotEmpty=function(e){return e.length>0&&this._isValid(e)},e}()),E=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(S.detect(e))},e}()),b=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},T=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},A=function(e){return void 0===e&&(e={}),b(void 0,void 0,void 0,(function(){var t;return T(this,(function(r){switch(r.label){case 0:return[4,Promise.all((e.detectors||[]).map((function(t){return b(void 0,void 0,void 0,(function(){var r,o;return T(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.detect(e)];case 1:return r=i.sent(),f.s.debug(t.constructor.name+" found resource.",r),[2,r];case 2:return o=i.sent(),f.s.debug(t.constructor.name+" failed: "+o.message),[2,n.F.empty()];case 3:return[2]}}))}))})))];case 1:return t=r.sent(),w(t),[2,t.reduce((function(e,t){return e.merge(t)}),n.F.empty())]}}))}))},R=function(e){var t;void 0===e&&(e={});var r=(null!==(t=e.detectors)&&void 0!==t?t:[]).map((function(t){try{var r,o=t.detect(e);return r=null!==(i=o)&&"object"==typeof i&&"function"==typeof i.then?new n.F({},b(void 0,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,o];case 1:return[2,e.sent().attributes]}}))}))):o,r.waitForAsyncAttributes?r.waitForAsyncAttributes().then((function(){return f.s.debug(t.constructor.name+" found resource.",r)})):f.s.debug(t.constructor.name+" found resource.",r),r}catch(e){return f.s.error(t.constructor.name+" failed: "+e.message),n.F.empty()}var i})),o=r.reduce((function(e,t){return e.merge(t)}),n.F.empty());return o.waitForAsyncAttributes&&o.waitForAsyncAttributes().then((function(){w(r)})),o},w=function(e){e.forEach((function(e){if(Object.keys(e.attributes).length>0){var t=JSON.stringify(e.attributes,null,4);f.s.verbose(t)}}))}},549:(e,t,r)=>{"use strict";function n(){return"unknown_service"}r.d(t,{m:()=>n})},2679:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BatchLogRecordProcessor:()=>x,ConsoleLogRecordExporter:()=>I,InMemoryLogRecordExporter:()=>N,LogRecord:()=>h,LoggerProvider:()=>C,NoopLogRecordProcessor:()=>w,SimpleLogRecordProcessor:()=>L});var n,o=r(5988),i=r(2896),s=r(1922),a=r(6387),c=r(9464),u=r(6982),l=r(8442),p=r(9905),d=r(4530),g=r(3698),f=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},h=function(){function e(e,t,r){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;var n=r.timestamp,o=r.observedTimestamp,i=r.severityNumber,s=r.severityText,a=r.body,c=r.attributes,u=void 0===c?{}:c,g=r.context,f=Date.now();if(this.hrTime=(0,d.KJ)(null!=n?n:f),this.hrTimeObserved=(0,d.KJ)(null!=o?o:f),g){var h=l.u.getSpanContext(g);h&&p.YA(h)&&(this.spanContext=h)}this.severityNumber=i,this.severityText=s,this.body=a,this.resource=e.resource,this.instrumentationScope=t,this._logRecordLimits=e.logRecordLimits,this.setAttributes(u)}return Object.defineProperty(e.prototype,"severityText",{get:function(){return this._severityText},set:function(e){this._isLogRecordReadonly()||(this._severityText=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"severityNumber",{get:function(){return this._severityNumber},set:function(e){this._isLogRecordReadonly()||(this._severityNumber=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},set:function(e){this._isLogRecordReadonly()||(this._body=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this.totalAttributesCount-Object.keys(this.attributes).length},enumerable:!1,configurable:!0}),e.prototype.setAttribute=function(e,t){return this._isLogRecordReadonly()||null===t?this:0===e.length?(o.s.warn("Invalid attribute key: "+e),this):(0,g.m)(t)||"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||((0,g.m)(t)?this.attributes[e]=this._truncateToSize(t):this.attributes[e]=t),this):(o.s.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,r;try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),o=n.next();!o.done;o=n.next()){var i=f(o.value,2),s=i[0],a=i[1];this.setAttribute(s,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.setBody=function(e){return this.body=e,this},e.prototype.setSeverityNumber=function(e){return this.severityNumber=e,this},e.prototype.setSeverityText=function(e){return this.severityText=e,this},e.prototype._makeReadonly=function(){this._isReadonly=!0},e.prototype._truncateToSize=function(e){var t=this,r=this._logRecordLimits.attributeValueLengthLimit;return r<=0?(o.s.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e})):e},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substring(0,t)},e.prototype._isLogRecordReadonly=function(){return this._isReadonly&&o.s.warn("Can not execute the operation on emitted log record"),this._isReadonly},e}(),m=function(){return m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)},y=function(){function e(e,t){this.instrumentationScope=e,this._sharedState=t}return e.prototype.emit=function(e){var t=e.context||u._.active(),r=new h(this._sharedState,this.instrumentationScope,m({context:t},e));this._sharedState.activeProcessor.onEmit(r,t),r._makeReadonly()},e}(),_=r(5999),v=r(30),S=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),E=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return S(t,e),t}(Error);function b(e,t){var r,n=new Promise((function(e,n){r=setTimeout((function(){n(new E("Operation timed out."))}),t)}));return Promise.race([e,n]).then((function(e){return clearTimeout(r),e}),(function(e){throw clearTimeout(r),e}))}var T=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},A=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},R=function(){function e(e,t){this.processors=e,this.forceFlushTimeoutMillis=t}return e.prototype.forceFlush=function(){return T(this,void 0,void 0,(function(){var e;return A(this,(function(t){switch(t.label){case 0:return e=this.forceFlushTimeoutMillis,[4,Promise.all(this.processors.map((function(t){return b(t.forceFlush(),e)})))];case 1:return t.sent(),[2]}}))}))},e.prototype.onEmit=function(e,t){this.processors.forEach((function(r){return r.onEmit(e,t)}))},e.prototype.shutdown=function(){return T(this,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return[4,Promise.all(this.processors.map((function(e){return e.shutdown()})))];case 1:return e.sent(),[2]}}))}))},e}(),w=function(){function e(){}return e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.onEmit=function(e,t){},e.prototype.shutdown=function(){return Promise.resolve()},e}(),O=function(e,t,r){this.resource=e,this.forceFlushTimeoutMillis=t,this.logRecordLimits=r,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new w},C=function(){function e(e){void 0===e&&(e={});var t=(0,a.h)({},{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:(0,_._)().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,_._)().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0},e),r=t.resource,n=void 0===r?s.F.default():r,o=t.logRecordLimits,i=t.forceFlushTimeoutMillis;this._sharedState=new O(n,i,function(e){var t,r,n,o,i,s,a=(0,v.wn)();return{attributeCountLimit:null!==(n=null!==(r=null!==(t=e.attributeCountLimit)&&void 0!==t?t:a.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)&&void 0!==r?r:a.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==n?n:v.fv,attributeValueLengthLimit:null!==(s=null!==(i=null!==(o=e.attributeValueLengthLimit)&&void 0!==o?o:a.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==i?i:a.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==s?s:v.aE}}(o)),this._shutdownOnce=new c.I(this._shutdown,this)}return e.prototype.getLogger=function(e,t,r){if(this._shutdownOnce.isCalled)return o.s.warn("A shutdown LoggerProvider cannot provide a Logger"),i.G;e||o.s.warn("Logger requested without instrumentation scope name.");var n=e||"unknown",s=n+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._sharedState.loggers.has(s)||this._sharedState.loggers.set(s,new y({name:n,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._sharedState)),this._sharedState.loggers.get(s)},e.prototype.addLogRecordProcessor=function(e){0===this._sharedState.registeredLogRecordProcessors.length&&this._sharedState.activeProcessor.shutdown().catch((function(e){return o.s.error("Error while trying to shutdown current log record processor",e)})),this._sharedState.registeredLogRecordProcessors.push(e),this._sharedState.activeProcessor=new R(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)},e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?(o.s.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()},e.prototype.shutdown=function(){return this._shutdownOnce.isCalled?(o.s.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._sharedState.activeProcessor.shutdown()},e}(),M=r(9094),I=function(){function e(){}return e.prototype.export=function(e,t){this._sendLogRecords(e,t)},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t,r,n;return{timestamp:(0,d.w_)(e.hrTime),traceId:null===(t=e.spanContext)||void 0===t?void 0:t.traceId,spanId:null===(r=e.spanContext)||void 0===r?void 0:r.spanId,traceFlags:null===(n=e.spanContext)||void 0===n?void 0:n.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}},e.prototype._sendLogRecords=function(e,t){var r,n;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=o.next();!i.done;i=o.next()){var s=i.value;console.dir(this._exportInfo(s),{depth:3})}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}null==t||t({code:M.V.SUCCESS})},e}(),P=r(7037),D=r(7292),L=function(){function e(e){this._exporter=e,this._shutdownOnce=new c.I(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.onEmit=function(e){var t,r,n=this;if(!this._shutdownOnce.isCalled){var o=function(){return P.mM._export(n._exporter,[e]).then((function(e){var t;e.code!==M.V.SUCCESS&&(0,D.s)(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleLogRecordProcessor: log record export failed (status "+e+")"))})).catch(D.s)};if(e.resource.asyncAttributesPending){var i=null===(r=(t=e.resource).waitForAsyncAttributes)||void 0===r?void 0:r.call(t).then((function(){return n._unresolvedExports.delete(i),o()}),D.s);null!=i&&this._unresolvedExports.add(i)}else o()}},e.prototype.forceFlush=function(){return e=this,t=void 0,n=function(){return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}(),N=function(){function e(){this._finishedLogRecords=[],this._stopped=!1}return e.prototype.export=function(e,t){var r;if(this._stopped)return t({code:M.V.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedLogRecords).push.apply(r,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(e),!1)),t({code:M.V.SUCCESS})},e.prototype.shutdown=function(){return this._stopped=!0,this.reset(),Promise.resolve()},e.prototype.getFinishedLogRecords=function(){return this._finishedLogRecords},e.prototype.reset=function(){this._finishedLogRecords=[]},e}(),j=r(2604),k=function(){function e(e,t){var r,n,i,s;this._exporter=e,this._finishedLogRecords=[];var a=(0,_._)();this._maxExportBatchSize=null!==(r=null==t?void 0:t.maxExportBatchSize)&&void 0!==r?r:a.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=null!==(n=null==t?void 0:t.maxQueueSize)&&void 0!==n?n:a.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=null!==(i=null==t?void 0:t.scheduledDelayMillis)&&void 0!==i?i:a.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=null!==(s=null==t?void 0:t.exportTimeoutMillis)&&void 0!==s?s:a.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new c.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(o.s.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.onEmit=function(e){this._shutdownOnce.isCalled||this._addToBuffer(e)},e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return e=this,t=void 0,n=function(){return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(e){switch(e.label){case 0:return this.onShutdown(),[4,this._flushAll()];case 1:return e.sent(),[4,this._exporter.shutdown()];case 2:return e.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n},e.prototype._addToBuffer=function(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,r){for(var n=[],o=Math.ceil(e._finishedLogRecords.length/e._maxExportBatchSize),i=0;i<o;i++)n.push(e._flushOneBatch());Promise.all(n).then((function(){t()})).catch(r)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedLogRecords.length?Promise.resolve():new Promise((function(t,r){b(e._export(e._finishedLogRecords.splice(0,e._maxExportBatchSize)),e._exportTimeoutMillis).then((function(){return t()})).catch(r)}))},e.prototype._maybeStartTimer=function(){var e=this;void 0===this._timer&&(this._timer=setTimeout((function(){e._flushOneBatch().then((function(){e._finishedLogRecords.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(e){(0,D.s)(e)}))}),this._scheduledDelayMillis),(0,j.K)(this._timer))},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e.prototype._export=function(e){var t=this,r=function(){return P.mM._export(t._exporter,e).then((function(e){var t;e.code!==M.V.SUCCESS&&(0,D.s)(null!==(t=e.error)&&void 0!==t?t:new Error("BatchLogRecordProcessor: log record export failed (status "+e+")"))})).catch(D.s)},n=e.map((function(e){return e.resource})).filter((function(e){return e.asyncAttributesPending}));return 0===n.length?r():Promise.all(n.map((function(e){var t;return null===(t=e.waitForAsyncAttributes)||void 0===t?void 0:t.call(e)}))).then(r,D.s)},e}(),U=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n._onInit(r),n}return U(t,e),t.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t.prototype._onInit=function(e){var t=this;!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&t.forceFlush()},this._pageHideListener=function(){t.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t}(k)},9827:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>E,AlwaysOnSampler:()=>b,BasicTracerProvider:()=>pe,BatchSpanProcessor:()=>le,ConsoleSpanExporter:()=>de,ForceFlushState:()=>x,InMemorySpanExporter:()=>ge,NoopSpanProcessor:()=>oe,ParentBasedSampler:()=>R,RandomIdGenerator:()=>N,SamplingDecision:()=>n,SimpleSpanProcessor:()=>he,Span:()=>_,TraceIdRatioBasedSampler:()=>w,Tracer:()=>B});var n,o=r(6982),i=r(8442),s=r(5988),a=r(2102),c=r(4569),u=r(9364),l=r(1199),p=r(3331),d=r(3698),g=r(2626),f=r(2648),h=r(4530),m=r(1868),y=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},_=function(){function e(e,t,r,n,o,i,s,a,c,u){void 0===s&&(s=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:g.s.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=n,this.parentSpanId=i,this.kind=o,this.links=s;var l=Date.now();this._performanceStartTime=f.u.now(),this._performanceOffset=l-(this._performanceStartTime+(0,h.uc)()),this._startTimeProvided=null!=a,this.startTime=this._getTime(null!=a?a:l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=u&&this.setAttributes(u),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(s.s.warn("Invalid attribute key: "+e),this):(0,d.m)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(s.s.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,r;try{for(var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(e)),o=n.next();!o.done;o=n.next()){var i=y(o.value,2),s=i[0],a=i[1];this.setAttribute(s,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return s.s.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&s.s.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,h.Ir)(t)&&((0,h.Ir)(r)||(r=t),t=void 0);var n=(0,d.L)(t);return this.events.push({name:e,attributes:n,time:this._getTime(r),droppedAttributesCount:0}),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?s.s.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,h.W5)(this.startTime,this.endTime),this._duration[0]<0&&(s.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&s.s.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(e){if("number"==typeof e&&e<f.u.now())return(0,h._5)(e+this._performanceOffset);if("number"==typeof e)return(0,h.lg)(e);if(e instanceof Date)return(0,h.lg)(e.getTime());if((0,h.VL)(e))return e;if(this._startTimeProvided)return(0,h.lg)(Date.now());var t=f.u.now()-this._performanceStartTime;return(0,h.mw)(this.startTime,(0,h.lg)(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var r={};"string"==typeof e?r[m.IXq.EXCEPTION_MESSAGE]=e:e&&(e.code?r[m.IXq.EXCEPTION_TYPE]=e.code.toString():e.name&&(r[m.IXq.EXCEPTION_TYPE]=e.name),e.message&&(r[m.IXq.EXCEPTION_MESSAGE]=e.message),e.stack&&(r[m.IXq.EXCEPTION_STACKTRACE]=e.stack)),r[m.IXq.EXCEPTION_TYPE]||r[m.IXq.EXCEPTION_MESSAGE]?this.addEvent("exception",r,t):s.s.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&s.s.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,r=this._attributeValueLengthLimit;return r<=0?(s.s.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e})):e},e}(),v=r(5999),S=r(458);!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}));var E=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),b=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),T=r(9905),A=r(7292),R=function(){function e(e){var t,r,n,o;this._root=e.root,this._root||((0,A.s)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new b),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new b,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new E,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new b,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new E}return e.prototype.shouldSample=function(e,t,r,n,o,s){var a=i.u.getSpanContext(e);return a&&(0,T.YA)(a)?a.isRemote?a.traceFlags&l.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,s):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,s):a.traceFlags&l.X.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,s):this._localParentNotSampled.shouldSample(e,t,r,n,o,s):this._root.shouldSample(e,t,r,n,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),w=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,T.hX)(t)&&this._accumulate(t)<this._upperBound?n.RECORD_AND_SAMPLED:n.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}(),O=(0,v._)(),C=S.R.AlwaysOn,M=1;function I(){return{sampler:P(O),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,v._)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,v._)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,v._)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,v._)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,v._)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,v._)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,v._)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,v._)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function P(e){switch(void 0===e&&(e=(0,v._)()),e.OTEL_TRACES_SAMPLER){case S.R.AlwaysOn:return new b;case S.R.AlwaysOff:return new E;case S.R.ParentBasedAlwaysOn:return new R({root:new b});case S.R.ParentBasedAlwaysOff:return new R({root:new E});case S.R.TraceIdRatio:return new w(D(e));case S.R.ParentBasedTraceIdRatio:return new R({root:new w(D(e))});default:return s.s.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+C+'".'),new b}}function D(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return s.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+M+"."),M;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(s.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+M+"."),M):t<0||t>1?(s.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+M+"."),M):t}var L=r(30),N=function(){this.generateTraceId=k(16),this.generateSpanId=k(8)},j=Array(32);function k(e){return function(){for(var t=0;t<2*e;t++)j[t]=Math.floor(16*Math.random())+48,j[t]>=58&&(j[t]+=39);return String.fromCharCode.apply(null,j.slice(0,2*e))}}var U,x,B=function(){function e(e,t,r){this._tracerProvider=r;var n,o,i,s,a=(n=t,o={sampler:P()},i=I(),(s=Object.assign({},i,o,n)).generalLimits=Object.assign({},i.generalLimits,n.generalLimits||{}),s.spanLimits=Object.assign({},i.spanLimits,n.spanLimits||{}),s);this._sampler=a.sampler,this._generalLimits=a.generalLimits,this._spanLimits=a.spanLimits,this._idGenerator=t.idGenerator||new N,this.resource=r.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,r){var n,g,f;void 0===t&&(t={}),void 0===r&&(r=o._.active()),t.root&&(r=i.u.deleteSpan(r));var h=i.u.getSpan(r);if((0,p.Zf)(r))return s.s.debug("Instrumentation suppressed, returning Noop Span"),i.u.wrapSpanContext(a.dM);var m,y,v,S=null==h?void 0:h.spanContext(),E=this._idGenerator.generateSpanId();S&&i.u.isSpanContextValid(S)?(m=S.traceId,y=S.traceState,v=S.spanId):m=this._idGenerator.generateTraceId();var b=null!==(n=t.kind)&&void 0!==n?n:c.v.INTERNAL,T=(null!==(g=t.links)&&void 0!==g?g:[]).map((function(e){return{context:e.context,attributes:(0,d.L)(e.attributes)}})),A=(0,d.L)(t.attributes),R=this._sampler.shouldSample(r,m,e,b,A,T);y=null!==(f=R.traceState)&&void 0!==f?f:y;var w={traceId:m,spanId:E,traceFlags:R.decision===u.i.RECORD_AND_SAMPLED?l.X.SAMPLED:l.X.NONE,traceState:y};if(R.decision===u.i.NOT_RECORD)return s.s.debug("Recording is off, propagating context in a non-recording span"),i.u.wrapSpanContext(w);var O=(0,d.L)(Object.assign(A,R.attributes));return new _(this,r,e,w,b,v,T,t.startTime,void 0,O)},e.prototype.startActiveSpan=function(e,t,r,n){var s,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=r):(s=t,a=r,c=n);var u=null!=a?a:o._.active(),l=this.startSpan(e,s,u),p=i.u.setSpan(u,l);return o._.with(p,c,void 0,l)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}(),F=r(9039),W=r(6387),H=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,r){var n,o;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this._propagators),a=i.next();!a.done;a=i.next()){var c=a.value;try{c.inject(e,t,r)}catch(e){s.s.warn("Failed to inject with "+c.constructor.name+". Err: "+e.message)}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e.prototype.extract=function(e,t,r){return this._propagators.reduce((function(e,n){try{return n.extract(e,t,r)}catch(e){s.s.warn("Failed to inject with "+n.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}(),V="[_0-9a-z-*/]",G=new RegExp("^(?:[a-z]"+V+"{0,255}|[a-z0-9]"+V+"{0,240}@[a-z]"+V+"{0,13})$"),z=/^[ -~]{0,255}[!-~]$/,q=/,|=/,Y=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var o=r.slice(0,n),i=r.slice(n+1,t.length);(function(e){return G.test(e)})(o)&&function(e){return z.test(e)&&!q.test(e)}(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),K="traceparent",Z="tracestate",$=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$"),X=function(){function e(){}return e.prototype.inject=function(e,t,r){var n=i.u.getSpanContext(e);if(n&&!(0,p.Zf)(e)&&(0,T.YA)(n)){var o="00-"+n.traceId+"-"+n.spanId+"-0"+Number(n.traceFlags||l.X.NONE).toString(16);r.set(t,K,o),n.traceState&&r.set(t,Z,n.traceState.serialize())}},e.prototype.extract=function(e,t,r){var n=r.get(t,K);if(!n)return e;var o=Array.isArray(n)?n[0]:n;if("string"!=typeof o)return e;var s=function(e){var t=$.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}(o);if(!s)return e;s.isRemote=!0;var a=r.get(t,Z);if(a){var c=Array.isArray(a)?a.join(","):a;s.traceState=new Y("string"==typeof c?c:void 0)}return i.u.setSpanContext(e,s)},e.prototype.fields=function(){return[K,Z]},e}(),J=r(9601),Q=r(9893),ee=function(){function e(){}return e.prototype.inject=function(e,t,r){var n=F.$.getBaggage(e);if(n&&!(0,p.Zf)(e)){var o=(0,Q.pX)(n).filter((function(e){return e.length<=J.KV})).slice(0,J.QC),i=(0,Q.L7)(o);i.length>0&&r.set(t,J.r_,i)}},e.prototype.extract=function(e,t,r){var n=r.get(t,J.r_),o=Array.isArray(n)?n.join(J.EC):n;if(!o)return e;var i={};return 0===o.length?e:(o.split(J.EC).forEach((function(e){var t=(0,Q.Qd)(e);if(t){var r={value:t.value};t.metadata&&(r.metadata=t.metadata),i[t.key]=r}})),0===Object.entries(i).length?e:F.$.setBaggage(e,F.$.createBaggage(i)))},e.prototype.fields=function(){return[J.r_]},e}(),te=r(1922),re=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ne=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,r=[];try{for(var n=re(this._spanProcessors),o=n.next();!o.done;o=n.next()){var i=o.value;r.push(i.forceFlush())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(r).then((function(){e()})).catch((function(t){(0,A.s)(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var r,n;try{for(var o=re(this._spanProcessors),i=o.next();!i.done;i=o.next())i.value.onStart(e,t)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(e){var t,r;try{for(var n=re(this._spanProcessors),o=n.next();!o.done;o=n.next())o.value.onEnd(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,r=[];try{for(var n=re(this._spanProcessors),o=n.next();!o.done;o=n.next()){var i=o.value;r.push(i.shutdown())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(r).then((function(){e()}),t)}))},e}(),oe=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}(),ie=r(9464),se=r(9094),ae=r(2604),ce=function(){function e(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=(0,v._)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new ie.I(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(s.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&l.X.SAMPLED&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&s.s.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(s.s.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,r){for(var n=[],o=0,i=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);o<i;o++)n.push(e._flushOneBatch());Promise.all(n).then((function(){t()})).catch(r)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,r){var n=setTimeout((function(){r(new Error("Timeout"))}),e._exportTimeoutMillis);o._.with((0,p.M1)(o._.active()),(function(){var o=e._finishedSpans.splice(0,e._maxExportBatchSize),i=function(){return e._exporter.export(o,(function(e){var o;clearTimeout(n),e.code===se.V.SUCCESS?t():r(null!==(o=e.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))},s=o.map((function(e){return e.resource})).filter((function(e){return e.asyncAttributesPending}));0===s.length?i():Promise.all(s.map((function(e){var t;return null===(t=e.waitForAsyncAttributes)||void 0===t?void 0:t.call(e)}))).then(i,(function(e){(0,A.s)(e),r(e)}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally((function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(t){e._isExporting=!1,(0,A.s)(t)}))};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();void 0===this._timer&&(this._timer=setTimeout((function(){return t()}),this._scheduledDelayMillis),(0,ae.K)(this._timer))}},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}(),ue=(U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},U(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),le=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.onInit(r),n}return ue(t,e),t.prototype.onInit=function(e){var t=this;!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&t.forceFlush()},this._pageHideListener=function(){t.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(ce);!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(x||(x={}));var pe=function(){function e(e){var t;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var r=(0,W.h)({},I(),function(e){var t,r,n,o,i,s,a,c,u,l,p,d,g=Object.assign({},e.spanLimits),f=(0,L.wn)();return g.attributeCountLimit=null!==(s=null!==(i=null!==(o=null!==(r=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==r?r:null===(n=e.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==o?o:f.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:f.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==s?s:L.fv,g.attributeValueLengthLimit=null!==(d=null!==(p=null!==(l=null!==(c=null===(a=e.spanLimits)||void 0===a?void 0:a.attributeValueLengthLimit)&&void 0!==c?c:null===(u=e.generalLimits)||void 0===u?void 0:u.attributeValueLengthLimit)&&void 0!==l?l:f.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:f.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:L.aE,Object.assign({},e,{spanLimits:g})}(e));this.resource=null!==(t=r.resource)&&void 0!==t?t:te.F.empty(),this.resource=te.F.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var n=this._buildExporterFromEnv();if(void 0!==n){var o=new le(n);this.activeSpanProcessor=o}else this.activeSpanProcessor=new oe}return e.prototype.getTracer=function(e,t,r){var n=e+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._tracers.has(n)||this._tracers.set(n,new B({name:e,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return s.s.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new ne(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),i.u.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&o._.setGlobalContextManager(e.contextManager),e.propagator&&F.$.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(r){var n,o=setTimeout((function(){r(new Error("Span processor did not completed within timeout period of "+e+" ms")),n=x.timeout}),e);t.forceFlush().then((function(){clearTimeout(o),n!==x.timeout&&(n=x.resolved,r(n))})).catch((function(e){clearTimeout(o),n=x.error,r(e)}))}))}));return new Promise((function(e,r){Promise.all(t).then((function(t){var n=t.filter((function(e){return e!==x.resolved}));n.length>0?r(n):e()})).catch((function(e){return r([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set((0,v._)().OTEL_PROPAGATORS)),r=t.map((function(t){var r=e._getPropagator(t);return r||s.s.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),r})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===r.length?void 0:1===t.length?r[0]:new H({propagators:r})},e.prototype._buildExporterFromEnv=function(){var e=(0,v._)().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||s.s.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new X}],["baggage",function(){return new ee}]]),e._registeredExporters=new Map,e}(),de=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,h.w_)(e.startTime),duration:(0,h.w_)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var r,n;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=o.next();!i.done;i=o.next()){var s=i.value;console.dir(this._exportInfo(s),{depth:3})}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}if(t)return t({code:se.V.SUCCESS})},e}(),ge=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(e,t){var r;if(this._stopped)return t({code:se.V.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}(e),!1)),setTimeout((function(){return t({code:se.V.SUCCESS})}),0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}(),fe=r(7037),he=function(){function e(e){this._exporter=e,this._shutdownOnce=new ie.I(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return e=this,t=void 0,n=function(){return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){var t,r,n=this;if(!this._shutdownOnce.isCalled&&e.spanContext().traceFlags&l.X.SAMPLED){var o=function(){return fe.mM._export(n._exporter,[e]).then((function(e){var t;e.code!==se.V.SUCCESS&&(0,A.s)(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleSpanProcessor: span export failed (status "+e+")"))})).catch((function(e){(0,A.s)(e)}))};if(e.resource.asyncAttributesPending){var i=null===(r=(t=e.resource).waitForAsyncAttributes)||void 0===r?void 0:r.call(t).then((function(){return null!=i&&n._unresolvedExports.delete(i),o()}),(function(e){return(0,A.s)(e)}));null!=i&&this._unresolvedExports.add(i)}else o()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()},8712:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AWSECSLAUNCHTYPEVALUES_EC2:()=>o.Jn,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>o.Fz,AwsEcsLaunchtypeValues:()=>o.AS,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>o.WE,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>o.op,CLOUDPLATFORMVALUES_AWS_EC2:()=>o.WC,CLOUDPLATFORMVALUES_AWS_ECS:()=>o.p7,CLOUDPLATFORMVALUES_AWS_EKS:()=>o.Vx,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>o.Vf,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>o.JO,CLOUDPLATFORMVALUES_AZURE_AKS:()=>o.Vm,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>o.L6,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>o.oH,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>o.$R,CLOUDPLATFORMVALUES_AZURE_VM:()=>o.zF,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>o.$T,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>o.a1,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>o.qB,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>o.Tg,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>o.qN,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>o.Eh,CLOUDPROVIDERVALUES_AWS:()=>o.Xm,CLOUDPROVIDERVALUES_AZURE:()=>o.BY,CLOUDPROVIDERVALUES_GCP:()=>o.ov,CloudPlatformValues:()=>o.ns,CloudProviderValues:()=>o.jV,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>n.Bh9,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>n.Eo2,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>n.$8v,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>n.slN,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>n.VMk,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>n.g9x,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>n.G49,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>n.vhy,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>n.OSW,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>n.O2W,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>n.WJJ,DBSYSTEMVALUES_ADABAS:()=>n.nWK,DBSYSTEMVALUES_CACHE:()=>n.V02,DBSYSTEMVALUES_CASSANDRA:()=>n.Rk0,DBSYSTEMVALUES_CLOUDSCAPE:()=>n.CQB,DBSYSTEMVALUES_COCKROACHDB:()=>n.y__,DBSYSTEMVALUES_COLDFUSION:()=>n.TKU,DBSYSTEMVALUES_COSMOSDB:()=>n.zmF,DBSYSTEMVALUES_COUCHBASE:()=>n.oBD,DBSYSTEMVALUES_COUCHDB:()=>n.hV,DBSYSTEMVALUES_DB2:()=>n.xhJ,DBSYSTEMVALUES_DERBY:()=>n.XTF,DBSYSTEMVALUES_DYNAMODB:()=>n.poY,DBSYSTEMVALUES_EDB:()=>n.ynC,DBSYSTEMVALUES_ELASTICSEARCH:()=>n.Ylk,DBSYSTEMVALUES_FILEMAKER:()=>n.Xdf,DBSYSTEMVALUES_FIREBIRD:()=>n.IOi,DBSYSTEMVALUES_FIRSTSQL:()=>n.$wW,DBSYSTEMVALUES_GEODE:()=>n.N4Y,DBSYSTEMVALUES_H2:()=>n.JZz,DBSYSTEMVALUES_HANADB:()=>n.Dzx,DBSYSTEMVALUES_HBASE:()=>n.Spc,DBSYSTEMVALUES_HIVE:()=>n.nwz,DBSYSTEMVALUES_HSQLDB:()=>n.pfp,DBSYSTEMVALUES_INFORMIX:()=>n.L5D,DBSYSTEMVALUES_INGRES:()=>n.L2R,DBSYSTEMVALUES_INSTANTDB:()=>n.K2_,DBSYSTEMVALUES_INTERBASE:()=>n.y6V,DBSYSTEMVALUES_MARIADB:()=>n.ngE,DBSYSTEMVALUES_MAXDB:()=>n.XER,DBSYSTEMVALUES_MEMCACHED:()=>n.Oe4,DBSYSTEMVALUES_MONGODB:()=>n.X36,DBSYSTEMVALUES_MSSQL:()=>n.Vp5,DBSYSTEMVALUES_MYSQL:()=>n.bfK,DBSYSTEMVALUES_NEO4J:()=>n.BJ_,DBSYSTEMVALUES_NETEZZA:()=>n.irN,DBSYSTEMVALUES_ORACLE:()=>n.PU4,DBSYSTEMVALUES_OTHER_SQL:()=>n.Wb_,DBSYSTEMVALUES_PERVASIVE:()=>n.mc2,DBSYSTEMVALUES_POINTBASE:()=>n.Y$v,DBSYSTEMVALUES_POSTGRESQL:()=>n.jCw,DBSYSTEMVALUES_PROGRESS:()=>n.KjL,DBSYSTEMVALUES_REDIS:()=>n.W_f,DBSYSTEMVALUES_REDSHIFT:()=>n.MpS,DBSYSTEMVALUES_SQLITE:()=>n.vl2,DBSYSTEMVALUES_SYBASE:()=>n.K0$,DBSYSTEMVALUES_TERADATA:()=>n.Xuz,DBSYSTEMVALUES_VERTICA:()=>n.lcm,DbCassandraConsistencyLevelValues:()=>n.Nxd,DbSystemValues:()=>n.Q5s,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>n.mlL,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>n.VEl,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>n.oF4,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>n.y3W,FAASINVOKEDPROVIDERVALUES_AWS:()=>n.Tl5,FAASINVOKEDPROVIDERVALUES_AZURE:()=>n.d3j,FAASINVOKEDPROVIDERVALUES_GCP:()=>n.kOl,FAASTRIGGERVALUES_DATASOURCE:()=>n.uZf,FAASTRIGGERVALUES_HTTP:()=>n.v8K,FAASTRIGGERVALUES_OTHER:()=>n.ToY,FAASTRIGGERVALUES_PUBSUB:()=>n.CK9,FAASTRIGGERVALUES_TIMER:()=>n.IxL,FaasDocumentOperationValues:()=>n.Ijl,FaasInvokedProviderValues:()=>n.zI8,FaasTriggerValues:()=>n.iPC,HOSTARCHVALUES_AMD64:()=>o.so,HOSTARCHVALUES_ARM32:()=>o.hi,HOSTARCHVALUES_ARM64:()=>o.UQ,HOSTARCHVALUES_IA64:()=>o.av,HOSTARCHVALUES_PPC32:()=>o.OZ,HOSTARCHVALUES_PPC64:()=>o.DL,HOSTARCHVALUES_X86:()=>o.ig,HTTPFLAVORVALUES_HTTP_1_0:()=>n.dbJ,HTTPFLAVORVALUES_HTTP_1_1:()=>n.kPW,HTTPFLAVORVALUES_HTTP_2_0:()=>n.gGD,HTTPFLAVORVALUES_QUIC:()=>n.iFX,HTTPFLAVORVALUES_SPDY:()=>n.QhH,HostArchValues:()=>o.Cg,HttpFlavorValues:()=>n.dNH,MESSAGETYPEVALUES_RECEIVED:()=>n.sr7,MESSAGETYPEVALUES_SENT:()=>n.bZN,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>n.npt,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>n.HXm,MESSAGINGOPERATIONVALUES_PROCESS:()=>n.AVC,MESSAGINGOPERATIONVALUES_RECEIVE:()=>n.mO,MessageTypeValues:()=>n.Ywq,MessagingDestinationKindValues:()=>n.b7t,MessagingOperationValues:()=>n.Qgf,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>n.i9b,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>n.mN_,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>n.Q_6,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>n.EPu,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>n.uzh,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>n.Bez,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>n.uwh,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>n.Rpt,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>n.AdO,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>n.hu9,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>n.x0j,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>n.hze,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>n.kgK,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>n.rBh,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>n.IMI,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>n.wYf,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>n.bWQ,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>n.JPM,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>n.ddb,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>n._28,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>n.yIV,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>n.j7z,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>n.D3U,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>n.Vur,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>n.CGC,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>n.c1V,NETTRANSPORTVALUES_INPROC:()=>n.JjG,NETTRANSPORTVALUES_IP:()=>n.fN3,NETTRANSPORTVALUES_IP_TCP:()=>n.x85,NETTRANSPORTVALUES_IP_UDP:()=>n.ZUK,NETTRANSPORTVALUES_OTHER:()=>n.EUV,NETTRANSPORTVALUES_PIPE:()=>n.cjY,NETTRANSPORTVALUES_UNIX:()=>n.GR7,NetHostConnectionSubtypeValues:()=>n.cAF,NetHostConnectionTypeValues:()=>n.KSs,NetTransportValues:()=>n.z4S,OSTYPEVALUES_AIX:()=>o.cJ,OSTYPEVALUES_DARWIN:()=>o.JW,OSTYPEVALUES_DRAGONFLYBSD:()=>o.tD,OSTYPEVALUES_FREEBSD:()=>o.xG,OSTYPEVALUES_HPUX:()=>o.BT,OSTYPEVALUES_LINUX:()=>o.Yh,OSTYPEVALUES_NETBSD:()=>o.sS,OSTYPEVALUES_OPENBSD:()=>o.h7,OSTYPEVALUES_SOLARIS:()=>o.l9,OSTYPEVALUES_WINDOWS:()=>o.xR,OSTYPEVALUES_Z_OS:()=>o.Pi,OsTypeValues:()=>o.h0,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>n.$5b,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>n.TiO,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>n.Ryq,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>n.ueJ,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>n.wAY,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>n._pX,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>n.dXK,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>n.njt,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>n.ay9,RPCGRPCSTATUSCODEVALUES_OK:()=>n.wJ,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>n.GY$,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>n.nXs,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>n.KNN,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>n._Q_,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>n.gFG,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>n.p1q,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>n.ch2,RpcGrpcStatusCodeValues:()=>n.f3T,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>n.wpU,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>n.fhG,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>n.tGA,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>n.byW,SEMATTRS_AWS_DYNAMODB_COUNT:()=>n.F7w,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>n.Wif,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>n.TVZ,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>n.Ouu,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>n.gUJ,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>n.Wx7,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>n.La$,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>n.ti,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>n.frU,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>n.a4d,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>n.p30,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>n.sxk,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>n.r0m,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>n.F0K,SEMATTRS_AWS_DYNAMODB_SELECT:()=>n.u4L,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>n.mGg,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>n.Ta3,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>n.DBy,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>n.TCh,SEMATTRS_CODE_FILEPATH:()=>n.cvh,SEMATTRS_CODE_FUNCTION:()=>n.jrL,SEMATTRS_CODE_LINENO:()=>n.usz,SEMATTRS_CODE_NAMESPACE:()=>n.klU,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>n.Qt9,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>n.DNX,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>n.xq_,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>n._iR,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>n.Unu,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>n.Itx,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>n.NlD,SEMATTRS_DB_CASSANDRA_TABLE:()=>n.zri,SEMATTRS_DB_CONNECTION_STRING:()=>n.cd9,SEMATTRS_DB_HBASE_NAMESPACE:()=>n.bd4,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>n.qGX,SEMATTRS_DB_MONGODB_COLLECTION:()=>n.NlA,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>n.Eh5,SEMATTRS_DB_NAME:()=>n.Rt6,SEMATTRS_DB_OPERATION:()=>n.l60,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>n.wy2,SEMATTRS_DB_SQL_TABLE:()=>n.pHC,SEMATTRS_DB_STATEMENT:()=>n.FoJ,SEMATTRS_DB_SYSTEM:()=>n.V0Q,SEMATTRS_DB_USER:()=>n.N9D,SEMATTRS_ENDUSER_ID:()=>n.RHQ,SEMATTRS_ENDUSER_ROLE:()=>n.cSi,SEMATTRS_ENDUSER_SCOPE:()=>n.MWE,SEMATTRS_EXCEPTION_ESCAPED:()=>n.GKr,SEMATTRS_EXCEPTION_MESSAGE:()=>n.aP6,SEMATTRS_EXCEPTION_STACKTRACE:()=>n.ipG,SEMATTRS_EXCEPTION_TYPE:()=>n.P4J,SEMATTRS_FAAS_COLDSTART:()=>n.TRX,SEMATTRS_FAAS_CRON:()=>n.HVV,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>n.LxM,SEMATTRS_FAAS_DOCUMENT_NAME:()=>n.aTe,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>n.abe,SEMATTRS_FAAS_DOCUMENT_TIME:()=>n.aKn,SEMATTRS_FAAS_EXECUTION:()=>n.dsp,SEMATTRS_FAAS_INVOKED_NAME:()=>n.PIi,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>n.XNY,SEMATTRS_FAAS_INVOKED_REGION:()=>n.imY,SEMATTRS_FAAS_TIME:()=>n.cFk,SEMATTRS_FAAS_TRIGGER:()=>n.bes,SEMATTRS_HTTP_CLIENT_IP:()=>n.nS0,SEMATTRS_HTTP_FLAVOR:()=>n.o8O,SEMATTRS_HTTP_HOST:()=>n.Qv9,SEMATTRS_HTTP_METHOD:()=>n.vof,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>n.OdI,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>n.Plv,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>n.crS,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>n.XyR,SEMATTRS_HTTP_ROUTE:()=>n.tto,SEMATTRS_HTTP_SCHEME:()=>n.zPu,SEMATTRS_HTTP_SERVER_NAME:()=>n.H35,SEMATTRS_HTTP_STATUS_CODE:()=>n.W_O,SEMATTRS_HTTP_TARGET:()=>n.fub,SEMATTRS_HTTP_URL:()=>n.vSt,SEMATTRS_HTTP_USER_AGENT:()=>n.Nz$,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>n.U5o,SEMATTRS_MESSAGE_ID:()=>n.Gsd,SEMATTRS_MESSAGE_TYPE:()=>n.$58,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>n.LfK,SEMATTRS_MESSAGING_CONSUMER_ID:()=>n.w54,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>n.nN_,SEMATTRS_MESSAGING_DESTINATION:()=>n.Yjy,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>n.lDI,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>n.cZl,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>n.rsL,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>n.yRs,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>n.tNm,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>n.E__,SEMATTRS_MESSAGING_MESSAGE_ID:()=>n.XH7,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>n.CdG,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>n._Zr,SEMATTRS_MESSAGING_OPERATION:()=>n.zpg,SEMATTRS_MESSAGING_PROTOCOL:()=>n._af,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>n.DA0,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>n.Zl1,SEMATTRS_MESSAGING_SYSTEM:()=>n.zBy,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>n.JK9,SEMATTRS_MESSAGING_URL:()=>n.t8j,SEMATTRS_NET_HOST_CARRIER_ICC:()=>n.wgx,SEMATTRS_NET_HOST_CARRIER_MCC:()=>n.cA3,SEMATTRS_NET_HOST_CARRIER_MNC:()=>n.hXS,SEMATTRS_NET_HOST_CARRIER_NAME:()=>n.ynP,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>n.Ltc,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>n.PfM,SEMATTRS_NET_HOST_IP:()=>n.j$y,SEMATTRS_NET_HOST_NAME:()=>n.h70,SEMATTRS_NET_HOST_PORT:()=>n.Puv,SEMATTRS_NET_PEER_IP:()=>n.RvY,SEMATTRS_NET_PEER_NAME:()=>n.nvt,SEMATTRS_NET_PEER_PORT:()=>n.ZUg,SEMATTRS_NET_TRANSPORT:()=>n.Ac3,SEMATTRS_PEER_SERVICE:()=>n.RyT,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>n.C2y,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>n.Zwr,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>n.z_u,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>n.yew,SEMATTRS_RPC_JSONRPC_VERSION:()=>n.ZSz,SEMATTRS_RPC_METHOD:()=>n.Y3v,SEMATTRS_RPC_SERVICE:()=>n.GOV,SEMATTRS_RPC_SYSTEM:()=>n.sLO,SEMATTRS_THREAD_ID:()=>n.lpz,SEMATTRS_THREAD_NAME:()=>n.taz,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>o.VH,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>o.SV,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>o.SA,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>o.yB,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>o.Zf,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>o.MK,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>o.v0,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>o.an,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>o.qF,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>o.ZZ,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>o.Dn,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>o.E3,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>o.xC,SEMRESATTRS_CLOUD_PLATFORM:()=>o.Iq,SEMRESATTRS_CLOUD_PROVIDER:()=>o.mA,SEMRESATTRS_CLOUD_REGION:()=>o.Nw,SEMRESATTRS_CONTAINER_ID:()=>o.ux,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>o.uB,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>o.RB,SEMRESATTRS_CONTAINER_NAME:()=>o.aA,SEMRESATTRS_CONTAINER_RUNTIME:()=>o.PZ,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>o.I2,SEMRESATTRS_DEVICE_ID:()=>o.tn,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>o.BF,SEMRESATTRS_DEVICE_MODEL_NAME:()=>o.Bt,SEMRESATTRS_FAAS_ID:()=>o.Mm,SEMRESATTRS_FAAS_INSTANCE:()=>o.uu,SEMRESATTRS_FAAS_MAX_MEMORY:()=>o.PO,SEMRESATTRS_FAAS_NAME:()=>o.Uf,SEMRESATTRS_FAAS_VERSION:()=>o.lO,SEMRESATTRS_HOST_ARCH:()=>o.yT,SEMRESATTRS_HOST_ID:()=>o.zs,SEMRESATTRS_HOST_IMAGE_ID:()=>o.HP,SEMRESATTRS_HOST_IMAGE_NAME:()=>o.be,SEMRESATTRS_HOST_IMAGE_VERSION:()=>o.g9,SEMRESATTRS_HOST_NAME:()=>o.RK,SEMRESATTRS_HOST_TYPE:()=>o.kE,SEMRESATTRS_K8S_CLUSTER_NAME:()=>o.IG,SEMRESATTRS_K8S_CONTAINER_NAME:()=>o.Pb,SEMRESATTRS_K8S_CRONJOB_NAME:()=>o.Vy,SEMRESATTRS_K8S_CRONJOB_UID:()=>o.gT,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>o.Su,SEMRESATTRS_K8S_DAEMONSET_UID:()=>o.rK,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>o.do,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>o.k7,SEMRESATTRS_K8S_JOB_NAME:()=>o.z3,SEMRESATTRS_K8S_JOB_UID:()=>o.mc,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>o.Tl,SEMRESATTRS_K8S_NODE_NAME:()=>o.Ky,SEMRESATTRS_K8S_NODE_UID:()=>o.pV,SEMRESATTRS_K8S_POD_NAME:()=>o.TH,SEMRESATTRS_K8S_POD_UID:()=>o.gJ,SEMRESATTRS_K8S_REPLICASET_NAME:()=>o.kv,SEMRESATTRS_K8S_REPLICASET_UID:()=>o.PU,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>o.kn,SEMRESATTRS_K8S_STATEFULSET_UID:()=>o.f8,SEMRESATTRS_OS_DESCRIPTION:()=>o.ik,SEMRESATTRS_OS_NAME:()=>o.hQ,SEMRESATTRS_OS_TYPE:()=>o.ko,SEMRESATTRS_OS_VERSION:()=>o.AC,SEMRESATTRS_PROCESS_COMMAND:()=>o.Cn,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>o.U2,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>o.x2,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>o.fP,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>o.xQ,SEMRESATTRS_PROCESS_OWNER:()=>o.Yb,SEMRESATTRS_PROCESS_PID:()=>o.ky,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>o.C3,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>o.lb,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>o.cV,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>o.PL,SEMRESATTRS_SERVICE_NAME:()=>o.AV,SEMRESATTRS_SERVICE_NAMESPACE:()=>o.ar,SEMRESATTRS_SERVICE_VERSION:()=>o.xs,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>o.nA,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>o.Pl,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>o.$L,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>o.y$,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>o.U1,SEMRESATTRS_WEBENGINE_NAME:()=>o.HF,SEMRESATTRS_WEBENGINE_VERSION:()=>o.WN,SemanticAttributes:()=>n.IXq,SemanticResourceAttributes:()=>o._2,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>o.S5,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>o.XE,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>o.o2,TELEMETRYSDKLANGUAGEVALUES_GO:()=>o.HE,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>o.du,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>o.wE,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>o.tP,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>o.$c,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>o.jN,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>o.uh,TelemetrySdkLanguageValues:()=>o.wP});var n=r(1868),o=r(1347)},9764:(e,t,r)=>{"use strict";function n(e){for(var t={},r=e.length,n=0;n<r;n++){var o=e[n];o&&(t[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return t}r.d(t,{O:()=>n})},1347:(e,t,r)=>{"use strict";r.d(t,{$L:()=>Xt,$R:()=>Br,$T:()=>zr,$c:()=>Kn,AC:()=>kt,AS:()=>$r,AV:()=>Yt,BF:()=>et,BT:()=>Mn,BY:()=>ur,Bt:()=>tt,C3:()=>qt,Cg:()=>pn,Cn:()=>Ft,DL:()=>un,Dn:()=>ze,E3:()=>De,Eh:()=>ar,Fz:()=>Zr,HE:()=>Gn,HF:()=>tr,HP:()=>dt,I2:()=>Je,IG:()=>ft,Iq:()=>je,JO:()=>Nr,JW:()=>An,Jn:()=>Kr,Ky:()=>ht,L6:()=>Fr,MK:()=>We,Mm:()=>nt,Nw:()=>Le,OZ:()=>cn,PL:()=>Zt,PO:()=>st,PU:()=>Et,PZ:()=>Ze,Pb:()=>St,Pi:()=>Dn,Pl:()=>Jt,RB:()=>Xe,RK:()=>ct,S5:()=>Wn,SA:()=>xe,SV:()=>ke,Su:()=>Ct,TH:()=>vt,Tg:()=>Wr,Tl:()=>yt,U1:()=>nr,U2:()=>Ht,UQ:()=>sn,Uf:()=>rt,VH:()=>Ue,Vf:()=>jr,Vm:()=>xr,Vx:()=>Lr,Vy:()=>Dt,WC:()=>Pr,WE:()=>Mr,WN:()=>rr,XE:()=>Hn,Xm:()=>cr,Yb:()=>Vt,Yh:()=>Tn,ZZ:()=>qe,Zf:()=>Fe,_2:()=>or,a1:()=>Gr,aA:()=>Ye,an:()=>Ge,ar:()=>Kt,av:()=>an,be:()=>pt,cJ:()=>In,cV:()=>zt,do:()=>At,du:()=>zn,f8:()=>Rt,fP:()=>xt,g9:()=>gt,gJ:()=>_t,gT:()=>Pt,h0:()=>Ln,h7:()=>On,hQ:()=>jt,hi:()=>on,ig:()=>ln,ik:()=>Nt,jN:()=>Zn,jV:()=>pr,k7:()=>Tt,kE:()=>ut,kn:()=>wt,ko:()=>Lt,kv:()=>bt,ky:()=>Ut,l9:()=>Pn,lO:()=>ot,lb:()=>Gt,mA:()=>Pe,mc:()=>Mt,nA:()=>er,ns:()=>qr,o2:()=>Vn,oH:()=>Ur,op:()=>Ir,ov:()=>lr,p7:()=>Dr,pV:()=>mt,qB:()=>Hr,qF:()=>Ve,qN:()=>Vr,rK:()=>Ot,sS:()=>wn,so:()=>nn,tD:()=>Cn,tP:()=>Yn,tn:()=>Qe,uB:()=>$e,uh:()=>$n,uu:()=>it,ux:()=>Ke,v0:()=>He,wE:()=>qn,wP:()=>Xn,x2:()=>Wt,xC:()=>Ne,xG:()=>Rn,xQ:()=>Bt,xR:()=>bn,xs:()=>$t,y$:()=>Qt,yB:()=>Be,yT:()=>lt,z3:()=>It,zF:()=>kr,zs:()=>at});var n=r(9764),o="cloud.provider",i="cloud.account.id",s="cloud.region",a="cloud.availability_zone",c="cloud.platform",u="aws.ecs.container.arn",l="aws.ecs.cluster.arn",p="aws.ecs.launchtype",d="aws.ecs.task.arn",g="aws.ecs.task.family",f="aws.ecs.task.revision",h="aws.eks.cluster.arn",m="aws.log.group.names",y="aws.log.group.arns",_="aws.log.stream.names",v="aws.log.stream.arns",S="container.name",E="container.id",b="container.runtime",T="container.image.name",A="container.image.tag",R="deployment.environment",w="device.id",O="device.model.identifier",C="device.model.name",M="faas.name",I="faas.id",P="faas.version",D="faas.instance",L="faas.max_memory",N="host.id",j="host.name",k="host.type",U="host.arch",x="host.image.name",B="host.image.id",F="host.image.version",W="k8s.cluster.name",H="k8s.node.name",V="k8s.node.uid",G="k8s.namespace.name",z="k8s.pod.uid",q="k8s.pod.name",Y="k8s.container.name",K="k8s.replicaset.uid",Z="k8s.replicaset.name",$="k8s.deployment.uid",X="k8s.deployment.name",J="k8s.statefulset.uid",Q="k8s.statefulset.name",ee="k8s.daemonset.uid",te="k8s.daemonset.name",re="k8s.job.uid",ne="k8s.job.name",oe="k8s.cronjob.uid",ie="k8s.cronjob.name",se="os.type",ae="os.description",ce="os.name",ue="os.version",le="process.pid",pe="process.executable.name",de="process.executable.path",ge="process.command",fe="process.command_line",he="process.command_args",me="process.owner",ye="process.runtime.name",_e="process.runtime.version",ve="process.runtime.description",Se="service.name",Ee="service.namespace",be="service.instance.id",Te="service.version",Ae="telemetry.sdk.name",Re="telemetry.sdk.language",we="telemetry.sdk.version",Oe="telemetry.auto.version",Ce="webengine.name",Me="webengine.version",Ie="webengine.description",Pe=o,De=i,Le=s,Ne=a,je=c,ke=u,Ue=l,xe=p,Be=d,Fe=g,We=f,He=h,Ve=m,Ge=y,ze=_,qe=v,Ye=S,Ke=E,Ze=b,$e=T,Xe=A,Je=R,Qe=w,et=O,tt=C,rt=M,nt=I,ot=P,it=D,st=L,at=N,ct=j,ut=k,lt=U,pt=x,dt=B,gt=F,ft=W,ht=H,mt=V,yt=G,_t=z,vt=q,St=Y,Et=K,bt=Z,Tt=$,At=X,Rt=J,wt=Q,Ot=ee,Ct=te,Mt=re,It=ne,Pt=oe,Dt=ie,Lt=se,Nt=ae,jt=ce,kt=ue,Ut=le,xt=pe,Bt=de,Ft=ge,Wt=fe,Ht=he,Vt=me,Gt=ye,zt=_e,qt=ve,Yt=Se,Kt=Ee,Zt=be,$t=Te,Xt=Ae,Jt=Re,Qt=we,er=Oe,tr=Ce,rr=Me,nr=Ie,or=(0,n.O)([o,i,s,a,c,u,l,p,d,g,f,h,m,y,_,v,S,E,b,T,A,R,w,O,C,M,I,P,D,L,N,j,k,U,x,B,F,W,H,V,G,z,q,Y,K,Z,$,X,J,Q,ee,te,re,ne,oe,ie,se,ae,ce,ue,le,pe,de,ge,fe,he,me,ye,_e,ve,Se,Ee,be,Te,Ae,Re,we,Oe,Ce,Me,Ie]),ir="alibaba_cloud",sr="azure",ar=ir,cr="aws",ur=sr,lr="gcp",pr=(0,n.O)([ir,"aws",sr,"gcp"]),dr="alibaba_cloud_ecs",gr="alibaba_cloud_fc",fr="aws_ec2",hr="aws_ecs",mr="aws_eks",yr="aws_lambda",_r="aws_elastic_beanstalk",vr="azure_vm",Sr="azure_container_instances",Er="azure_aks",br="azure_functions",Tr="azure_app_service",Ar="gcp_compute_engine",Rr="gcp_cloud_run",wr="gcp_kubernetes_engine",Or="gcp_cloud_functions",Cr="gcp_app_engine",Mr=dr,Ir=gr,Pr=fr,Dr=hr,Lr=mr,Nr=yr,jr=_r,kr=vr,Ur=Sr,xr=Er,Br=br,Fr=Tr,Wr=Ar,Hr=Rr,Vr=wr,Gr=Or,zr=Cr,qr=(0,n.O)([dr,gr,fr,hr,mr,yr,_r,vr,Sr,Er,br,Tr,Ar,Rr,wr,Or,Cr]),Yr="fargate",Kr="ec2",Zr=Yr,$r=(0,n.O)(["ec2",Yr]),Xr="amd64",Jr="arm32",Qr="arm64",en="ia64",tn="ppc32",rn="ppc64",nn=Xr,on=Jr,sn=Qr,an=en,cn=tn,un=rn,ln="x86",pn=(0,n.O)([Xr,Jr,Qr,en,tn,rn,"x86"]),dn="windows",gn="linux",fn="darwin",hn="freebsd",mn="netbsd",yn="openbsd",_n="dragonflybsd",vn="hpux",Sn="solaris",En="z_os",bn=dn,Tn=gn,An=fn,Rn=hn,wn=mn,On=yn,Cn=_n,Mn=vn,In="aix",Pn=Sn,Dn=En,Ln=(0,n.O)([dn,gn,fn,hn,mn,yn,_n,vn,"aix",Sn,En]),Nn="dotnet",jn="erlang",kn="java",Un="nodejs",xn="python",Bn="ruby",Fn="webjs",Wn="cpp",Hn=Nn,Vn=jn,Gn="go",zn=kn,qn=Un,Yn="php",Kn=xn,Zn=Bn,$n=Fn,Xn=(0,n.O)(["cpp",Nn,jn,"go",kn,Un,"php",xn,Bn,Fn])},1868:(e,t,r)=>{"use strict";r.d(t,{$58:()=>Wn,$5b:()=>sc,$8v:()=>Bi,$wW:()=>Xo,AVC:()=>Ka,Ac3:()=>ar,AdO:()=>Ra,BJ_:()=>Ri,Bez:()=>ha,Bh9:()=>xi,C2y:()=>kn,CGC:()=>Fs,CK9:()=>ns,CQB:()=>zo,CdG:()=>An,D3U:()=>Vs,DA0:()=>vn,DBy:()=>un,DNX:()=>Ft,Dzx:()=>Zo,EPu:()=>Ta,EUV:()=>Ls,E__:()=>Dn,Eh5:()=>Dt,Eo2:()=>qi,F0K:()=>cn,F7w:()=>ln,FoJ:()=>It,G49:()=>Hi,GKr:()=>Kt,GOV:()=>Nn,GR7:()=>Is,GY$:()=>ac,Gsd:()=>Hn,H35:()=>Hr,HVV:()=>rr,HXm:()=>Va,IMI:()=>Oa,IOi:()=>ti,IXq:()=>zn,Ijl:()=>gs,Itx:()=>Nt,IxL:()=>os,JK9:()=>yn,JPM:()=>Ca,JZz:()=>hi,JjG:()=>Ds,K0$:()=>di,K2_:()=>ii,KNN:()=>oc,KSs:()=>zs,KjL:()=>Yo,L2R:()=>$o,L5D:()=>oi,La$:()=>Jr,LfK:()=>Gn,Ltc:()=>hr,LxM:()=>Xt,MWE:()=>Tr,MpS:()=>Vo,N4Y:()=>wi,N9D:()=>Ot,NlA:()=>Vt,NlD:()=>xt,Nxd:()=>Zi,Nz$:()=>Ur,O2W:()=>Gi,OSW:()=>Yi,OdI:()=>xr,Oe4:()=>Ci,Ouu:()=>gn,P4J:()=>zt,PIi:()=>or,PU4:()=>Fo,PfM:()=>fr,Plv:()=>Br,Puv:()=>dr,Q5s:()=>Ii,Q_6:()=>pa,Qgf:()=>Za,QhH:()=>Ua,Qt9:()=>jt,Qv9:()=>Lr,RHQ:()=>Er,Rk0:()=>yi,Rpt:()=>la,Rt6:()=>Mt,RvY:()=>cr,RyT:()=>Sr,Ryq:()=>Xa,Spc:()=>_i,TCh:()=>At,TKU:()=>mi,TRX:()=>nr,TVZ:()=>rn,Ta3:()=>zr,TiO:()=>rc,Tl5:()=>ys,ToY:()=>is,U5o:()=>Vn,Unu:()=>Lt,V02:()=>Qo,V0Q:()=>Rt,VEl:()=>ps,VMk:()=>Wi,Vp5:()=>xo,Vur:()=>Gs,WJJ:()=>Vi,W_O:()=>jr,W_f:()=>Si,Wb_:()=>Uo,Wif:()=>on,Wx7:()=>Yr,X36:()=>vi,XER:()=>Ko,XH7:()=>En,XNY:()=>ir,XTF:()=>ri,Xdf:()=>ni,Xuz:()=>gi,XyR:()=>Wr,Y$v:()=>li,Y3v:()=>jn,Yjy:()=>hn,Ylk:()=>Oi,Ywq:()=>_c,ZSz:()=>Un,ZUK:()=>Cs,ZUg:()=>ur,Zl1:()=>On,Zwr:()=>Bn,_28:()=>wa,_Q_:()=>dc,_Zr:()=>Tn,_af:()=>_n,_iR:()=>Ut,_pX:()=>ic,a4d:()=>Kr,aKn:()=>Qt,aP6:()=>qt,aTe:()=>er,abe:()=>Jt,ay9:()=>tc,b7t:()=>Ga,bWQ:()=>Ia,bZN:()=>mc,bd4:()=>Wt,bes:()=>Zt,bfK:()=>Bo,byW:()=>qr,c1V:()=>Ws,cA3:()=>yr,cAF:()=>Pa,cFk:()=>tr,cSi:()=>br,cZl:()=>In,cd9:()=>wt,ch2:()=>Ja,cjY:()=>Ps,crS:()=>Fr,cvh:()=>Cr,d3j:()=>_s,dNH:()=>Ba,dXK:()=>uc,dbJ:()=>Na,ddb:()=>Ma,dsp:()=>$t,f3T:()=>gc,fN3:()=>Ms,fhG:()=>dn,frU:()=>Xr,fub:()=>Dr,g9x:()=>Ki,gFG:()=>lc,gGD:()=>ka,gUJ:()=>en,h70:()=>gr,hV:()=>bi,hXS:()=>_r,hu9:()=>ya,hze:()=>Aa,i9b:()=>ga,iFX:()=>xa,iPC:()=>ss,imY:()=>sr,ipG:()=>Yt,irN:()=>ci,j$y:()=>pr,j7z:()=>Hs,jCw:()=>Ho,jrL:()=>wr,kOl:()=>vs,kPW:()=>ja,kgK:()=>_a,klU:()=>Or,l60:()=>Pt,lDI:()=>mn,lcm:()=>fi,lpz:()=>Ar,mGg:()=>sn,mN_:()=>ma,mO:()=>Ya,mc2:()=>ui,mlL:()=>ds,nN_:()=>bn,nS0:()=>Gr,nWK:()=>ei,nXs:()=>nc,ngE:()=>ai,njt:()=>Qa,npt:()=>Ha,nvt:()=>lr,nwz:()=>Go,o8O:()=>kr,oBD:()=>Ei,oF4:()=>ls,p1q:()=>cc,p30:()=>Zr,pHC:()=>Gt,pfp:()=>qo,poY:()=>Ai,qGX:()=>Ct,r0m:()=>an,rBh:()=>Sa,rsL:()=>Mn,sLO:()=>Ln,slN:()=>zi,sr7:()=>yc,sxk:()=>pn,t8j:()=>Sn,tGA:()=>$r,tNm:()=>Pn,taz:()=>Rr,ti:()=>nn,tto:()=>Vr,u4L:()=>tn,uZf:()=>ts,ueJ:()=>pc,usz:()=>Mr,uwh:()=>Ea,uzh:()=>fa,v8K:()=>rs,vSt:()=>Pr,vhy:()=>Fi,vl2:()=>pi,vof:()=>Ir,w54:()=>wn,wAY:()=>ec,wJ:()=>$a,wYf:()=>ba,wgx:()=>vr,wpU:()=>Qr,wy2:()=>Ht,x0j:()=>va,x85:()=>Os,xhJ:()=>Wo,xq_:()=>Bt,y3W:()=>ms,y6V:()=>si,yIV:()=>da,yRs:()=>Cn,y__:()=>Mi,yew:()=>xn,ynC:()=>Jo,ynP:()=>mr,z4S:()=>Ns,zBy:()=>fn,zI8:()=>Ss,zPu:()=>Nr,z_u:()=>Fn,zmF:()=>Ti,zpg:()=>Rn,zri:()=>kt});var n=r(9764),o="aws.lambda.invoked_arn",i="db.system",s="db.connection_string",a="db.user",c="db.jdbc.driver_classname",u="db.name",l="db.statement",p="db.operation",d="db.mssql.instance_name",g="db.cassandra.keyspace",f="db.cassandra.page_size",h="db.cassandra.consistency_level",m="db.cassandra.table",y="db.cassandra.idempotence",_="db.cassandra.speculative_execution_count",v="db.cassandra.coordinator.id",S="db.cassandra.coordinator.dc",E="db.hbase.namespace",b="db.redis.database_index",T="db.mongodb.collection",A="db.sql.table",R="exception.type",w="exception.message",O="exception.stacktrace",C="exception.escaped",M="faas.trigger",I="faas.execution",P="faas.document.collection",D="faas.document.operation",L="faas.document.time",N="faas.document.name",j="faas.time",k="faas.cron",U="faas.coldstart",x="faas.invoked_name",B="faas.invoked_provider",F="faas.invoked_region",W="net.transport",H="net.peer.ip",V="net.peer.port",G="net.peer.name",z="net.host.ip",q="net.host.port",Y="net.host.name",K="net.host.connection.type",Z="net.host.connection.subtype",$="net.host.carrier.name",X="net.host.carrier.mcc",J="net.host.carrier.mnc",Q="net.host.carrier.icc",ee="peer.service",te="enduser.id",re="enduser.role",ne="enduser.scope",oe="thread.id",ie="thread.name",se="code.function",ae="code.namespace",ce="code.filepath",ue="code.lineno",le="http.method",pe="http.url",de="http.target",ge="http.host",fe="http.scheme",he="http.status_code",me="http.flavor",ye="http.user_agent",_e="http.request_content_length",ve="http.request_content_length_uncompressed",Se="http.response_content_length",Ee="http.response_content_length_uncompressed",be="http.server_name",Te="http.route",Ae="http.client_ip",Re="aws.dynamodb.table_names",we="aws.dynamodb.consumed_capacity",Oe="aws.dynamodb.item_collection_metrics",Ce="aws.dynamodb.provisioned_read_capacity",Me="aws.dynamodb.provisioned_write_capacity",Ie="aws.dynamodb.consistent_read",Pe="aws.dynamodb.projection",De="aws.dynamodb.limit",Le="aws.dynamodb.attributes_to_get",Ne="aws.dynamodb.index_name",je="aws.dynamodb.select",ke="aws.dynamodb.global_secondary_indexes",Ue="aws.dynamodb.local_secondary_indexes",xe="aws.dynamodb.exclusive_start_table",Be="aws.dynamodb.table_count",Fe="aws.dynamodb.scan_forward",We="aws.dynamodb.segment",He="aws.dynamodb.total_segments",Ve="aws.dynamodb.count",Ge="aws.dynamodb.scanned_count",ze="aws.dynamodb.attribute_definitions",qe="aws.dynamodb.global_secondary_index_updates",Ye="messaging.system",Ke="messaging.destination",Ze="messaging.destination_kind",$e="messaging.temp_destination",Xe="messaging.protocol",Je="messaging.protocol_version",Qe="messaging.url",et="messaging.message_id",tt="messaging.conversation_id",rt="messaging.message_payload_size_bytes",nt="messaging.message_payload_compressed_size_bytes",ot="messaging.operation",it="messaging.consumer_id",st="messaging.rabbitmq.routing_key",at="messaging.kafka.message_key",ct="messaging.kafka.consumer_group",ut="messaging.kafka.client_id",lt="messaging.kafka.partition",pt="messaging.kafka.tombstone",dt="rpc.system",gt="rpc.service",ft="rpc.method",ht="rpc.grpc.status_code",mt="rpc.jsonrpc.version",yt="rpc.jsonrpc.request_id",_t="rpc.jsonrpc.error_code",vt="rpc.jsonrpc.error_message",St="message.type",Et="message.id",bt="message.compressed_size",Tt="message.uncompressed_size",At=o,Rt=i,wt=s,Ot=a,Ct=c,Mt=u,It=l,Pt=p,Dt=d,Lt=g,Nt=f,jt=h,kt=m,Ut=y,xt=_,Bt=v,Ft=S,Wt=E,Ht=b,Vt=T,Gt=A,zt=R,qt=w,Yt=O,Kt=C,Zt=M,$t=I,Xt=P,Jt=D,Qt=L,er=N,tr=j,rr=k,nr=U,or=x,ir=B,sr=F,ar=W,cr=H,ur=V,lr=G,pr=z,dr=q,gr=Y,fr=K,hr=Z,mr=$,yr=X,_r=J,vr=Q,Sr=ee,Er=te,br=re,Tr=ne,Ar=oe,Rr=ie,wr=se,Or=ae,Cr=ce,Mr=ue,Ir=le,Pr=pe,Dr=de,Lr=ge,Nr=fe,jr=he,kr=me,Ur=ye,xr=_e,Br=ve,Fr=Se,Wr=Ee,Hr=be,Vr=Te,Gr=Ae,zr=Re,qr=we,Yr=Oe,Kr=Ce,Zr=Me,$r=Ie,Xr=Pe,Jr=De,Qr=Le,en=Ne,tn=je,rn=ke,nn=Ue,on=xe,sn=Be,an=Fe,cn=We,un=He,ln=Ve,pn=Ge,dn=ze,gn=qe,fn=Ye,hn=Ke,mn=Ze,yn=$e,_n=Xe,vn=Je,Sn=Qe,En=et,bn=tt,Tn=rt,An=nt,Rn=ot,wn=it,On=st,Cn=at,Mn=ct,In=ut,Pn=lt,Dn=pt,Ln=dt,Nn=gt,jn=ft,kn=ht,Un=mt,xn=yt,Bn=_t,Fn=vt,Wn=St,Hn=Et,Vn=bt,Gn=Tt,zn=(0,n.O)([o,i,s,a,c,u,l,p,d,g,f,h,m,y,_,v,S,E,b,T,A,R,w,O,C,M,I,P,D,L,N,j,k,U,x,B,F,W,H,V,G,z,q,Y,K,Z,$,X,J,Q,ee,te,re,ne,oe,ie,se,ae,ce,ue,le,pe,de,ge,fe,he,me,ye,_e,ve,Se,Ee,be,Te,Ae,Re,we,Oe,Ce,Me,Ie,Pe,De,Le,Ne,je,ke,Ue,xe,Be,Fe,We,He,Ve,Ge,ze,qe,Ye,Ke,Ze,$e,Xe,Je,Qe,et,tt,rt,nt,ot,it,st,at,ct,ut,lt,pt,dt,gt,ft,ht,mt,yt,_t,vt,St,Et,bt,Tt]),qn="other_sql",Yn="mssql",Kn="mysql",Zn="oracle",$n="postgresql",Xn="redshift",Jn="hive",Qn="cloudscape",eo="hsqldb",to="progress",ro="maxdb",no="hanadb",oo="ingres",io="firstsql",so="cache",ao="adabas",co="firebird",uo="derby",lo="filemaker",po="informix",go="instantdb",fo="interbase",ho="mariadb",mo="netezza",yo="pervasive",_o="pointbase",vo="sqlite",So="sybase",Eo="teradata",bo="vertica",To="coldfusion",Ao="cassandra",Ro="hbase",wo="mongodb",Oo="redis",Co="couchbase",Mo="couchdb",Io="cosmosdb",Po="dynamodb",Do="neo4j",Lo="geode",No="elasticsearch",jo="memcached",ko="cockroachdb",Uo=qn,xo=Yn,Bo=Kn,Fo=Zn,Wo="db2",Ho=$n,Vo=Xn,Go=Jn,zo=Qn,qo=eo,Yo=to,Ko=ro,Zo=no,$o=oo,Xo=io,Jo="edb",Qo=so,ei=ao,ti=co,ri=uo,ni=lo,oi=po,ii=go,si=fo,ai=ho,ci=mo,ui=yo,li=_o,pi=vo,di=So,gi=Eo,fi=bo,hi="h2",mi=To,yi=Ao,_i=Ro,vi=wo,Si=Oo,Ei=Co,bi=Mo,Ti=Io,Ai=Po,Ri=Do,wi=Lo,Oi=No,Ci=jo,Mi=ko,Ii=(0,n.O)([qn,Yn,Kn,Zn,"db2",$n,Xn,Jn,Qn,eo,to,ro,no,oo,io,"edb",so,ao,co,uo,lo,po,go,fo,ho,mo,yo,_o,vo,So,Eo,bo,"h2",To,Ao,Ro,wo,Oo,Co,Mo,Io,Po,Do,Lo,No,jo,ko]),Pi="each_quorum",Di="quorum",Li="local_quorum",Ni="three",ji="local_one",ki="serial",Ui="local_serial",xi="all",Bi=Pi,Fi=Di,Wi=Li,Hi="one",Vi="two",Gi=Ni,zi=ji,qi="any",Yi=ki,Ki=Ui,Zi=(0,n.O)(["all",Pi,Di,Li,"one","two",Ni,ji,"any",ki,Ui]),$i="datasource",Xi="http",Ji="pubsub",Qi="timer",es="other",ts=$i,rs=Xi,ns=Ji,os=Qi,is=es,ss=(0,n.O)([$i,Xi,Ji,Qi,es]),as="insert",cs="edit",us="delete",ls=as,ps=cs,ds=us,gs=(0,n.O)([as,cs,us]),fs="alibaba_cloud",hs="azure",ms=fs,ys="aws",_s=hs,vs="gcp",Ss=(0,n.O)([fs,"aws",hs,"gcp"]),Es="ip_tcp",bs="ip_udp",Ts="unix",As="pipe",Rs="inproc",ws="other",Os=Es,Cs=bs,Ms="ip",Is=Ts,Ps=As,Ds=Rs,Ls=ws,Ns=(0,n.O)([Es,bs,"ip",Ts,As,Rs,ws]),js="wifi",ks="wired",Us="cell",xs="unavailable",Bs="unknown",Fs=js,Ws=ks,Hs=Us,Vs=xs,Gs=Bs,zs=(0,n.O)([js,ks,Us,xs,Bs]),qs="gprs",Ys="edge",Ks="umts",Zs="cdma",$s="evdo_0",Xs="evdo_a",Js="cdma2000_1xrtt",Qs="hsdpa",ea="hsupa",ta="hspa",ra="iden",na="evdo_b",oa="ehrpd",ia="hspap",sa="td_scdma",aa="iwlan",ca="nrnsa",ua="lte_ca",la=qs,pa=Ys,da=Ks,ga=Zs,fa=$s,ha=Xs,ma=Js,ya=Qs,_a=ea,va=ta,Sa=ra,Ea=na,ba="lte",Ta=oa,Aa=ia,Ra="gsm",wa=sa,Oa=aa,Ca="nr",Ma=ca,Ia=ua,Pa=(0,n.O)([qs,Ys,Ks,Zs,$s,Xs,Js,Qs,ea,ta,ra,na,"lte",oa,ia,"gsm",sa,aa,"nr",ca,ua]),Da="SPDY",La="QUIC",Na="1.0",ja="1.1",ka="2.0",Ua=Da,xa=La,Ba={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:Da,QUIC:La},Fa="queue",Wa="topic",Ha=Fa,Va=Wa,Ga=(0,n.O)([Fa,Wa]),za="receive",qa="process",Ya=za,Ka=qa,Za=(0,n.O)([za,qa]),$a=0,Xa=1,Ja=2,Qa=3,ec=4,tc=5,rc=6,nc=7,oc=8,ic=9,sc=10,ac=11,cc=12,uc=13,lc=14,pc=15,dc=16,gc={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},fc="SENT",hc="RECEIVED",mc=fc,yc=hc,_c=(0,n.O)([fc,hc])},6526:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(r),s=Math.max(o,i),a=0,c=e.map([t,r],(function(t){var r=s-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(a=s-Math.min(o,i)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var o=e[r];if(t(o,r))return o}},e.assign=function(e){for(var t,r,n=e,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var a=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=i.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){}var t,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],null&&s(t.prototype,null),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),o=c(r(93)),i=c(r(94)),s=c(r(95)),a=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,o={},i=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(o[t]=s,i+=1):"object"==typeof s&&(r[t]=s,n+=1)})),n>0){var s=Object.keys(r),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var p=this.satisfies(r[l]);if(void 0!==p)return p}}if(i>0){var d=Object.keys(o),g=a.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==g)return this.compareVersion(o[g])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),o=a.default.getBrowserTypeByAlias(n);return t&&o&&(n=o.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(o,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},r=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=o.default.getMacOSVersionName(t),n={name:i.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=o.default.getAndroidVersionName(t),n={name:i.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:i.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},r=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},r=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},r=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},r=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=s,e.exports=t.default}})},3157:function(__unused_webpack_module,exports,__webpack_require__){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,o=0;o<n;o++){var i=e[o];if(t.call(r,i,o,e))return{i:o,v:i}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==__webpack_require__.g&&null!=__webpack_require__.g?__webpack_require__.g:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,o=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var i=0;i<o&&t<n;)if(r[t++]!=e[i++])return!1;return i>=o}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t},goog.define=function(e,t){if(!COMPILED){var r=goog.global.CLOSURE_UNCOMPILED_DEFINES,n=goog.global.CLOSURE_DEFINES;r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,e)?t=r[e]:n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e])}return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if("string"!=typeof e||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&"function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&null!=goog.getObjectByName(e)},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(null==(t=t[e[r]]))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(e,t,r,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if("string"!=typeof e)throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if("string"!=typeof n||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var o=n.transpile;if(!o){var i=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(i);if(s){if(function(){(0,eval)(s+"\n//# sourceURL="+i)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=(n=goog.global.$jscomp).transpile}}return o||(o=n.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),o(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("script");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},e=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[r].apply(e,o)}},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(t),t};return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(null!=goog.global.CLOSURE_BASE_PATH&&"string"==typeof goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(t=(e=t?[t]:e.getElementsByTagName("SCRIPT")).length-1;0<=t;--t){var r=e[t].src,n=r.lastIndexOf("?");if(n=-1==n?r.length:n,"base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),a("es9",(function(){return b("({...rest} = {}), true")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(e.length){t=[];for(var o=0;o<e.length;o++){var i=this.getPathFromDeps_(e[o]);if(!i)throw Error("Unregonized namespace: "+e[o]);t.push(this.dependencies_[i])}i=goog.require;var s=0;for(o=0;o<e.length;o++)i(e[o]),t[o].onLoad((function(){++s==e.length&&r()}))}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,r=[],n=function(e){var o=t.getPathFromDeps_(e);if(!o)throw Error("Bad dependency path or symbol: "+e);if(!t.written_[o]){for(t.written_[o]=!0,e=t.dependencies_[o],o=0;o<e.requires.length;o++)goog.isProvided_(e.requires[o])||n(e.requires[o]);r.push(e)}};n(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)!function(){var r=!1,n=e.depsToLoad_.shift(),o=!1;e.loading_(n);var i={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(o)throw Error("Double call to loaded.");o=!0,e.loaded_(n)},pending:function(){for(var t=[],r=0;r<e.loadingDeps_.length;r++)t.push(e.loadingDeps_[r]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,r){r&&(goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(n,t)},areDepsLoaded:function(){return e.areDepsLoaded_(n.requires)}};try{n.load(i)}finally{r=!0}}();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_)&&!goog.isProvided_(e[t]))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,n,o){this.path=e,this.relativePath=t,this.provides=r,this.requires=n,this.loadFlags=o,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&0<=(t=(e=e.substring(t+3)).indexOf("/"))&&(e=e.substring(t+1)),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var r=goog.Dependency.callbackMap_[e],n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);r.apply(void 0,n)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var r=goog.Dependency.registerCallback_((function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(r),e.loaded())})),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";n='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+r+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+n+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}else{var o=t.createElement("script");o.defer=goog.Dependency.defer_,o.async=!1,o.type="text/javascript",(n=goog.getScriptNonce())&&o.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(e.loaded(),e.resume())}):o.onload=function(){o.onload=null,e.loaded()},o.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(o)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,n,o){goog.Dependency.call(this,e,t,r,n,o)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document,r=this;if(goog.isDocumentLoading_()){var n=function(e,r){e=r?'<script type="module" crossorigin>'+r+"<\/script>":'<script type="module" crossorigin src="'+e+'"><\/script>',t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(e):e)};goog.Dependency.defer_=!0}else n=function(e,r){var n=t.createElement("script");n.defer=!0,n.async=!1,n.type="module",n.setAttribute("crossorigin",!0);var o=goog.getScriptNonce();o&&n.setAttribute("nonce",o),r?n.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(r):r:n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,t.head.appendChild(n)};var o=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(o),e.setModuleState(goog.ModuleType.ES6)}));n(void 0,'goog.Dependency.callback_("'+o+'")'),n(this.path,void 0);var i=goog.Dependency.registerCallback_((function(t){goog.Dependency.unregisterCallback_(i),e.registerEs6ModuleExports(r.path,t,goog.moduleLoaderState_.moduleName)}));n(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+i+'", m)');var s=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(s),e.clearModuleState(),e.loaded()}));n(void 0,'goog.Dependency.callback_("'+s+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,n,o){goog.Dependency.call(this,e,t,r,n,o),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+="\n//# sourceURL="+n.path))}function r(){if(n.lazyFetch_&&t(),n.contents_){o&&e.setModuleState(goog.ModuleType.ES6);try{var r=n.contents_;if(n.contents_=null,goog.globalEval(r),o)var i=goog.moduleLoaderState_.moduleName}finally{o&&e.clearModuleState()}o&&goog.global.$jscomp.require.ensure([n.getPathName()],(function(){e.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),i)})),e.loaded()}}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var o=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var i=1<e.pending().length,s=i&&goog.DebugLoader_.IS_OLD_IE_;if(i=goog.Dependency.defer_&&(i||goog.isDocumentLoading_()),s||i)e.defer((function(){r()}));else{var a=goog.global.document;if(s=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,o&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!s){goog.Dependency.defer_=!0,e.pause();var c=a.onreadystatechange;a.onreadystatechange=function(){"interactive"==a.readyState&&(a.onreadystatechange=c,r(),e.resume()),goog.isFunction(c)&&c.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var e=goog.global.document,t=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(t),r()})),n='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>";e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,n,o,i){goog.TransformedDependency.call(this,e,t,r,n,o),this.transpiler=i},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,n,o){goog.TransformedDependency.call(this,e,t,r,n,o)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,n,o,i,s){goog.TransformedDependency.call(this,e,t,r,n,o),this.needsTranspile_=i,this.transpiler_=s},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&void 0!==goog.global.JSON?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,n){t=t||[],e=e.replace(/\\/g,"/");var o=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(o,e,t,r,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[o]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=o;this.idToPath_[e]=o},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,n,o,i){return o.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,n,o,i,this.transpiler):i?new goog.TranspiledDependency(e,t,r,n,o,this.transpiler):o.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,n,o):new goog.Es6ModuleDependency(e,t,r,n,o):new goog.Dependency(e,t,r,n,o)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null,r=goog.global.trustedTypes||goog.global.TrustedTypes;if(!r||!r.createPolicy)return t;try{t=r.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var n in e)t.call(r,e[n],n,e)},goog.object.filter=function(e,t,r){var n,o={};for(n in e)t.call(r,e[n],n,e)&&(o[n]=e[n]);return o},goog.object.map=function(e,t,r){var n,o={};for(n in e)o[n]=t.call(r,e[n],n,e);return o},goog.object.some=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,r){for(var n in e)if(!t.call(r,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],n=0;for(t in e)r[n++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],n=0;for(t in e)r[n++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),n=r?t:arguments;for(r=r?0:1;r<n.length;r++){if(null==e)return;e=e[n[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,n,o=1;o<arguments.length;o++){for(r in n=arguments[o])e[r]=n[r];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)r=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<t;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<t;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var o=Object.getOwnPropertyNames(e),i=0;i<o.length;i++)n[o[i]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(e,t,r,n){var o="Assertion failed";if(r){o+=": "+r;var i=n}else e&&(o+=": "+e,i=t);throw Error(""+o,i||[])},jspb.asserts.assert=function(e,t,r){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return e||jspb.asserts.doAssertFailure("",null,t,n),e},jspb.asserts.assertString=function(e,t,r){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return"string"!=typeof e&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(e),e],t,n),e},jspb.asserts.assertArray=function(e,t,r){for(var n=[],o=2;o<arguments.length;++o)n[o-2]=arguments[o];return Array.isArray(e)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(e),e],t,n),e},jspb.asserts.fail=function(e,t){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];throw Error("Failure"+(e?": "+e:""),r)},jspb.asserts.assertInstanceof=function(e,t,r,n){for(var o=[],i=3;i<arguments.length;++i)o[i-3]=arguments[i];return e instanceof t||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(t),jspb.asserts.getType(e)],r,o),e},jspb.asserts.getType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r="",n=(e=e.split("%s")).length-1,o=0;o<n;o++)r+=e[o]+(o<t.length?t[o]:"%s");return r+e[n]},goog.asserts.doAssertFailure_=function(e,t,r,n){var o="Assertion failed";if(r){o+=": "+r;var i=n}else e&&(o+=": "+e,i=t);e=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&"number"!=typeof e&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&"string"!=typeof e&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&"boolean"!=typeof e&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,"string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,r);for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),"string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.lastIndexOf(t,r);for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var n=e.length,o="string"==typeof e?e.split(""):e,i=0;i<n;i++)i in o&&t.call(r,o[i],i,e)},goog.array.forEachRight=function(e,t,r){var n=e.length,o="string"==typeof e?e.split(""):e;for(--n;0<=n;--n)n in o&&t.call(r,o[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=[],i=0,s="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in s){var c=s[a];t.call(r,c,a,e)&&(o[i++]=c)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=Array(n),i="string"==typeof e?e.split(""):e,s=0;s<n;s++)s in i&&(o[s]=t.call(r,i[s],s,e));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,n){var o=r;return goog.array.forEach(e,(function(r,i){o=t.call(n,o,r,i,e)})),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,n){var o=r;return goog.array.forEachRight(e,(function(r,i){o=t.call(n,o,r,i,e)})),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var n=e.length,o="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in o&&t.call(r,o[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var n=e.length,o="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in o&&!t.call(r,o[i],i,e))return!1;return!0},goog.array.count=function(e,t,r){var n=0;return goog.array.forEach(e,(function(e,o,i){t.call(r,e,o,i)&&++n}),r),n},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:"string"==typeof e?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var n=e.length,o="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in o&&t.call(r,o[i],i,e))return i;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:"string"==typeof e?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var n=e.length,o="string"==typeof e?e.split(""):e;for(--n;0<=n;n--)if(n in o&&t.call(r,o[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!Array.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var n;2==arguments.length||0>(n=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var n=0;return goog.array.forEachRight(e,(function(o,i){t.call(r,o,i,e)&&goog.array.removeAt(e,i)&&n++})),n},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var o=e.length||0,i=n.length||0;e.length=o+i;for(var s=0;s<i;s++)e[o+s]=n[s]}else e.push(n)}},goog.array.splice=function(e,t,r,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||n,n={};for(var o=0,i=0;i<e.length;){var s=e[i++],a=r(s);Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,t[o++]=s)}t.length=o},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,n,o){for(var i,s=0,a=e.length;s<a;){var c=s+(a-s>>>1),u=r?t.call(o,e[c],c,e):t(n,e[c]);0<u?s=c+1:(a=c,i=!u)}return i?s:-s-1},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]={index:n,value:e[n]};var o=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return o(e.value,t.value)||e.index-t.index})),n=0;n<e.length;n++)e[n]=r[n].value},goog.array.sortByKey=function(e,t,r){var n=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return n(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var o=t(e[n-1],e[n]);if(0<o||0==o&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;r=r||goog.array.defaultCompareEquality;for(var o=0;o<n;o++)if(!r(e[o],t[o]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),o=0;o<n;o++){var i=r(e[o],t[o]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var n={},o=0;o<e.length;o++){var i=e[o],s=t.call(r,i,o,e);void 0!==s&&(n[s]||(n[s]=[])).push(i)}return n},goog.array.toObject=function(e,t,r){var n={};return goog.array.forEach(e,(function(o,i){n[t.call(r,o,i,e)]=o})),n},goog.array.range=function(e,t,r){var n=[],o=0,i=e;if(void 0!==t&&(o=e,i=t),0>(r=r||1)*(i-o))return[];if(0<r)for(e=o;e<i;e+=r)n.push(e);else for(e=o;e>i;e+=r)n.push(e);return n},goog.array.repeat=function(e,t){for(var r=[],n=0;n<t;n++)r[n]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(Array.isArray(n))for(var o=0;o<n.length;o+=8192){var i=goog.array.slice(n,o,o+8192);i=goog.array.flatten.apply(null,i);for(var s=0;s<i.length;s++)t.push(i[s])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i][n]);t.push(o)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var n=Math.floor(t()*(r+1)),o=e[r];e[r]=e[n],e[n]=o}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);255<o&&(t[r++]=255&o,o>>=8),t[r++]=o}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var n=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t[r++]=o:(2048>o?t[r++]=o>>6|192:(55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[r++]=o>>18|240,t[r++]=o>>12&63|128):t[r++]=o>>12|224,t[r++]=o>>6&63|128),t[r++]=63&o|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,n=0;r<e.length;){var o=e[r++];if(128>o)t[n++]=String.fromCharCode(o);else if(191<o&&224>o){var i=e[r++];t[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&365>o){i=e[r++];var s=e[r++];o=((7&o)<<18|(63&i)<<12|(63&s)<<6|63&e[r++])-65536,t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else i=e[r++],s=e[r++],t[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],n=0;n<e.length;n++)r.push(e[n]^t[n]);return r},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,n=r.length;return function(){var e;n&&(e=r[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,n=0;n<r;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var n=0;return function(o){goog.global.clearTimeout(n);var i=arguments;n=goog.global.setTimeout((function(){e.apply(r,i)}),t)}},goog.functions.throttle=function(e,t,r){var n=0,o=!1,i=[],s=function(){n=0,o&&(o=!1,a())},a=function(){n=goog.global.setTimeout(s,t),e.apply(r,i)};return function(e){i=arguments,n?o=!0:a()}},goog.functions.rateLimit=function(e,t,r){var n=0,o=function(){n=0};return function(i){n||(n=goog.global.setTimeout(o,t),e.apply(r,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],n=1;n<arguments.length;n++)r.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(e){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(e){},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return void 0!==goog.global.URL&&void 0!==goog.global.URL.createObjectURL?goog.global.URL:void 0!==goog.global.webkitURL&&void 0!==goog.global.webkitURL.createObjectURL?goog.global.webkitURL:void 0!==goog.global.createObjectURL?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.fs.blob={},goog.fs.blob.getBlob=function(e){var t=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==t){t=new t;for(var r=0;r<arguments.length;r++)t.append(arguments[r]);return t.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(e,t,r){var n=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==n){n=new n;for(var o=0;o<e.length;o++)n.append(e[o],r);return n.getBlob(t)}if(void 0!==goog.global.Blob)return n={},t&&(n.type=t),r&&(n.endings=r),new Blob(e,n);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\ud801\ud804-\ud839\ud83c-\udbff豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\ud802-\ud803\ud83a-\ud83bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,n=0,o=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var i=e[t];goog.i18n.bidi.startsWithRtl(i)?(r++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?o=!0:goog.i18n.bidi.hasAnyLtr(i)?n++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(o=!0)}return 0==n?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(e,t){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),n=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,n){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,n)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.fromSafeScript=function(e){return e=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(e)],"text/javascript"),e=goog.fs.url.createObjectUrl(e),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){return e=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if("string"==typeof r)return r?e+encodeURIComponent(r):"";for(var n in r){var o=r[n];o=Array.isArray(o)?o:[o];for(var i=0;i<o.length;i++){var s=o[i];null!=s&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(s)))}}return t},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var n=Math.max(e.length,t.length),o=0;0==r&&o<n;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;r=0==i[1].length?0:parseInt(i[1],10);var a=0==s[1].length?0:parseInt(s[1],10);r=goog.string.internal.compareElements_(r,a)||goog.string.internal.compareElements_(0==i[2].length,0==s[2].length)||goog.string.internal.compareElements_(i[2],s[2]),i=i[3],s=s[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.html.SafeUrl=function(e,t){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=e===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SafeUrl.isSafeMimeType(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromMediaSource=function(e){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),e=e instanceof MediaSource?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SafeUrl.isSafeMimeType(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(r+=t+":"+(n=Array.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,n=0;n<e.length;n++){var o=e.charAt(n);"'"==o&&r?t=!t:'"'==o&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,n=0;n<e.length;n++){var o=e.charAt(n);if("]"==o){if(t)return!1;t=!0}else if("["==o){if(!t)return!1;t=!1}else if(!t&&!r.test(o))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,r,n){var o="";return r=r.replace(/^(['"])(.*)\1$/,(function(e,t,r){return o=t,r})),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+o+e+o+n}))},goog.html.SafeStyle.concat=function(e){var t="",r=function(e){Array.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],n=0;n<e.length;n++){var o=e[n];if(t[o])r.push(t[o]);else if(goog.object.contains(t,o)&&r.pop()!=o)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){Array.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=r.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS","HeadlessChrome"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(e){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("\x3c!--"+goog.string.internal.htmlEscape(e)+"--\x3e",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+e+">.":"");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+e+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(e,t,r,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var o={};return o.src=e||null,o.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var o={};return o.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,o.srcdoc=t||null,o.sandbox="",e=goog.html.SafeHtml.combineAttributes(o,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var n=r.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+n+'" attribute':"")}for(r="",e=goog.array.concat(e),n=0;n<e.length;n++)r+=goog.html.SafeScript.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var n=0;n<e.length;n++)r+=goog.html.SafeStyleSheet.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase()){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");r=goog.html.SafeHtml.getStyleValue_(r)}else{if(/^on/i.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.':"");if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if("string"!=typeof r)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.':"");r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert("string"==typeof r||"number"==typeof r,"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e:"");return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,n){return(t=goog.html.SafeHtml.create(t,r,n)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),n=[],o=function(e){Array.isArray(e)?goog.array.forEach(e,o):(e=goog.html.SafeHtml.htmlEscape(e),n.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var n=null,o="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return null==r?r=[]:Array.isArray(r)||(r=[r]),goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),o+=">"):(n=goog.html.SafeHtml.concat(r),o+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+n+'".':"");var o=t[n];null!=o&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,o))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var n,o={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=t[n];if(r)for(n in r){var i=n.toLowerCase();if(i in e)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+i+'" attribute, got "'+n+'" with value "'+r[n]+'"':"");i in t&&delete o[i],o[n]=r[n]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild||(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),t.parentElement))})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.replaceLocation=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.openInWindow=function(e,t,r,n,o){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t=t||goog.global,r=r instanceof goog.string.Const?goog.string.Const.unwrap(r):r||"",t.open(goog.html.SafeUrl.unwrap(e),r,n,o)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),n="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)n+=r.shift()+o.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(r),o=t.toLowerCase().match(r),i=Math.min(n.length,o.length),s=0;s<i;s++){r=n[s];var a=o[s];if(r!=a)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:r<a?-1:1}return n.length!=o.length?n.length-o.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var o=r[e];return o||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(o=String.fromCharCode(t))),o||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),o=n.firstChild.nodeValue.slice(0,-1)),r[e]=o)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,n=0;n<r;n++){var o=1==r?t:t.charAt(n);if(e.charAt(0)==o&&e.charAt(e.length-1)==o)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,n){if(r&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var o=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(o)}else e.length>t&&(n=Math.floor(t/2),o=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(o));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n=e.charAt(r),o=n.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[n]||(31<o&&127>o?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var n=e;return 0<=t&&t<e.length&&0<r&&(n=e.substr(0,t)+e.substr(t+r,e.length-t-r)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=void 0!==r?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t="string"==typeof t?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),"string"==typeof e?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var n=[];0<r&&e.length;)n.push(e.shift()),r--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,n=0;n<t.length;n++)if(""!=t[n]){var o=e.lastIndexOf(t[n]);o>r&&(r=o)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var o=0;o<t.length+1;o++)r[o]=o;for(o=0;o<e.length;o++){n[0]=o+1;for(var i=0;i<t.length;i++)n[i+1]=Math.min(n[i]+1,r[i+1]+1,r[i]+Number(e[o]!=t[i]));for(i=0;i<r.length;i++)r[i]=n[i]}return n[t.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=r(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()||parseInt(goog.userAgent.VERSION,10)||void 0}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],n=0;n<e.length;n+=3){var o=e[n],i=n+1<e.length,s=i?e[n+1]:0,a=n+2<e.length,c=a?e[n+2]:0,u=o>>2;o=(3&o)<<4|s>>4,s=(15&s)<<2|c>>6,c&=63,a||(c=64,i||(s=64)),r.push(t[u],t[o],t[s]||"",t[c]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){r+=String.fromCharCode(e)})),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){r.push(e)})),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var n=new Uint8Array(r),o=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){n[o++]=e})),n.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),o=goog.crypt.base64.charToByteMap_[r];if(null!=o)return o;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var n=0;;){var o=r(-1),i=r(0),s=r(64),a=r(64);if(64===a&&-1===o)break;t(o<<2|i>>4),64!=s&&(t(i<<4&240|s>>2),64!=a&&t(s<<6&192|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=n;for(var o=0;o<n.length;o++){var i=n[o],s=goog.crypt.base64.charToByteMap_[i];void 0===s?goog.crypt.base64.charToByteMap_[i]=o:goog.asserts.assert(s===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),16777216<=(e=Math.round(e*jspb.BinaryConstants.TWO_TO_23))&&++r,jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|8388607&e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var n=0;if(2<=(r=e))for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;e=(r=e*Math.pow(2,-n))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|n+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),i=e.charCodeAt(4),s=e.charCodeAt(5),a=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(n<<16)+(o<<24)>>>0,jspb.utils.split64High=i+(s<<8)+(a<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var n=t>>31;return r(e<<1^n,(t<<1|e>>>31)^n)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var n=-(1&e);return r((e>>>1|t<<31)^n,t>>>1^n)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?r*Math.pow(2,-1074)*e:r*Math.pow(2,n-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+jspb.utils.joinUint64(e,t);var n=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*n+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),r(t,0)+r(n,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=jspb.utils.hash64ToDecimalString(e[n],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}jspb.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],o=0;o<e.length;o++)t(10,e.charCodeAt(o)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),goog.crypt.byteArrayToString(n)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(n>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&n)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),jspb.asserts.assert(18==e.length),jspb.asserts.assert("0"==e[0]),jspb.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var n=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*n+o)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var n=0,o=t;o<r;o++)n+=e[o]>>7;return r-t-n},jspb.utils.countVarintFields=function(e,t,r,n){var o=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==n;)for(o++;;){var i=e[t++];if(!(128&i))break}else for(;t<r;){for(i=n;128<i;){if(e[t]!=(127&i|128))return o;t++,i>>=7}if(e[t++]!=i)break;for(o++;128&(i=e[t++]););}return o},jspb.utils.countFixedFields_=function(e,t,r,n,o){var i=0;if(128>n)for(;t<r&&e[t++]==n;)i++,t+=o;else for(;t<r;){for(var s=n;128<s;){if(e[t++]!=(127&s|128))return i;s>>=7}if(e[t++]!=s)break;i++,t+=o}return i},jspb.utils.countFixed32Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,n){var o=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var i=n;128<i;){if(e[t++]!=(127&i|128))return o;i>>=7}if(e[t++]!=i)break;o++;for(var s=0,a=1;s+=(127&(i=e[t++]))*a,a*=128,128&i;);t+=s}return o},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):e instanceof Uint8Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return e&&n.setBlock(e,t,r),n}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,n=0,o=0;4>o&&128<=t;o++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*o;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,n|=(127&t)>>4),128<=t)for(o=0;5>o&&128<=t;o++)n|=(127&(t=this.bytes_[this.cursor_++]))<<7*o+3;if(128>t)return e(r>>>0,n>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var n=0,o=0,i=r+7;i>=r;i--)n=n<<8|t[i],o=o<<8|t[i+4];return e(n,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),e|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(e|t<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(e|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),e|t<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var n=[],o="";r<e;){var i=t[r++];if(128>i)n.push(i);else{if(192>i)continue;if(224>i){var s=t[r++];n.push((31&i)<<6|63&s)}else if(240>i){s=t[r++];var a=t[r++];n.push((15&i)<<12|(63&s)<<6|63&a)}else 248>i&&(i=(7&i)<<18|(63&(s=t[r++]))<<12|(63&(a=t[r++]))<<6|63&t[r++],i-=65536,n.push(55296+(i>>10&1023),56320+(1023&i)))}8192<=n.length&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+=goog.crypt.byteArrayToString(n),this.cursor_=r,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,jspb.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],n=e[t+1],o=e[t+2],i=e[t+3],s=e[t+4],a=e[t+5],c=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,n,o,i,s,a,c,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return e&&n.decoder_.setBlock(e,t,r),n}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return jspb.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],jspb.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),t(e,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(e,t,r){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){jspb.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){jspb.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){jspb.asserts.assert("boolean"==typeof e||"number"==typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){var t=this.buffer_.length;jspb.asserts.assertString(e);for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<e.length){var o=e.charCodeAt(r+1);56320<=o&&57343>=o&&(n=1024*(n-55296)+o-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-t},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,n=65535&t,o=t>>>16;for(t=r*n+65536*(r*o&65535)+65536*((e>>>=16)*n&65535),r=e*o+(r*o>>>16)+(e*n>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var n=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),n=n.leftShift();for(;!n.zero();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.rightShift(),n=n.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;var o=parseInt(e[n],10);r.lo=o,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=!!(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,jspb.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,n=0,o=0;o<r;o++){var i=t[o];e.set(i,n),n+=i.length}return t=this.encoder_.end(),e.set(t,n),n+=t.length,jspb.asserts.assert(n==e.length),this.blocks_=[e],e},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){jspb.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var n=jspb.BinaryConstants.FieldType;switch(e){case n.DOUBLE:this.writeDouble(t,r);break;case n.FLOAT:this.writeFloat(t,r);break;case n.INT64:this.writeInt64(t,r);break;case n.UINT64:this.writeUint64(t,r);break;case n.INT32:this.writeInt32(t,r);break;case n.FIXED64:this.writeFixed64(t,r);break;case n.FIXED32:this.writeFixed32(t,r);break;case n.BOOL:this.writeBool(t,r);break;case n.STRING:this.writeString(t,r);break;case n.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(t,r);break;case n.UINT32:this.writeUint32(t,r);break;case n.ENUM:this.writeEnum(t,r);break;case n.SFIXED32:this.writeSfixed32(t,r);break;case n.SFIXED64:this.writeSfixed64(t,r);break;case n.SINT32:this.writeSint32(t,r);break;case n.SINT64:this.writeSint64(t,r);break;case n.FHASH64:this.writeFixedHash64(t,r);break;case n.VHASH64:this.writeVarintHash64(t,r);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(jspb.asserts.assert("boolean"==typeof t||"number"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(jspb.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(jspb.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(t,r,(function(e,t){n.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitFixed64(e,r(t[o]),n(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitVarint64(e,r(t[o]),n(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitZigzagVarint64(e,r(t[o]),n(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var o=this.beginDelimited_(e);r(t[n],this),this.endDelimited_(o)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[n],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitFixed64(r(t[o]),n(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitVarint64(r(t[o]),n(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var o=this.encoder_,i=0;i<t.length;i++)jspb.utils.toZigzag64(r(t[i]),n(t[i]),(function(e,t){o.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var n=this.map_[t[e]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),n=[],o=0;o<r.length;o++){var i=this.map_[r[o][0].toString()];this.wrapEntry_(i);var s=i.valueWrapper;s?(jspb.asserts.assert(t),n.push([i.key,t(e,s)])):n.push([i.key,i.value])}return n},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var n=0;n<e.length;n++){var o=e[n][0],i=r(e[n][1]);t.set(o,i)}return t},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,n.value])}return e},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var o=this.map_[r[n]];e.call(t,this.wrapEntry_(o),o.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(e){return e.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(e,t,r,n,o){var i=this.stringKeys_();i.sort();for(var s=0;s<i.length;s++){var a=this.map_[i[s]];t.beginSubMessage(e),r.call(t,1,a.key),this.valueCtor_?n.call(t,2,this.wrapEntry_(a),o):n.call(t,2,a.value),t.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(e,t,r,n,o,i,s){for(;t.nextField()&&!t.isEndGroup();){var a=t.getFieldNumber();1==a?i=r.call(t):2==a&&(e.valueCtor_?(jspb.asserts.assert(o),s||(s=new e.valueCtor_),n.call(t,s,o)):s=n.call(t))}jspb.asserts.assert(null!=i),jspb.asserts.assert(null!=s),e.set(i,s)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,n,o){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=n,this.isRepeated=o},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(e,t,r,n,o,i){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=o,this.isPacked=i},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,n,o,i){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,n),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=o),o)for(t=0;t<o.length;t++)(r=o[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(i&&i.length)for(t=0;t<i.length;t++)jspb.Message.computeOneofCase(e,i[t])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,n=-1;if(r&&(n=r-1,r=e.array[n],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,n),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,n+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var n=[],o=0;o<e.length;o++)n[o]=t.call(e[o],r,e[o]);return n},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(e,t,r,n,o){for(var i in r){var s=r[i],a=n.call(e,s);if(null!=a){for(var c in s.fieldName)if(s.fieldName.hasOwnProperty(c))break;t[c]=s.toObjectFn?s.isRepeated?jspb.Message.toObjectList(a,s.toObjectFn,o):s.toObjectFn(o,a):a}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(e,t,r,n){for(var o in r){var i=r[o],s=i.fieldInfo;if(!i.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=n.call(e,s);if(null!=a)if(s.isMessageType()){if(!i.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");i.binaryWriterFn.call(t,s.fieldIndex,a,i.binaryMessageSerializeFn)}else i.binaryWriterFn.call(t,s.fieldIndex,a)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(e,t,r,n,o){var i=r[t.getFieldNumber()];if(i){if(r=i.fieldInfo,!i.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var s=new r.ctor;i.binaryReaderFn.call(t,s,i.binaryMessageDeserializeFn)}else s=i.binaryReaderFn.call(t);r.isRepeated&&!i.isPacked?(t=n.call(e,r))?t.push(s):o.call(e,r,[s]):o.call(e,r,s)}else t.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.convertedPrimitiveFields_[t]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.convertedPrimitiveFields_[t]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(e){return null==e||"string"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var o=jspb.Message.getField(e,t);if(!o){if(r)return;o=[],jspb.Message.setField(e,t,o)}return e.wrappers_[t]=new jspb.Map(o,n)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(e,t,r){return jspb.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(e,t,r,n){return jspb.asserts.assertInstanceof(e,jspb.Message),r!==n?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,r,n){return jspb.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null!=n?t.splice(n,0,r):t.push(r),e},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(e,t,r,n){return jspb.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==n&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,n)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(e,t){for(var r,n,o=0;o<t.length;o++){var i=t[o],s=jspb.Message.getField(e,i);null!=s&&(r=i,n=s,jspb.Message.setField(e,i,void 0))}return r?(jspb.Message.setField(e,r,n),r):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var o=jspb.Message.getField(e,r);(n||o)&&(e.wrappers_[r]=new t(o))}return e.wrappers_[r]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(e,r),o=[],i=0;i<n.length;i++)o[i]=new t(n[i]);e.wrappers_[r]=o}},jspb.Message.setWrapperField=function(e,t,r){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(e,t,r,n){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=n?n.toArray():n;return e.wrappers_[t]=n,jspb.Message.setOneofField(e,t,r,o)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(e,t,r){jspb.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var n=[],o=0;o<r.length;o++)n[o]=r[o].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(e,t,r,n,o){jspb.Message.wrapRepeatedField_(e,n,t);var i=e.wrappers_[t];return i||(i=e.wrappers_[t]=[]),r=r||new n,e=jspb.Message.getRepeatedField(e,t),null!=o?(i.splice(o,0,r),e.splice(o,0,r.toArray())):(i.push(r),e.push(r.toArray())),r},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(e,t,r,n){for(var o={},i=0;i<e.length;i++)o[t.call(e[i])]=r?r.call(e[i],n,e[i]):e[i];return o},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var n=[],o=0,i=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(n[0]=e.getJsPbMessageId(),o=1);o<i;o++)jspb.Message.compareFields(r[o],t[o])||(n[o]=t[o]);return new e.constructor(n)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,n={};for(r in e)n[r]=0;for(r in t)n[r]=0;for(r in n)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,o=void 0,i=Math.max(e.length,t.length);for(r=0;r<i;r++){var s=e[r],a=t[r];if(s&&s.constructor==Object&&(jspb.asserts.assert(void 0===n),jspb.asserts.assert(r===e.length-1),n=s,s=void 0),a&&a.constructor==Object&&(jspb.asserts.assert(void 0===o),jspb.asserts.assert(r===t.length-1),o=a,a=void 0),!jspb.Message.compareFields(s,a))return!1}return!n&&!o||(n=n||{},o=o||{},jspb.Message.compareExtensions(n,o))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){jspb.asserts.assertInstanceof(e,jspb.Message),jspb.asserts.assertInstanceof(t,jspb.Message),jspb.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),n=e.toArray(),o=r.length=0;o<n.length;o++)r[o]=n[o];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];null!=n&&(t[r]="object"==typeof n?jspb.Message.clone_(jspb.asserts.assert(n)):n)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(n=e[r])&&(t[r]="object"==typeof n?jspb.Message.clone_(jspb.asserts.assert(n)):n);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf},1458:(e,t,r)=>{var n=r(3157),o=n,i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof window&&window||void 0!==i&&i||"undefined"!=typeof self&&self||function(){return this}.call(null)||Function("return this")();o.exportSymbol("proto.google.protobuf.Empty",null,i),proto.google.protobuf.Empty=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.google.protobuf.Empty,n.Message),o.DEBUG&&!COMPILED&&(proto.google.protobuf.Empty.displayName="proto.google.protobuf.Empty"),n.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Empty.prototype.toObject=function(e){return proto.google.protobuf.Empty.toObject(e,this)},proto.google.protobuf.Empty.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.Empty.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.google.protobuf.Empty;return proto.google.protobuf.Empty.deserializeBinaryFromReader(r,t)},proto.google.protobuf.Empty.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.google.protobuf.Empty.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.google.protobuf.Empty.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Empty.serializeBinaryToWriter=function(e,t){},o.object.extend(t,proto.google.protobuf)},8767:(e,t,r)=>{"use strict";r.r(t),r.d(t,{performance:()=>n});const n=("undefined"!=typeof globalThis?globalThis:r.g).performance},6893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RateLimiter=void 0;const n=r(3532),o=r(6929);t.RateLimiter=class{constructor(e){let{tokensPerInterval:t,interval:r,fireImmediately:i}=e;this.tokenBucket=new n.TokenBucket({bucketSize:t,tokensPerInterval:t,interval:r}),this.tokenBucket.content=t,this.curIntervalStart=o.getMilliseconds(),this.tokensThisInterval=0,this.fireImmediately=null!=i&&i}async removeTokens(e){if(e>this.tokenBucket.bucketSize)throw new Error(`Requested tokens ${e} exceeds maximum tokens per interval ${this.tokenBucket.bucketSize}`);const t=o.getMilliseconds();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)return-1;{const r=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-t);await o.wait(r);const n=await this.tokenBucket.removeTokens(e);return this.tokensThisInterval+=e,n}}const r=await this.tokenBucket.removeTokens(e);return this.tokensThisInterval+=e,r}tryRemoveTokens(e){if(e>this.tokenBucket.bucketSize)return!1;const t=o.getMilliseconds();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;const r=this.tokenBucket.tryRemoveTokens(e);return r&&(this.tokensThisInterval+=e),r}getTokensRemaining(){return this.tokenBucket.drip(),this.tokenBucket.content}}},3532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenBucket=void 0;const n=r(6929);t.TokenBucket=class{constructor(e){let{bucketSize:t,tokensPerInterval:r,interval:o,parentBucket:i}=e;if(this.bucketSize=t,this.tokensPerInterval=r,"string"==typeof o)switch(o){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invalid interval "+o)}else this.interval=o;this.parentBucket=i,this.content=0,this.lastDrip=n.getMilliseconds()}async removeTokens(e){if(0===this.bucketSize)return Number.POSITIVE_INFINITY;if(e>this.bucketSize)throw new Error(`Requested tokens ${e} exceeds bucket size ${this.bucketSize}`);this.drip();const t=async()=>{const t=Math.ceil((e-this.content)*(this.interval/this.tokensPerInterval));return await n.wait(t),this.removeTokens(e)};if(e>this.content)return t();if(null!=this.parentBucket){const r=await this.parentBucket.removeTokens(e);return e>this.content?t():(this.content-=e,Math.min(r,this.content))}return this.content-=e,this.content}tryRemoveTokens(e){return!(this.bucketSize&&(e>this.bucketSize||(this.drip(),e>this.content||this.parentBucket&&!this.parentBucket.tryRemoveTokens(e)||(this.content-=e,0))))}drip(){if(0===this.tokensPerInterval){const e=this.content;return this.content=this.bucketSize,this.content>e}const e=n.getMilliseconds(),t=Math.max(e-this.lastDrip,0);this.lastDrip=e;const r=t*(this.tokensPerInterval/this.interval),o=this.content;return this.content=Math.min(this.content+r,this.bucketSize),Math.floor(this.content)>Math.floor(o)}}},6929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wait=t.getMilliseconds=void 0;const n=r(8767);t.getMilliseconds=function(){const[e,t]=function(e){const t=.001*n.performance.now();let r=Math.floor(t),o=Math.floor(t%1*1e9);return[r,o]}();return 1e3*e+Math.floor(t/1e6)},t.wait=function(e){return new Promise((t=>setTimeout(t,e)))}},5147:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6893),t),o(r(3532),t)},3121:function(e,t,r){var n;e=r.nmd(e),function(){var o,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,p=9007199254740991,d=NaN,g=4294967295,f=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],h="[object Arguments]",m="[object Array]",y="[object Boolean]",_="[object Date]",v="[object Error]",S="[object Function]",E="[object GeneratorFunction]",b="[object Map]",T="[object Number]",A="[object Object]",R="[object Promise]",w="[object RegExp]",O="[object Set]",C="[object String]",M="[object Symbol]",I="[object WeakMap]",P="[object ArrayBuffer]",D="[object DataView]",L="[object Float32Array]",N="[object Float64Array]",j="[object Int8Array]",k="[object Int16Array]",U="[object Int32Array]",x="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,Y=RegExp(z.source),K=RegExp(q.source),Z=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Re="A-Z\\xc0-\\xd6\\xd8-\\xde",we="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="["+Ee+"]",Me="["+Oe+"]",Ie="["+be+"]",Pe="\\d+",De="["+Te+"]",Le="["+Ae+"]",Ne="[^"+Ee+Oe+Pe+Te+Ae+Re+"]",je="\\ud83c[\\udffb-\\udfff]",ke="[^"+Ee+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Re+"]",Fe="\\u200d",We="(?:"+Le+"|"+Ne+")",He="(?:"+Be+"|"+Ne+")",Ve="(?:['’](?:d|ll|m|re|s|t|ve))?",Ge="(?:['’](?:D|LL|M|RE|S|T|VE))?",ze="(?:"+Ie+"|"+je+")?",qe="["+we+"]?",Ye=qe+ze+"(?:"+Fe+"(?:"+[ke,Ue,xe].join("|")+")"+qe+ze+")*",Ke="(?:"+[De,Ue,xe].join("|")+")"+Ye,Ze="(?:"+[ke+Ie+"?",Ie,Ue,xe,Ce].join("|")+")",$e=RegExp("['’]","g"),Xe=RegExp(Ie,"g"),Je=RegExp(je+"(?="+je+")|"+Ze+Ye,"g"),Qe=RegExp([Be+"?"+Le+"+"+Ve+"(?="+[Me,Be,"$"].join("|")+")",He+"+"+Ge+"(?="+[Me,Be+We,"$"].join("|")+")",Be+"?"+We+"+"+Ve,Be+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Ke].join("|"),"g"),et=RegExp("["+Fe+Ee+be+we+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,ot={};ot[L]=ot[N]=ot[j]=ot[k]=ot[U]=ot[x]=ot[B]=ot[F]=ot[W]=!0,ot[h]=ot[m]=ot[P]=ot[y]=ot[D]=ot[_]=ot[v]=ot[S]=ot[b]=ot[T]=ot[A]=ot[w]=ot[O]=ot[C]=ot[I]=!1;var it={};it[h]=it[m]=it[P]=it[D]=it[y]=it[_]=it[L]=it[N]=it[j]=it[k]=it[U]=it[b]=it[T]=it[A]=it[w]=it[O]=it[C]=it[M]=it[x]=it[B]=it[F]=it[W]=!0,it[v]=it[S]=it[I]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ct=parseInt,ut="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,lt="object"==typeof self&&self&&self.Object===Object&&self,pt=ut||lt||Function("return this")(),dt=t&&!t.nodeType&&t,gt=dt&&e&&!e.nodeType&&e,ft=gt&&gt.exports===dt,ht=ft&&ut.process,mt=function(){try{return gt&&gt.require&&gt.require("util").types||ht&&ht.binding&&ht.binding("util")}catch(e){}}(),yt=mt&&mt.isArrayBuffer,_t=mt&&mt.isDate,vt=mt&&mt.isMap,St=mt&&mt.isRegExp,Et=mt&&mt.isSet,bt=mt&&mt.isTypedArray;function Tt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function At(e,t,r,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(n,s,r(s),e)}return n}function Rt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function wt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Ct(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[o++]=s)}return i}function Mt(e,t){return!(null==e||!e.length)&&Bt(e,t,0)>-1}function It(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}function Pt(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function Dt(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function Lt(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function Nt(e,t,r,n){var o=null==e?0:e.length;for(n&&o&&(r=e[--o]);o--;)r=t(r,e[o],o,e);return r}function jt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var kt=Vt("length");function Ut(e,t,r){var n;return r(e,(function(e,r,o){if(t(e,r,o))return n=r,!1})),n}function xt(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Bt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,r):xt(e,Wt,r)}function Ft(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function Wt(e){return e!=e}function Ht(e,t){var r=null==e?0:e.length;return r?qt(e,t)/r:d}function Vt(e){return function(t){return null==t?o:t[e]}}function Gt(e){return function(t){return null==e?o:e[t]}}function zt(e,t,r,n,o){return o(e,(function(e,o,i){r=n?(n=!1,e):t(r,e,o,i)})),r}function qt(e,t){for(var r,n=-1,i=e.length;++n<i;){var s=t(e[n]);s!==o&&(r=r===o?s:r+s)}return r}function Yt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Kt(e){return e?e.slice(0,pr(e)+1).replace(ne,""):e}function Zt(e){return function(t){return e(t)}}function $t(e,t){return Pt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Jt(e,t){for(var r=-1,n=e.length;++r<n&&Bt(t,e[r],0)>-1;);return r}function Qt(e,t){for(var r=e.length;r--&&Bt(t,e[r],0)>-1;);return r}var er=Gt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tr=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rr(e){return"\\"+st[e]}function nr(e){return et.test(e)}function or(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function ir(e,t){return function(r){return e(t(r))}}function sr(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,i[o++]=r)}return i}function ar(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function ur(e){return nr(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):kt(e)}function lr(e){return nr(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function pr(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var dr=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gr=function e(t){var r,n=(t=null==t?pt:gr.defaults(pt.Object(),t,gr.pick(pt,rt))).Array,oe=t.Date,Ee=t.Error,be=t.Function,Te=t.Math,Ae=t.Object,Re=t.RegExp,we=t.String,Oe=t.TypeError,Ce=n.prototype,Me=be.prototype,Ie=Ae.prototype,Pe=t["__core-js_shared__"],De=Me.toString,Le=Ie.hasOwnProperty,Ne=0,je=(r=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",ke=Ie.toString,Ue=De.call(Ae),xe=pt._,Be=Re("^"+De.call(Le).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=ft?t.Buffer:o,We=t.Symbol,He=t.Uint8Array,Ve=Fe?Fe.allocUnsafe:o,Ge=ir(Ae.getPrototypeOf,Ae),ze=Ae.create,qe=Ie.propertyIsEnumerable,Ye=Ce.splice,Ke=We?We.isConcatSpreadable:o,Ze=We?We.iterator:o,Je=We?We.toStringTag:o,et=function(){try{var e=ui(Ae,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ut=oe&&oe.now!==pt.Date.now&&oe.now,lt=t.setTimeout!==pt.setTimeout&&t.setTimeout,dt=Te.ceil,gt=Te.floor,ht=Ae.getOwnPropertySymbols,mt=Fe?Fe.isBuffer:o,kt=t.isFinite,Gt=Ce.join,fr=ir(Ae.keys,Ae),hr=Te.max,mr=Te.min,yr=oe.now,_r=t.parseInt,vr=Te.random,Sr=Ce.reverse,Er=ui(t,"DataView"),br=ui(t,"Map"),Tr=ui(t,"Promise"),Ar=ui(t,"Set"),Rr=ui(t,"WeakMap"),wr=ui(Ae,"create"),Or=Rr&&new Rr,Cr={},Mr=Ui(Er),Ir=Ui(br),Pr=Ui(Tr),Dr=Ui(Ar),Lr=Ui(Rr),Nr=We?We.prototype:o,jr=Nr?Nr.valueOf:o,kr=Nr?Nr.toString:o;function Ur(e){if(ea(e)&&!Vs(e)&&!(e instanceof Wr)){if(e instanceof Fr)return e;if(Le.call(e,"__wrapped__"))return xi(e)}return new Fr(e)}var xr=function(){function e(){}return function(t){if(!Qs(t))return{};if(ze)return ze(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function Br(){}function Fr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Wr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Gr;++t<r;)this.add(e[t])}function qr(e){var t=this.__data__=new Vr(e);this.size=t.size}function Yr(e,t){var r=Vs(e),n=!r&&Hs(e),o=!r&&!n&&Ys(e),i=!r&&!n&&!o&&ca(e),s=r||n||o||i,a=s?Yt(e.length,we):[],c=a.length;for(var u in e)!t&&!Le.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||mi(u,c))||a.push(u);return a}function Kr(e){var t=e.length;return t?e[zn(0,t-1)]:o}function Zr(e,t){return Di(Oo(e),on(t,0,e.length))}function $r(e){return Di(Oo(e))}function Xr(e,t,r){(r!==o&&!Bs(e[t],r)||r===o&&!(t in e))&&rn(e,t,r)}function Jr(e,t,r){var n=e[t];Le.call(e,t)&&Bs(n,r)&&(r!==o||t in e)||rn(e,t,r)}function Qr(e,t){for(var r=e.length;r--;)if(Bs(e[r][0],t))return r;return-1}function en(e,t,r,n){return ln(e,(function(e,o,i){t(n,e,r(e),i)})),n}function tn(e,t){return e&&Co(t,Ia(t),e)}function rn(e,t,r){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function nn(e,t){for(var r=-1,i=t.length,s=n(i),a=null==e;++r<i;)s[r]=a?o:Ra(e,t[r]);return s}function on(e,t,r){return e==e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function sn(e,t,r,n,i,s){var a,c=1&t,u=2&t,l=4&t;if(r&&(a=i?r(e,n,i,s):r(e)),a!==o)return a;if(!Qs(e))return e;var p=Vs(e);if(p){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return Oo(e,a)}else{var d=di(e),g=d==S||d==E;if(Ys(e))return Eo(e,c);if(d==A||d==h||g&&!i){if(a=u||g?{}:fi(e),!c)return u?function(e,t){return Co(e,pi(e),t)}(e,function(e,t){return e&&Co(t,Pa(t),e)}(a,e)):function(e,t){return Co(e,li(e),t)}(e,tn(a,e))}else{if(!it[d])return i?e:{};a=function(e,t,r){var n,o=e.constructor;switch(t){case P:return bo(e);case y:case _:return new o(+e);case D:return function(e,t){var r=t?bo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case L:case N:case j:case k:case U:case x:case B:case F:case W:return To(e,r);case b:return new o;case T:case C:return new o(e);case w:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new o;case M:return n=e,jr?Ae(jr.call(n)):{}}}(e,d,c)}}s||(s=new qr);var f=s.get(e);if(f)return f;s.set(e,a),ia(e)?e.forEach((function(n){a.add(sn(n,t,r,n,e,s))})):ta(e)&&e.forEach((function(n,o){a.set(o,sn(n,t,r,o,e,s))}));var m=p?o:(l?u?ri:ti:u?Pa:Ia)(e);return Rt(m||e,(function(n,o){m&&(n=e[o=n]),Jr(a,o,sn(n,t,r,o,e,s))})),a}function an(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ae(e);n--;){var i=r[n],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function cn(e,t,r){if("function"!=typeof e)throw new Oe(i);return Ci((function(){e.apply(o,r)}),t)}function un(e,t,r,n){var o=-1,i=Mt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;r&&(t=Pt(t,Zt(r))),n?(i=It,s=!1):t.length>=200&&(i=Xt,s=!1,t=new zr(t));e:for(;++o<a;){var l=e[o],p=null==r?l:r(l);if(l=n||0!==l?l:0,s&&p==p){for(var d=u;d--;)if(t[d]===p)continue e;c.push(l)}else i(t,p,n)||c.push(l)}return c}Ur.templateSettings={escape:Z,evaluate:$,interpolate:X,variable:"",imports:{_:Ur}},Ur.prototype=Br.prototype,Ur.prototype.constructor=Ur,Fr.prototype=xr(Br.prototype),Fr.prototype.constructor=Fr,Wr.prototype=xr(Br.prototype),Wr.prototype.constructor=Wr,Hr.prototype.clear=function(){this.__data__=wr?wr(null):{},this.size=0},Hr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hr.prototype.get=function(e){var t=this.__data__;if(wr){var r=t[e];return r===s?o:r}return Le.call(t,e)?t[e]:o},Hr.prototype.has=function(e){var t=this.__data__;return wr?t[e]!==o:Le.call(t,e)},Hr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=wr&&t===o?s:t,this},Vr.prototype.clear=function(){this.__data__=[],this.size=0},Vr.prototype.delete=function(e){var t=this.__data__,r=Qr(t,e);return!(r<0||(r==t.length-1?t.pop():Ye.call(t,r,1),--this.size,0))},Vr.prototype.get=function(e){var t=this.__data__,r=Qr(t,e);return r<0?o:t[r][1]},Vr.prototype.has=function(e){return Qr(this.__data__,e)>-1},Vr.prototype.set=function(e,t){var r=this.__data__,n=Qr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Gr.prototype.clear=function(){this.size=0,this.__data__={hash:new Hr,map:new(br||Vr),string:new Hr}},Gr.prototype.delete=function(e){var t=ai(this,e).delete(e);return this.size-=t?1:0,t},Gr.prototype.get=function(e){return ai(this,e).get(e)},Gr.prototype.has=function(e){return ai(this,e).has(e)},Gr.prototype.set=function(e,t){var r=ai(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},zr.prototype.add=zr.prototype.push=function(e){return this.__data__.set(e,s),this},zr.prototype.has=function(e){return this.__data__.has(e)},qr.prototype.clear=function(){this.__data__=new Vr,this.size=0},qr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},qr.prototype.get=function(e){return this.__data__.get(e)},qr.prototype.has=function(e){return this.__data__.has(e)},qr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Vr){var n=r.__data__;if(!br||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Gr(n)}return r.set(e,t),this.size=r.size,this};var ln=Po(_n),pn=Po(vn,!0);function dn(e,t){var r=!0;return ln(e,(function(e,n,o){return r=!!t(e,n,o)})),r}function gn(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],a=t(s);if(null!=a&&(c===o?a==a&&!aa(a):r(a,c)))var c=a,u=s}return u}function fn(e,t){var r=[];return ln(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}function hn(e,t,r,n,o){var i=-1,s=e.length;for(r||(r=hi),o||(o=[]);++i<s;){var a=e[i];t>0&&r(a)?t>1?hn(a,t-1,r,n,o):Dt(o,a):n||(o[o.length]=a)}return o}var mn=Do(),yn=Do(!0);function _n(e,t){return e&&mn(e,t,Ia)}function vn(e,t){return e&&yn(e,t,Ia)}function Sn(e,t){return Ct(t,(function(t){return $s(e[t])}))}function En(e,t){for(var r=0,n=(t=yo(t,e)).length;null!=e&&r<n;)e=e[ki(t[r++])];return r&&r==n?e:o}function bn(e,t,r){var n=t(e);return Vs(e)?n:Dt(n,r(e))}function Tn(e){return null==e?e===o?"[object Undefined]":"[object Null]":Je&&Je in Ae(e)?function(e){var t=Le.call(e,Je),r=e[Je];try{e[Je]=o;var n=!0}catch(e){}var i=ke.call(e);return n&&(t?e[Je]=r:delete e[Je]),i}(e):function(e){return ke.call(e)}(e)}function An(e,t){return e>t}function Rn(e,t){return null!=e&&Le.call(e,t)}function wn(e,t){return null!=e&&t in Ae(e)}function On(e,t,r){for(var i=r?It:Mt,s=e[0].length,a=e.length,c=a,u=n(a),l=1/0,p=[];c--;){var d=e[c];c&&t&&(d=Pt(d,Zt(t))),l=mr(d.length,l),u[c]=!r&&(t||s>=120&&d.length>=120)?new zr(c&&d):o}d=e[0];var g=-1,f=u[0];e:for(;++g<s&&p.length<l;){var h=d[g],m=t?t(h):h;if(h=r||0!==h?h:0,!(f?Xt(f,m):i(p,m,r))){for(c=a;--c;){var y=u[c];if(!(y?Xt(y,m):i(e[c],m,r)))continue e}f&&f.push(m),p.push(h)}}return p}function Cn(e,t,r){var n=null==(e=Ri(e,t=yo(t,e)))?e:e[ki(Zi(t))];return null==n?o:Tt(n,e,r)}function Mn(e){return ea(e)&&Tn(e)==h}function In(e,t,r,n,i){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,r,n,i,s){var a=Vs(e),c=Vs(t),u=a?m:di(e),l=c?m:di(t),p=(u=u==h?A:u)==A,d=(l=l==h?A:l)==A,g=u==l;if(g&&Ys(e)){if(!Ys(t))return!1;a=!0,p=!1}if(g&&!p)return s||(s=new qr),a||ca(e)?Qo(e,t,r,n,i,s):function(e,t,r,n,o,i,s){switch(r){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!i(new He(e),new He(t)));case y:case _:case T:return Bs(+e,+t);case v:return e.name==t.name&&e.message==t.message;case w:case C:return e==t+"";case b:var a=or;case O:var c=1&n;if(a||(a=ar),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var l=Qo(a(e),a(t),n,o,i,s);return s.delete(e),l;case M:if(jr)return jr.call(e)==jr.call(t)}return!1}(e,t,u,r,n,i,s);if(!(1&r)){var f=p&&Le.call(e,"__wrapped__"),S=d&&Le.call(t,"__wrapped__");if(f||S){var E=f?e.value():e,R=S?t.value():t;return s||(s=new qr),i(E,R,r,n,s)}}return!!g&&(s||(s=new qr),function(e,t,r,n,i,s){var a=1&r,c=ti(e),u=c.length;if(u!=ti(t).length&&!a)return!1;for(var l=u;l--;){var p=c[l];if(!(a?p in t:Le.call(t,p)))return!1}var d=s.get(e),g=s.get(t);if(d&&g)return d==t&&g==e;var f=!0;s.set(e,t),s.set(t,e);for(var h=a;++l<u;){var m=e[p=c[l]],y=t[p];if(n)var _=a?n(y,m,p,t,e,s):n(m,y,p,e,t,s);if(!(_===o?m===y||i(m,y,r,n,s):_)){f=!1;break}h||(h="constructor"==p)}if(f&&!h){var v=e.constructor,S=t.constructor;v==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof S&&S instanceof S||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,r,n,i,s))}(e,t,r,n,In,i))}function Pn(e,t,r,n){var i=r.length,s=i,a=!n;if(null==e)return!s;for(e=Ae(e);i--;){var c=r[i];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var u=(c=r[i])[0],l=e[u],p=c[1];if(a&&c[2]){if(l===o&&!(u in e))return!1}else{var d=new qr;if(n)var g=n(l,p,u,e,t,d);if(!(g===o?In(p,l,3,n,d):g))return!1}}return!0}function Dn(e){return!(!Qs(e)||(t=e,je&&je in t))&&($s(e)?Be:he).test(Ui(e));var t}function Ln(e){return"function"==typeof e?e:null==e?rc:"object"==typeof e?Vs(e)?xn(e[0],e[1]):Un(e):pc(e)}function Nn(e){if(!Ei(e))return fr(e);var t=[];for(var r in Ae(e))Le.call(e,r)&&"constructor"!=r&&t.push(r);return t}function jn(e,t){return e<t}function kn(e,t){var r=-1,o=zs(e)?n(e.length):[];return ln(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}function Un(e){var t=ci(e);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(r){return r===e||Pn(r,e,t)}}function xn(e,t){return _i(e)&&bi(t)?Ti(ki(e),t):function(r){var n=Ra(r,e);return n===o&&n===t?wa(r,e):In(t,n,3)}}function Bn(e,t,r,n,i){e!==t&&mn(t,(function(s,a){if(i||(i=new qr),Qs(s))!function(e,t,r,n,i,s,a){var c=wi(e,r),u=wi(t,r),l=a.get(u);if(l)Xr(e,r,l);else{var p=s?s(c,u,r+"",e,t,a):o,d=p===o;if(d){var g=Vs(u),f=!g&&Ys(u),h=!g&&!f&&ca(u);p=u,g||f||h?Vs(c)?p=c:qs(c)?p=Oo(c):f?(d=!1,p=Eo(u,!0)):h?(d=!1,p=To(u,!0)):p=[]:na(u)||Hs(u)?(p=c,Hs(c)?p=ma(c):Qs(c)&&!$s(c)||(p=fi(u))):d=!1}d&&(a.set(u,p),i(p,u,n,s,a),a.delete(u)),Xr(e,r,p)}}(e,t,a,r,Bn,n,i);else{var c=n?n(wi(e,a),s,a+"",e,t,i):o;c===o&&(c=s),Xr(e,a,c)}}),Pa)}function Fn(e,t){var r=e.length;if(r)return mi(t+=t<0?r:0,r)?e[t]:o}function Wn(e,t,r){t=t.length?Pt(t,(function(e){return Vs(e)?function(t){return En(t,1===e.length?e[0]:e)}:e})):[rc];var n=-1;t=Pt(t,Zt(si()));var o=kn(e,(function(e,r,o){var i=Pt(t,(function(t){return t(e)}));return{criteria:i,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,o=e.criteria,i=t.criteria,s=o.length,a=r.length;++n<s;){var c=Ao(o[n],i[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(o)}function Hn(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var s=t[n],a=En(e,s);r(a,s)&&$n(i,yo(s,e),a)}return i}function Vn(e,t,r,n){var o=n?Ft:Bt,i=-1,s=t.length,a=e;for(e===t&&(t=Oo(t)),r&&(a=Pt(e,Zt(r)));++i<s;)for(var c=0,u=t[i],l=r?r(u):u;(c=o(a,l,c,n))>-1;)a!==e&&Ye.call(a,c,1),Ye.call(e,c,1);return e}function Gn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var o=t[r];if(r==n||o!==i){var i=o;mi(o)?Ye.call(e,o,1):co(e,o)}}return e}function zn(e,t){return e+gt(vr()*(t-e+1))}function qn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=gt(t/2))&&(e+=e)}while(t);return r}function Yn(e,t){return Mi(Ai(e,t,rc),e+"")}function Kn(e){return Kr(Ba(e))}function Zn(e,t){var r=Ba(e);return Di(r,on(t,0,r.length))}function $n(e,t,r,n){if(!Qs(e))return e;for(var i=-1,s=(t=yo(t,e)).length,a=s-1,c=e;null!=c&&++i<s;){var u=ki(t[i]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var p=c[u];(l=n?n(p,u,c):o)===o&&(l=Qs(p)?p:mi(t[i+1])?[]:{})}Jr(c,u,l),c=c[u]}return e}var Xn=Or?function(e,t){return Or.set(e,t),e}:rc,Jn=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qa(t),writable:!0})}:rc;function Qn(e){return Di(Ba(e))}function eo(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=n(i);++o<i;)s[o]=e[o+t];return s}function to(e,t){var r;return ln(e,(function(e,n,o){return!(r=t(e,n,o))})),!!r}function ro(e,t,r){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;n<o;){var i=n+o>>>1,s=e[i];null!==s&&!aa(s)&&(r?s<=t:s<t)?n=i+1:o=i}return o}return no(e,t,rc,r)}function no(e,t,r,n){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,c=null===t,u=aa(t),l=t===o;i<s;){var p=gt((i+s)/2),d=r(e[p]),g=d!==o,f=null===d,h=d==d,m=aa(d);if(a)var y=n||h;else y=l?h&&(n||g):c?h&&g&&(n||!f):u?h&&g&&!f&&(n||!m):!f&&!m&&(n?d<=t:d<t);y?i=p+1:s=p}return mr(s,4294967294)}function oo(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Bs(a,c)){var c=a;i[o++]=0===s?0:s}}return i}function io(e){return"number"==typeof e?e:aa(e)?d:+e}function so(e){if("string"==typeof e)return e;if(Vs(e))return Pt(e,so)+"";if(aa(e))return kr?kr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ao(e,t,r){var n=-1,o=Mt,i=e.length,s=!0,a=[],c=a;if(r)s=!1,o=It;else if(i>=200){var u=t?null:Yo(e);if(u)return ar(u);s=!1,o=Xt,c=new zr}else c=t?[]:a;e:for(;++n<i;){var l=e[n],p=t?t(l):l;if(l=r||0!==l?l:0,s&&p==p){for(var d=c.length;d--;)if(c[d]===p)continue e;t&&c.push(p),a.push(l)}else o(c,p,r)||(c!==a&&c.push(p),a.push(l))}return a}function co(e,t){return null==(e=Ri(e,t=yo(t,e)))||delete e[ki(Zi(t))]}function uo(e,t,r,n){return $n(e,t,r(En(e,t)),n)}function lo(e,t,r,n){for(var o=e.length,i=n?o:-1;(n?i--:++i<o)&&t(e[i],i,e););return r?eo(e,n?0:i,n?i+1:o):eo(e,n?i+1:0,n?o:i)}function po(e,t){var r=e;return r instanceof Wr&&(r=r.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),r)}function go(e,t,r){var o=e.length;if(o<2)return o?ao(e[0]):[];for(var i=-1,s=n(o);++i<o;)for(var a=e[i],c=-1;++c<o;)c!=i&&(s[i]=un(s[i]||a,e[c],t,r));return ao(hn(s,1),t,r)}function fo(e,t,r){for(var n=-1,i=e.length,s=t.length,a={};++n<i;){var c=n<s?t[n]:o;r(a,e[n],c)}return a}function ho(e){return qs(e)?e:[]}function mo(e){return"function"==typeof e?e:rc}function yo(e,t){return Vs(e)?e:_i(e,t)?[e]:ji(ya(e))}var _o=Yn;function vo(e,t,r){var n=e.length;return r=r===o?n:r,!t&&r>=n?e:eo(e,t,r)}var So=st||function(e){return pt.clearTimeout(e)};function Eo(e,t){if(t)return e.slice();var r=e.length,n=Ve?Ve(r):new e.constructor(r);return e.copy(n),n}function bo(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function To(e,t){var r=t?bo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ao(e,t){if(e!==t){var r=e!==o,n=null===e,i=e==e,s=aa(e),a=t!==o,c=null===t,u=t==t,l=aa(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||n&&a&&u||!r&&u||!i)return 1;if(!n&&!s&&!l&&e<t||l&&r&&i&&!n&&!s||c&&r&&i||!a&&i||!u)return-1}return 0}function Ro(e,t,r,o){for(var i=-1,s=e.length,a=r.length,c=-1,u=t.length,l=hr(s-a,0),p=n(u+l),d=!o;++c<u;)p[c]=t[c];for(;++i<a;)(d||i<s)&&(p[r[i]]=e[i]);for(;l--;)p[c++]=e[i++];return p}function wo(e,t,r,o){for(var i=-1,s=e.length,a=-1,c=r.length,u=-1,l=t.length,p=hr(s-c,0),d=n(p+l),g=!o;++i<p;)d[i]=e[i];for(var f=i;++u<l;)d[f+u]=t[u];for(;++a<c;)(g||i<s)&&(d[f+r[a]]=e[i++]);return d}function Oo(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function Co(e,t,r,n){var i=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=n?n(r[c],e[c],c,r,e):o;u===o&&(u=e[c]),i?rn(r,c,u):Jr(r,c,u)}return r}function Mo(e,t){return function(r,n){var o=Vs(r)?At:en,i=t?t():{};return o(r,e,si(n,2),i)}}function Io(e){return Yn((function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:o,a=i>2?r[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&yi(r[0],r[1],a)&&(s=i<3?o:s,i=1),t=Ae(t);++n<i;){var c=r[n];c&&e(t,c,n,s)}return t}))}function Po(e,t){return function(r,n){if(null==r)return r;if(!zs(r))return e(r,n);for(var o=r.length,i=t?o:-1,s=Ae(r);(t?i--:++i<o)&&!1!==n(s[i],i,s););return r}}function Do(e){return function(t,r,n){for(var o=-1,i=Ae(t),s=n(t),a=s.length;a--;){var c=s[e?a:++o];if(!1===r(i[c],c,i))break}return t}}function Lo(e){return function(t){var r=nr(t=ya(t))?lr(t):o,n=r?r[0]:t.charAt(0),i=r?vo(r,1).join(""):t.slice(1);return n[e]()+i}}function No(e){return function(t){return Lt($a(Ha(t).replace($e,"")),e,"")}}function jo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=xr(e.prototype),n=e.apply(r,t);return Qs(n)?n:r}}function ko(e){return function(t,r,n){var i=Ae(t);if(!zs(t)){var s=si(r,3);t=Ia(t),r=function(e){return s(i[e],e,i)}}var a=e(t,r,n);return a>-1?i[s?t[a]:a]:o}}function Uo(e){return ei((function(t){var r=t.length,n=r,s=Fr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Oe(i);if(s&&!c&&"wrapper"==oi(a))var c=new Fr([],!0)}for(n=c?n:r;++n<r;){var u=oi(a=t[n]),l="wrapper"==u?ni(a):o;c=l&&vi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[oi(l[0])].apply(c,l[3]):1==a.length&&vi(a)?c[u]():c.thru(a)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Vs(n))return c.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}}))}function xo(e,t,r,i,s,a,c,l,p,d){var g=t&u,f=1&t,h=2&t,m=24&t,y=512&t,_=h?o:jo(e);return function u(){for(var v=arguments.length,S=n(v),E=v;E--;)S[E]=arguments[E];if(m)var b=ii(u),T=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(S,b);if(i&&(S=Ro(S,i,s,m)),a&&(S=wo(S,a,c,m)),v-=T,m&&v<d){var A=sr(S,b);return zo(e,t,xo,u.placeholder,r,S,A,l,p,d-v)}var R=f?r:this,w=h?R[e]:e;return v=S.length,l?S=function(e,t){for(var r=e.length,n=mr(t.length,r),i=Oo(e);n--;){var s=t[n];e[n]=mi(s,r)?i[s]:o}return e}(S,l):y&&v>1&&S.reverse(),g&&p<v&&(S.length=p),this&&this!==pt&&this instanceof u&&(w=_||jo(w)),w.apply(R,S)}}function Bo(e,t){return function(r,n){return function(e,t,r,n){return _n(e,(function(e,o,i){t(n,r(e),o,i)})),n}(r,e,t(n),{})}}function Fo(e,t){return function(r,n){var i;if(r===o&&n===o)return t;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=so(r),n=so(n)):(r=io(r),n=io(n)),i=e(r,n)}return i}}function Wo(e){return ei((function(t){return t=Pt(t,Zt(si())),Yn((function(r){var n=this;return e(t,(function(e){return Tt(e,n,r)}))}))}))}function Ho(e,t){var r=(t=t===o?" ":so(t)).length;if(r<2)return r?qn(t,e):t;var n=qn(t,dt(e/ur(t)));return nr(t)?vo(lr(n),0,e).join(""):n.slice(0,e)}function Vo(e){return function(t,r,i){return i&&"number"!=typeof i&&yi(t,r,i)&&(r=i=o),t=da(t),r===o?(r=t,t=0):r=da(r),function(e,t,r,o){for(var i=-1,s=hr(dt((t-e)/(r||1)),0),a=n(s);s--;)a[o?s:++i]=e,e+=r;return a}(t,r,i=i===o?t<r?1:-1:da(i),e)}}function Go(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ha(t),r=ha(r)),e(t,r)}}function zo(e,t,r,n,i,s,a,u,l,p){var d=8&t;t|=d?c:64,4&(t&=~(d?64:c))||(t&=-4);var g=[e,t,i,d?s:o,d?a:o,d?o:s,d?o:a,u,l,p],f=r.apply(o,g);return vi(e)&&Oi(f,g),f.placeholder=n,Ii(f,e,t)}function qo(e){var t=Te[e];return function(e,r){if(e=ha(e),(r=null==r?0:mr(ga(r),292))&&kt(e)){var n=(ya(e)+"e").split("e");return+((n=(ya(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Yo=Ar&&1/ar(new Ar([,-0]))[1]==l?function(e){return new Ar(e)}:ac;function Ko(e){return function(t){var r=di(t);return r==b?or(t):r==O?cr(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zo(e,t,r,s,l,p,d,g){var f=2&t;if(!f&&"function"!=typeof e)throw new Oe(i);var h=s?s.length:0;if(h||(t&=-97,s=l=o),d=d===o?d:hr(ga(d),0),g=g===o?g:ga(g),h-=l?l.length:0,64&t){var m=s,y=l;s=l=o}var _=f?o:ni(e),v=[e,t,r,s,l,m,y,p,d,g];if(_&&function(e,t){var r=e[1],n=t[1],o=r|n,i=o<131,s=n==u&&8==r||n==u&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!i&&!s)return e;1&n&&(e[2]=t[2],o|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Ro(l,c,t[4]):c,e[4]=l?sr(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?wo(l,c,t[6]):c,e[6]=l?sr(e[5],a):t[6]),(c=t[7])&&(e[7]=c),n&u&&(e[8]=null==e[8]?t[8]:mr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(v,_),e=v[0],t=v[1],r=v[2],s=v[3],l=v[4],!(g=v[9]=v[9]===o?f?0:e.length:hr(v[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||16==t?function(e,t,r){var i=jo(e);return function s(){for(var a=arguments.length,c=n(a),u=a,l=ii(s);u--;)c[u]=arguments[u];var p=a<3&&c[0]!==l&&c[a-1]!==l?[]:sr(c,l);return(a-=p.length)<r?zo(e,t,xo,s.placeholder,o,c,p,o,o,r-a):Tt(this&&this!==pt&&this instanceof s?i:e,this,c)}}(e,t,g):t!=c&&33!=t||l.length?xo.apply(o,v):function(e,t,r,o){var i=1&t,s=jo(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=o.length,p=n(l+c),d=this&&this!==pt&&this instanceof t?s:e;++u<l;)p[u]=o[u];for(;c--;)p[u++]=arguments[++a];return Tt(d,i?r:this,p)}}(e,t,r,s);else var S=function(e,t,r){var n=1&t,o=jo(e);return function t(){return(this&&this!==pt&&this instanceof t?o:e).apply(n?r:this,arguments)}}(e,t,r);return Ii((_?Xn:Oi)(S,v),e,t)}function $o(e,t,r,n){return e===o||Bs(e,Ie[r])&&!Le.call(n,r)?t:e}function Xo(e,t,r,n,i,s){return Qs(e)&&Qs(t)&&(s.set(t,e),Bn(e,t,o,Xo,s),s.delete(t)),e}function Jo(e){return na(e)?o:e}function Qo(e,t,r,n,i,s){var a=1&r,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e),p=s.get(t);if(l&&p)return l==t&&p==e;var d=-1,g=!0,f=2&r?new zr:o;for(s.set(e,t),s.set(t,e);++d<c;){var h=e[d],m=t[d];if(n)var y=a?n(m,h,d,t,e,s):n(h,m,d,e,t,s);if(y!==o){if(y)continue;g=!1;break}if(f){if(!jt(t,(function(e,t){if(!Xt(f,t)&&(h===e||i(h,e,r,n,s)))return f.push(t)}))){g=!1;break}}else if(h!==m&&!i(h,m,r,n,s)){g=!1;break}}return s.delete(e),s.delete(t),g}function ei(e){return Mi(Ai(e,o,Gi),e+"")}function ti(e){return bn(e,Ia,li)}function ri(e){return bn(e,Pa,pi)}var ni=Or?function(e){return Or.get(e)}:ac;function oi(e){for(var t=e.name+"",r=Cr[t],n=Le.call(Cr,t)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==e)return o.name}return t}function ii(e){return(Le.call(Ur,"placeholder")?Ur:e).placeholder}function si(){var e=Ur.iteratee||nc;return e=e===nc?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function ai(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function ci(e){for(var t=Ia(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,bi(o)]}return t}function ui(e,t){var r=function(e,t){return null==e?o:e[t]}(e,t);return Dn(r)?r:o}var li=ht?function(e){return null==e?[]:(e=Ae(e),Ct(ht(e),(function(t){return qe.call(e,t)})))}:fc,pi=ht?function(e){for(var t=[];e;)Dt(t,li(e)),e=Ge(e);return t}:fc,di=Tn;function gi(e,t,r){for(var n=-1,o=(t=yo(t,e)).length,i=!1;++n<o;){var s=ki(t[n]);if(!(i=null!=e&&r(e,s)))break;e=e[s]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&Js(o)&&mi(s,o)&&(Vs(e)||Hs(e))}function fi(e){return"function"!=typeof e.constructor||Ei(e)?{}:xr(Ge(e))}function hi(e){return Vs(e)||Hs(e)||!!(Ke&&e&&e[Ke])}function mi(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&ye.test(e))&&e>-1&&e%1==0&&e<t}function yi(e,t,r){if(!Qs(r))return!1;var n=typeof t;return!!("number"==n?zs(r)&&mi(t,r.length):"string"==n&&t in r)&&Bs(r[t],e)}function _i(e,t){if(Vs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!aa(e))||Q.test(e)||!J.test(e)||null!=t&&e in Ae(t)}function vi(e){var t=oi(e),r=Ur[t];if("function"!=typeof r||!(t in Wr.prototype))return!1;if(e===r)return!0;var n=ni(r);return!!n&&e===n[0]}(Er&&di(new Er(new ArrayBuffer(1)))!=D||br&&di(new br)!=b||Tr&&di(Tr.resolve())!=R||Ar&&di(new Ar)!=O||Rr&&di(new Rr)!=I)&&(di=function(e){var t=Tn(e),r=t==A?e.constructor:o,n=r?Ui(r):"";if(n)switch(n){case Mr:return D;case Ir:return b;case Pr:return R;case Dr:return O;case Lr:return I}return t});var Si=Pe?$s:hc;function Ei(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function bi(e){return e==e&&!Qs(e)}function Ti(e,t){return function(r){return null!=r&&r[e]===t&&(t!==o||e in Ae(r))}}function Ai(e,t,r){return t=hr(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=hr(o.length-t,0),a=n(s);++i<s;)a[i]=o[t+i];i=-1;for(var c=n(t+1);++i<t;)c[i]=o[i];return c[t]=r(a),Tt(e,this,c)}}function Ri(e,t){return t.length<2?e:En(e,eo(t,0,-1))}function wi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oi=Pi(Xn),Ci=lt||function(e,t){return pt.setTimeout(e,t)},Mi=Pi(Jn);function Ii(e,t,r){var n=t+"";return Mi(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Rt(f,(function(r){var n="_."+r[0];t&r[1]&&!Mt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(n),r)))}function Pi(e){var t=0,r=0;return function(){var n=yr(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Di(e,t){var r=-1,n=e.length,i=n-1;for(t=t===o?n:t;++r<t;){var s=zn(r,i),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Li,Ni,ji=(Li=Ls((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,r,n,o){t.push(n?o.replace(le,"$1"):r||e)})),t}),(function(e){return 500===Ni.size&&Ni.clear(),e})),Ni=Li.cache,Li);function ki(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ui(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xi(e){if(e instanceof Wr)return e.clone();var t=new Fr(e.__wrapped__,e.__chain__);return t.__actions__=Oo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bi=Yn((function(e,t){return qs(e)?un(e,hn(t,1,qs,!0)):[]})),Fi=Yn((function(e,t){var r=Zi(t);return qs(r)&&(r=o),qs(e)?un(e,hn(t,1,qs,!0),si(r,2)):[]})),Wi=Yn((function(e,t){var r=Zi(t);return qs(r)&&(r=o),qs(e)?un(e,hn(t,1,qs,!0),o,r):[]}));function Hi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:ga(r);return o<0&&(o=hr(n+o,0)),xt(e,si(t,3),o)}function Vi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==o&&(i=ga(r),i=r<0?hr(n+i,0):mr(i,n-1)),xt(e,si(t,3),i,!0)}function Gi(e){return null!=e&&e.length?hn(e,1):[]}function zi(e){return e&&e.length?e[0]:o}var qi=Yn((function(e){var t=Pt(e,ho);return t.length&&t[0]===e[0]?On(t):[]})),Yi=Yn((function(e){var t=Zi(e),r=Pt(e,ho);return t===Zi(r)?t=o:r.pop(),r.length&&r[0]===e[0]?On(r,si(t,2)):[]})),Ki=Yn((function(e){var t=Zi(e),r=Pt(e,ho);return(t="function"==typeof t?t:o)&&r.pop(),r.length&&r[0]===e[0]?On(r,o,t):[]}));function Zi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var $i=Yn(Xi);function Xi(e,t){return e&&e.length&&t&&t.length?Vn(e,t):e}var Ji=ei((function(e,t){var r=null==e?0:e.length,n=nn(e,t);return Gn(e,Pt(t,(function(e){return mi(e,r)?+e:e})).sort(Ao)),n}));function Qi(e){return null==e?e:Sr.call(e)}var es=Yn((function(e){return ao(hn(e,1,qs,!0))})),ts=Yn((function(e){var t=Zi(e);return qs(t)&&(t=o),ao(hn(e,1,qs,!0),si(t,2))})),rs=Yn((function(e){var t=Zi(e);return t="function"==typeof t?t:o,ao(hn(e,1,qs,!0),o,t)}));function ns(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,(function(e){if(qs(e))return t=hr(e.length,t),!0})),Yt(t,(function(t){return Pt(e,Vt(t))}))}function os(e,t){if(!e||!e.length)return[];var r=ns(e);return null==t?r:Pt(r,(function(e){return Tt(t,o,e)}))}var is=Yn((function(e,t){return qs(e)?un(e,t):[]})),ss=Yn((function(e){return go(Ct(e,qs))})),as=Yn((function(e){var t=Zi(e);return qs(t)&&(t=o),go(Ct(e,qs),si(t,2))})),cs=Yn((function(e){var t=Zi(e);return t="function"==typeof t?t:o,go(Ct(e,qs),o,t)})),us=Yn(ns),ls=Yn((function(e){var t=e.length,r=t>1?e[t-1]:o;return r="function"==typeof r?(e.pop(),r):o,os(e,r)}));function ps(e){var t=Ur(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var gs=ei((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return nn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Wr&&mi(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ds,args:[i],thisArg:o}),new Fr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)})),fs=Mo((function(e,t,r){Le.call(e,r)?++e[r]:rn(e,r,1)})),hs=ko(Hi),ms=ko(Vi);function ys(e,t){return(Vs(e)?Rt:ln)(e,si(t,3))}function _s(e,t){return(Vs(e)?wt:pn)(e,si(t,3))}var vs=Mo((function(e,t,r){Le.call(e,r)?e[r].push(t):rn(e,r,[t])})),Ss=Yn((function(e,t,r){var o=-1,i="function"==typeof t,s=zs(e)?n(e.length):[];return ln(e,(function(e){s[++o]=i?Tt(t,e,r):Cn(e,t,r)})),s})),Es=Mo((function(e,t,r){rn(e,r,t)}));function bs(e,t){return(Vs(e)?Pt:kn)(e,si(t,3))}var Ts=Mo((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),As=Yn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&yi(e,t[0],t[1])?t=[]:r>2&&yi(t[0],t[1],t[2])&&(t=[t[0]]),Wn(e,hn(t,1),[])})),Rs=ut||function(){return pt.Date.now()};function ws(e,t,r){return t=r?o:t,t=e&&null==t?e.length:t,Zo(e,u,o,o,o,o,t)}function Os(e,t){var r;if("function"!=typeof t)throw new Oe(i);return e=ga(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var Cs=Yn((function(e,t,r){var n=1;if(r.length){var o=sr(r,ii(Cs));n|=c}return Zo(e,n,t,r,o)})),Ms=Yn((function(e,t,r){var n=3;if(r.length){var o=sr(r,ii(Ms));n|=c}return Zo(t,n,e,r,o)}));function Is(e,t,r){var n,s,a,c,u,l,p=0,d=!1,g=!1,f=!0;if("function"!=typeof e)throw new Oe(i);function h(t){var r=n,i=s;return n=s=o,p=t,c=e.apply(i,r)}function m(e){var r=e-l;return l===o||r>=t||r<0||g&&e-p>=a}function y(){var e=Rs();if(m(e))return _(e);u=Ci(y,function(e){var r=t-(e-l);return g?mr(r,a-(e-p)):r}(e))}function _(e){return u=o,f&&n?h(e):(n=s=o,c)}function v(){var e=Rs(),r=m(e);if(n=arguments,s=this,l=e,r){if(u===o)return function(e){return p=e,u=Ci(y,t),d?h(e):c}(l);if(g)return So(u),u=Ci(y,t),h(l)}return u===o&&(u=Ci(y,t)),c}return t=ha(t)||0,Qs(r)&&(d=!!r.leading,a=(g="maxWait"in r)?hr(ha(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),v.cancel=function(){u!==o&&So(u),p=0,n=l=s=u=o},v.flush=function(){return u===o?c:_(Rs())},v}var Ps=Yn((function(e,t){return cn(e,1,t)})),Ds=Yn((function(e,t,r){return cn(e,ha(t)||0,r)}));function Ls(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(i);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=e.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(Ls.Cache||Gr),r}function Ns(e){if("function"!=typeof e)throw new Oe(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ls.Cache=Gr;var js=_o((function(e,t){var r=(t=1==t.length&&Vs(t[0])?Pt(t[0],Zt(si())):Pt(hn(t,1),Zt(si()))).length;return Yn((function(n){for(var o=-1,i=mr(n.length,r);++o<i;)n[o]=t[o].call(this,n[o]);return Tt(e,this,n)}))})),ks=Yn((function(e,t){var r=sr(t,ii(ks));return Zo(e,c,o,t,r)})),Us=Yn((function(e,t){var r=sr(t,ii(Us));return Zo(e,64,o,t,r)})),xs=ei((function(e,t){return Zo(e,256,o,o,o,t)}));function Bs(e,t){return e===t||e!=e&&t!=t}var Fs=Go(An),Ws=Go((function(e,t){return e>=t})),Hs=Mn(function(){return arguments}())?Mn:function(e){return ea(e)&&Le.call(e,"callee")&&!qe.call(e,"callee")},Vs=n.isArray,Gs=yt?Zt(yt):function(e){return ea(e)&&Tn(e)==P};function zs(e){return null!=e&&Js(e.length)&&!$s(e)}function qs(e){return ea(e)&&zs(e)}var Ys=mt||hc,Ks=_t?Zt(_t):function(e){return ea(e)&&Tn(e)==_};function Zs(e){if(!ea(e))return!1;var t=Tn(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!na(e)}function $s(e){if(!Qs(e))return!1;var t=Tn(e);return t==S||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==ga(e)}function Js(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function Qs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=vt?Zt(vt):function(e){return ea(e)&&di(e)==b};function ra(e){return"number"==typeof e||ea(e)&&Tn(e)==T}function na(e){if(!ea(e)||Tn(e)!=A)return!1;var t=Ge(e);if(null===t)return!0;var r=Le.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&De.call(r)==Ue}var oa=St?Zt(St):function(e){return ea(e)&&Tn(e)==w},ia=Et?Zt(Et):function(e){return ea(e)&&di(e)==O};function sa(e){return"string"==typeof e||!Vs(e)&&ea(e)&&Tn(e)==C}function aa(e){return"symbol"==typeof e||ea(e)&&Tn(e)==M}var ca=bt?Zt(bt):function(e){return ea(e)&&Js(e.length)&&!!ot[Tn(e)]},ua=Go(jn),la=Go((function(e,t){return e<=t}));function pa(e){if(!e)return[];if(zs(e))return sa(e)?lr(e):Oo(e);if(Ze&&e[Ze])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ze]());var t=di(e);return(t==b?or:t==O?ar:Ba)(e)}function da(e){return e?(e=ha(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ga(e){var t=da(e),r=t%1;return t==t?r?t-r:t:0}function fa(e){return e?on(ga(e),0,g):0}function ha(e){if("number"==typeof e)return e;if(aa(e))return d;if(Qs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var r=fe.test(e);return r||me.test(e)?ct(e.slice(2),r?2:8):ge.test(e)?d:+e}function ma(e){return Co(e,Pa(e))}function ya(e){return null==e?"":so(e)}var _a=Io((function(e,t){if(Ei(t)||zs(t))Co(t,Ia(t),e);else for(var r in t)Le.call(t,r)&&Jr(e,r,t[r])})),va=Io((function(e,t){Co(t,Pa(t),e)})),Sa=Io((function(e,t,r,n){Co(t,Pa(t),e,n)})),Ea=Io((function(e,t,r,n){Co(t,Ia(t),e,n)})),ba=ei(nn),Ta=Yn((function(e,t){e=Ae(e);var r=-1,n=t.length,i=n>2?t[2]:o;for(i&&yi(t[0],t[1],i)&&(n=1);++r<n;)for(var s=t[r],a=Pa(s),c=-1,u=a.length;++c<u;){var l=a[c],p=e[l];(p===o||Bs(p,Ie[l])&&!Le.call(e,l))&&(e[l]=s[l])}return e})),Aa=Yn((function(e){return e.push(o,Xo),Tt(La,o,e)}));function Ra(e,t,r){var n=null==e?o:En(e,t);return n===o?r:n}function wa(e,t){return null!=e&&gi(e,t,wn)}var Oa=Bo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),e[t]=r}),Qa(rc)),Ca=Bo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),Le.call(e,t)?e[t].push(r):e[t]=[r]}),si),Ma=Yn(Cn);function Ia(e){return zs(e)?Yr(e):Nn(e)}function Pa(e){return zs(e)?Yr(e,!0):function(e){if(!Qs(e))return function(e){var t=[];if(null!=e)for(var r in Ae(e))t.push(r);return t}(e);var t=Ei(e),r=[];for(var n in e)("constructor"!=n||!t&&Le.call(e,n))&&r.push(n);return r}(e)}var Da=Io((function(e,t,r){Bn(e,t,r)})),La=Io((function(e,t,r,n){Bn(e,t,r,n)})),Na=ei((function(e,t){var r={};if(null==e)return r;var n=!1;t=Pt(t,(function(t){return t=yo(t,e),n||(n=t.length>1),t})),Co(e,ri(e),r),n&&(r=sn(r,7,Jo));for(var o=t.length;o--;)co(r,t[o]);return r})),ja=ei((function(e,t){return null==e?{}:function(e,t){return Hn(e,t,(function(t,r){return wa(e,r)}))}(e,t)}));function ka(e,t){if(null==e)return{};var r=Pt(ri(e),(function(e){return[e]}));return t=si(t),Hn(e,r,(function(e,r){return t(e,r[0])}))}var Ua=Ko(Ia),xa=Ko(Pa);function Ba(e){return null==e?[]:$t(e,Ia(e))}var Fa=No((function(e,t,r){return t=t.toLowerCase(),e+(r?Wa(t):t)}));function Wa(e){return Za(ya(e).toLowerCase())}function Ha(e){return(e=ya(e))&&e.replace(_e,er).replace(Xe,"")}var Va=No((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Ga=No((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),za=Lo("toLowerCase"),qa=No((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Ya=No((function(e,t,r){return e+(r?" ":"")+Za(t)})),Ka=No((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Za=Lo("toUpperCase");function $a(e,t,r){return e=ya(e),(t=r?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Xa=Yn((function(e,t){try{return Tt(e,o,t)}catch(e){return Zs(e)?e:new Ee(e)}})),Ja=ei((function(e,t){return Rt(t,(function(t){t=ki(t),rn(e,t,Cs(e[t],e))})),e}));function Qa(e){return function(){return e}}var ec=Uo(),tc=Uo(!0);function rc(e){return e}function nc(e){return Ln("function"==typeof e?e:sn(e,1))}var oc=Yn((function(e,t){return function(r){return Cn(r,e,t)}})),ic=Yn((function(e,t){return function(r){return Cn(e,r,t)}}));function sc(e,t,r){var n=Ia(t),o=Sn(t,n);null!=r||Qs(t)&&(o.length||!n.length)||(r=t,t=e,e=this,o=Sn(t,Ia(t)));var i=!(Qs(r)&&"chain"in r&&!r.chain),s=$s(e);return Rt(o,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__);return(r.__actions__=Oo(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Dt([this.value()],arguments))})})),e}function ac(){}var cc=Wo(Pt),uc=Wo(Ot),lc=Wo(jt);function pc(e){return _i(e)?Vt(ki(e)):function(e){return function(t){return En(t,e)}}(e)}var dc=Vo(),gc=Vo(!0);function fc(){return[]}function hc(){return!1}var mc,yc=Fo((function(e,t){return e+t}),0),_c=qo("ceil"),vc=Fo((function(e,t){return e/t}),1),Sc=qo("floor"),Ec=Fo((function(e,t){return e*t}),1),bc=qo("round"),Tc=Fo((function(e,t){return e-t}),0);return Ur.after=function(e,t){if("function"!=typeof t)throw new Oe(i);return e=ga(e),function(){if(--e<1)return t.apply(this,arguments)}},Ur.ary=ws,Ur.assign=_a,Ur.assignIn=va,Ur.assignInWith=Sa,Ur.assignWith=Ea,Ur.at=ba,Ur.before=Os,Ur.bind=Cs,Ur.bindAll=Ja,Ur.bindKey=Ms,Ur.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vs(e)?e:[e]},Ur.chain=ps,Ur.chunk=function(e,t,r){t=(r?yi(e,t,r):t===o)?1:hr(ga(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,c=n(dt(i/t));s<i;)c[a++]=eo(e,s,s+=t);return c},Ur.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,o=[];++t<r;){var i=e[t];i&&(o[n++]=i)}return o},Ur.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Dt(Vs(r)?Oo(r):[r],hn(t,1))},Ur.cond=function(e){var t=null==e?0:e.length,r=si();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Oe(i);return[r(e[0]),e[1]]})):[],Yn((function(r){for(var n=-1;++n<t;){var o=e[n];if(Tt(o[0],this,r))return Tt(o[1],this,r)}}))},Ur.conforms=function(e){return function(e){var t=Ia(e);return function(r){return an(r,e,t)}}(sn(e,1))},Ur.constant=Qa,Ur.countBy=fs,Ur.create=function(e,t){var r=xr(e);return null==t?r:tn(r,t)},Ur.curry=function e(t,r,n){var i=Zo(t,8,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Ur.curryRight=function e(t,r,n){var i=Zo(t,16,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Ur.debounce=Is,Ur.defaults=Ta,Ur.defaultsDeep=Aa,Ur.defer=Ps,Ur.delay=Ds,Ur.difference=Bi,Ur.differenceBy=Fi,Ur.differenceWith=Wi,Ur.drop=function(e,t,r){var n=null==e?0:e.length;return n?eo(e,(t=r||t===o?1:ga(t))<0?0:t,n):[]},Ur.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?eo(e,0,(t=n-(t=r||t===o?1:ga(t)))<0?0:t):[]},Ur.dropRightWhile=function(e,t){return e&&e.length?lo(e,si(t,3),!0,!0):[]},Ur.dropWhile=function(e,t){return e&&e.length?lo(e,si(t,3),!0):[]},Ur.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&yi(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=ga(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:ga(n))<0&&(n+=i),n=r>n?0:fa(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Ur.filter=function(e,t){return(Vs(e)?Ct:fn)(e,si(t,3))},Ur.flatMap=function(e,t){return hn(bs(e,t),1)},Ur.flatMapDeep=function(e,t){return hn(bs(e,t),l)},Ur.flatMapDepth=function(e,t,r){return r=r===o?1:ga(r),hn(bs(e,t),r)},Ur.flatten=Gi,Ur.flattenDeep=function(e){return null!=e&&e.length?hn(e,l):[]},Ur.flattenDepth=function(e,t){return null!=e&&e.length?hn(e,t=t===o?1:ga(t)):[]},Ur.flip=function(e){return Zo(e,512)},Ur.flow=ec,Ur.flowRight=tc,Ur.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var o=e[t];n[o[0]]=o[1]}return n},Ur.functions=function(e){return null==e?[]:Sn(e,Ia(e))},Ur.functionsIn=function(e){return null==e?[]:Sn(e,Pa(e))},Ur.groupBy=vs,Ur.initial=function(e){return null!=e&&e.length?eo(e,0,-1):[]},Ur.intersection=qi,Ur.intersectionBy=Yi,Ur.intersectionWith=Ki,Ur.invert=Oa,Ur.invertBy=Ca,Ur.invokeMap=Ss,Ur.iteratee=nc,Ur.keyBy=Es,Ur.keys=Ia,Ur.keysIn=Pa,Ur.map=bs,Ur.mapKeys=function(e,t){var r={};return t=si(t,3),_n(e,(function(e,n,o){rn(r,t(e,n,o),e)})),r},Ur.mapValues=function(e,t){var r={};return t=si(t,3),_n(e,(function(e,n,o){rn(r,n,t(e,n,o))})),r},Ur.matches=function(e){return Un(sn(e,1))},Ur.matchesProperty=function(e,t){return xn(e,sn(t,1))},Ur.memoize=Ls,Ur.merge=Da,Ur.mergeWith=La,Ur.method=oc,Ur.methodOf=ic,Ur.mixin=sc,Ur.negate=Ns,Ur.nthArg=function(e){return e=ga(e),Yn((function(t){return Fn(t,e)}))},Ur.omit=Na,Ur.omitBy=function(e,t){return ka(e,Ns(si(t)))},Ur.once=function(e){return Os(2,e)},Ur.orderBy=function(e,t,r,n){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(r=n?o:r)||(r=null==r?[]:[r]),Wn(e,t,r))},Ur.over=cc,Ur.overArgs=js,Ur.overEvery=uc,Ur.overSome=lc,Ur.partial=ks,Ur.partialRight=Us,Ur.partition=Ts,Ur.pick=ja,Ur.pickBy=ka,Ur.property=pc,Ur.propertyOf=function(e){return function(t){return null==e?o:En(e,t)}},Ur.pull=$i,Ur.pullAll=Xi,Ur.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Vn(e,t,si(r,2)):e},Ur.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Vn(e,t,o,r):e},Ur.pullAt=Ji,Ur.range=dc,Ur.rangeRight=gc,Ur.rearg=xs,Ur.reject=function(e,t){return(Vs(e)?Ct:fn)(e,Ns(si(t,3)))},Ur.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,o=[],i=e.length;for(t=si(t,3);++n<i;){var s=e[n];t(s,n,e)&&(r.push(s),o.push(n))}return Gn(e,o),r},Ur.rest=function(e,t){if("function"!=typeof e)throw new Oe(i);return Yn(e,t=t===o?t:ga(t))},Ur.reverse=Qi,Ur.sampleSize=function(e,t,r){return t=(r?yi(e,t,r):t===o)?1:ga(t),(Vs(e)?Zr:Zn)(e,t)},Ur.set=function(e,t,r){return null==e?e:$n(e,t,r)},Ur.setWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:$n(e,t,r,n)},Ur.shuffle=function(e){return(Vs(e)?$r:Qn)(e)},Ur.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&yi(e,t,r)?(t=0,r=n):(t=null==t?0:ga(t),r=r===o?n:ga(r)),eo(e,t,r)):[]},Ur.sortBy=As,Ur.sortedUniq=function(e){return e&&e.length?oo(e):[]},Ur.sortedUniqBy=function(e,t){return e&&e.length?oo(e,si(t,2)):[]},Ur.split=function(e,t,r){return r&&"number"!=typeof r&&yi(e,t,r)&&(t=r=o),(r=r===o?g:r>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=so(t))&&nr(e)?vo(lr(e),0,r):e.split(t,r):[]},Ur.spread=function(e,t){if("function"!=typeof e)throw new Oe(i);return t=null==t?0:hr(ga(t),0),Yn((function(r){var n=r[t],o=vo(r,0,t);return n&&Dt(o,n),Tt(e,this,o)}))},Ur.tail=function(e){var t=null==e?0:e.length;return t?eo(e,1,t):[]},Ur.take=function(e,t,r){return e&&e.length?eo(e,0,(t=r||t===o?1:ga(t))<0?0:t):[]},Ur.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?eo(e,(t=n-(t=r||t===o?1:ga(t)))<0?0:t,n):[]},Ur.takeRightWhile=function(e,t){return e&&e.length?lo(e,si(t,3),!1,!0):[]},Ur.takeWhile=function(e,t){return e&&e.length?lo(e,si(t,3)):[]},Ur.tap=function(e,t){return t(e),e},Ur.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new Oe(i);return Qs(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),Is(e,t,{leading:n,maxWait:t,trailing:o})},Ur.thru=ds,Ur.toArray=pa,Ur.toPairs=Ua,Ur.toPairsIn=xa,Ur.toPath=function(e){return Vs(e)?Pt(e,ki):aa(e)?[e]:Oo(ji(ya(e)))},Ur.toPlainObject=ma,Ur.transform=function(e,t,r){var n=Vs(e),o=n||Ys(e)||ca(e);if(t=si(t,4),null==r){var i=e&&e.constructor;r=o?n?new i:[]:Qs(e)&&$s(i)?xr(Ge(e)):{}}return(o?Rt:_n)(e,(function(e,n,o){return t(r,e,n,o)})),r},Ur.unary=function(e){return ws(e,1)},Ur.union=es,Ur.unionBy=ts,Ur.unionWith=rs,Ur.uniq=function(e){return e&&e.length?ao(e):[]},Ur.uniqBy=function(e,t){return e&&e.length?ao(e,si(t,2)):[]},Ur.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ao(e,o,t):[]},Ur.unset=function(e,t){return null==e||co(e,t)},Ur.unzip=ns,Ur.unzipWith=os,Ur.update=function(e,t,r){return null==e?e:uo(e,t,mo(r))},Ur.updateWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:uo(e,t,mo(r),n)},Ur.values=Ba,Ur.valuesIn=function(e){return null==e?[]:$t(e,Pa(e))},Ur.without=is,Ur.words=$a,Ur.wrap=function(e,t){return ks(mo(t),e)},Ur.xor=ss,Ur.xorBy=as,Ur.xorWith=cs,Ur.zip=us,Ur.zipObject=function(e,t){return fo(e||[],t||[],Jr)},Ur.zipObjectDeep=function(e,t){return fo(e||[],t||[],$n)},Ur.zipWith=ls,Ur.entries=Ua,Ur.entriesIn=xa,Ur.extend=va,Ur.extendWith=Sa,sc(Ur,Ur),Ur.add=yc,Ur.attempt=Xa,Ur.camelCase=Fa,Ur.capitalize=Wa,Ur.ceil=_c,Ur.clamp=function(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=(r=ha(r))==r?r:0),t!==o&&(t=(t=ha(t))==t?t:0),on(ha(e),t,r)},Ur.clone=function(e){return sn(e,4)},Ur.cloneDeep=function(e){return sn(e,5)},Ur.cloneDeepWith=function(e,t){return sn(e,5,t="function"==typeof t?t:o)},Ur.cloneWith=function(e,t){return sn(e,4,t="function"==typeof t?t:o)},Ur.conformsTo=function(e,t){return null==t||an(e,t,Ia(t))},Ur.deburr=Ha,Ur.defaultTo=function(e,t){return null==e||e!=e?t:e},Ur.divide=vc,Ur.endsWith=function(e,t,r){e=ya(e),t=so(t);var n=e.length,i=r=r===o?n:on(ga(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Ur.eq=Bs,Ur.escape=function(e){return(e=ya(e))&&K.test(e)?e.replace(q,tr):e},Ur.escapeRegExp=function(e){return(e=ya(e))&&re.test(e)?e.replace(te,"\\$&"):e},Ur.every=function(e,t,r){var n=Vs(e)?Ot:dn;return r&&yi(e,t,r)&&(t=o),n(e,si(t,3))},Ur.find=hs,Ur.findIndex=Hi,Ur.findKey=function(e,t){return Ut(e,si(t,3),_n)},Ur.findLast=ms,Ur.findLastIndex=Vi,Ur.findLastKey=function(e,t){return Ut(e,si(t,3),vn)},Ur.floor=Sc,Ur.forEach=ys,Ur.forEachRight=_s,Ur.forIn=function(e,t){return null==e?e:mn(e,si(t,3),Pa)},Ur.forInRight=function(e,t){return null==e?e:yn(e,si(t,3),Pa)},Ur.forOwn=function(e,t){return e&&_n(e,si(t,3))},Ur.forOwnRight=function(e,t){return e&&vn(e,si(t,3))},Ur.get=Ra,Ur.gt=Fs,Ur.gte=Ws,Ur.has=function(e,t){return null!=e&&gi(e,t,Rn)},Ur.hasIn=wa,Ur.head=zi,Ur.identity=rc,Ur.includes=function(e,t,r,n){e=zs(e)?e:Ba(e),r=r&&!n?ga(r):0;var o=e.length;return r<0&&(r=hr(o+r,0)),sa(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&Bt(e,t,r)>-1},Ur.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:ga(r);return o<0&&(o=hr(n+o,0)),Bt(e,t,o)},Ur.inRange=function(e,t,r){return t=da(t),r===o?(r=t,t=0):r=da(r),function(e,t,r){return e>=mr(t,r)&&e<hr(t,r)}(e=ha(e),t,r)},Ur.invoke=Ma,Ur.isArguments=Hs,Ur.isArray=Vs,Ur.isArrayBuffer=Gs,Ur.isArrayLike=zs,Ur.isArrayLikeObject=qs,Ur.isBoolean=function(e){return!0===e||!1===e||ea(e)&&Tn(e)==y},Ur.isBuffer=Ys,Ur.isDate=Ks,Ur.isElement=function(e){return ea(e)&&1===e.nodeType&&!na(e)},Ur.isEmpty=function(e){if(null==e)return!0;if(zs(e)&&(Vs(e)||"string"==typeof e||"function"==typeof e.splice||Ys(e)||ca(e)||Hs(e)))return!e.length;var t=di(e);if(t==b||t==O)return!e.size;if(Ei(e))return!Nn(e).length;for(var r in e)if(Le.call(e,r))return!1;return!0},Ur.isEqual=function(e,t){return In(e,t)},Ur.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:o)?r(e,t):o;return n===o?In(e,t,o,r):!!n},Ur.isError=Zs,Ur.isFinite=function(e){return"number"==typeof e&&kt(e)},Ur.isFunction=$s,Ur.isInteger=Xs,Ur.isLength=Js,Ur.isMap=ta,Ur.isMatch=function(e,t){return e===t||Pn(e,t,ci(t))},Ur.isMatchWith=function(e,t,r){return r="function"==typeof r?r:o,Pn(e,t,ci(t),r)},Ur.isNaN=function(e){return ra(e)&&e!=+e},Ur.isNative=function(e){if(Si(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dn(e)},Ur.isNil=function(e){return null==e},Ur.isNull=function(e){return null===e},Ur.isNumber=ra,Ur.isObject=Qs,Ur.isObjectLike=ea,Ur.isPlainObject=na,Ur.isRegExp=oa,Ur.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=p},Ur.isSet=ia,Ur.isString=sa,Ur.isSymbol=aa,Ur.isTypedArray=ca,Ur.isUndefined=function(e){return e===o},Ur.isWeakMap=function(e){return ea(e)&&di(e)==I},Ur.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==Tn(e)},Ur.join=function(e,t){return null==e?"":Gt.call(e,t)},Ur.kebabCase=Va,Ur.last=Zi,Ur.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=ga(r))<0?hr(n+i,0):mr(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):xt(e,Wt,i,!0)},Ur.lowerCase=Ga,Ur.lowerFirst=za,Ur.lt=ua,Ur.lte=la,Ur.max=function(e){return e&&e.length?gn(e,rc,An):o},Ur.maxBy=function(e,t){return e&&e.length?gn(e,si(t,2),An):o},Ur.mean=function(e){return Ht(e,rc)},Ur.meanBy=function(e,t){return Ht(e,si(t,2))},Ur.min=function(e){return e&&e.length?gn(e,rc,jn):o},Ur.minBy=function(e,t){return e&&e.length?gn(e,si(t,2),jn):o},Ur.stubArray=fc,Ur.stubFalse=hc,Ur.stubObject=function(){return{}},Ur.stubString=function(){return""},Ur.stubTrue=function(){return!0},Ur.multiply=Ec,Ur.nth=function(e,t){return e&&e.length?Fn(e,ga(t)):o},Ur.noConflict=function(){return pt._===this&&(pt._=xe),this},Ur.noop=ac,Ur.now=Rs,Ur.pad=function(e,t,r){e=ya(e);var n=(t=ga(t))?ur(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return Ho(gt(o),r)+e+Ho(dt(o),r)},Ur.padEnd=function(e,t,r){e=ya(e);var n=(t=ga(t))?ur(e):0;return t&&n<t?e+Ho(t-n,r):e},Ur.padStart=function(e,t,r){e=ya(e);var n=(t=ga(t))?ur(e):0;return t&&n<t?Ho(t-n,r)+e:e},Ur.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),_r(ya(e).replace(ne,""),t||0)},Ur.random=function(e,t,r){if(r&&"boolean"!=typeof r&&yi(e,t,r)&&(t=r=o),r===o&&("boolean"==typeof t?(r=t,t=o):"boolean"==typeof e&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=da(e),t===o?(t=e,e=0):t=da(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=vr();return mr(e+i*(t-e+at("1e-"+((i+"").length-1))),t)}return zn(e,t)},Ur.reduce=function(e,t,r){var n=Vs(e)?Lt:zt,o=arguments.length<3;return n(e,si(t,4),r,o,ln)},Ur.reduceRight=function(e,t,r){var n=Vs(e)?Nt:zt,o=arguments.length<3;return n(e,si(t,4),r,o,pn)},Ur.repeat=function(e,t,r){return t=(r?yi(e,t,r):t===o)?1:ga(t),qn(ya(e),t)},Ur.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ur.result=function(e,t,r){var n=-1,i=(t=yo(t,e)).length;for(i||(i=1,e=o);++n<i;){var s=null==e?o:e[ki(t[n])];s===o&&(n=i,s=r),e=$s(s)?s.call(e):s}return e},Ur.round=bc,Ur.runInContext=e,Ur.sample=function(e){return(Vs(e)?Kr:Kn)(e)},Ur.size=function(e){if(null==e)return 0;if(zs(e))return sa(e)?ur(e):e.length;var t=di(e);return t==b||t==O?e.size:Nn(e).length},Ur.snakeCase=qa,Ur.some=function(e,t,r){var n=Vs(e)?jt:to;return r&&yi(e,t,r)&&(t=o),n(e,si(t,3))},Ur.sortedIndex=function(e,t){return ro(e,t)},Ur.sortedIndexBy=function(e,t,r){return no(e,t,si(r,2))},Ur.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ro(e,t);if(n<r&&Bs(e[n],t))return n}return-1},Ur.sortedLastIndex=function(e,t){return ro(e,t,!0)},Ur.sortedLastIndexBy=function(e,t,r){return no(e,t,si(r,2),!0)},Ur.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ro(e,t,!0)-1;if(Bs(e[r],t))return r}return-1},Ur.startCase=Ya,Ur.startsWith=function(e,t,r){return e=ya(e),r=null==r?0:on(ga(r),0,e.length),t=so(t),e.slice(r,r+t.length)==t},Ur.subtract=Tc,Ur.sum=function(e){return e&&e.length?qt(e,rc):0},Ur.sumBy=function(e,t){return e&&e.length?qt(e,si(t,2)):0},Ur.template=function(e,t,r){var n=Ur.templateSettings;r&&yi(e,t,r)&&(t=o),e=ya(e),t=Sa({},t,n,$o);var i,s,a=Sa({},t.imports,n.imports,$o),c=Ia(a),u=$t(a,c),l=0,p=t.interpolate||ve,d="__p += '",g=Re((t.escape||ve).source+"|"+p.source+"|"+(p===X?pe:ve).source+"|"+(t.evaluate||ve).source+"|$","g"),f="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";e.replace(g,(function(t,r,n,o,a,c){return n||(n=o),d+=e.slice(l,c).replace(Se,rr),r&&(i=!0,d+="' +\n__e("+r+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var h=Le.call(t,"variable")&&t.variable;if(h){if(ue.test(h))throw new Ee("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(H,""):d).replace(V,"$1").replace(G,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Xa((function(){return be(c,f+"return "+d).apply(o,u)}));if(m.source=d,Zs(m))throw m;return m},Ur.times=function(e,t){if((e=ga(e))<1||e>p)return[];var r=g,n=mr(e,g);t=si(t),e-=g;for(var o=Yt(n,t);++r<e;)t(r);return o},Ur.toFinite=da,Ur.toInteger=ga,Ur.toLength=fa,Ur.toLower=function(e){return ya(e).toLowerCase()},Ur.toNumber=ha,Ur.toSafeInteger=function(e){return e?on(ga(e),-9007199254740991,p):0===e?e:0},Ur.toString=ya,Ur.toUpper=function(e){return ya(e).toUpperCase()},Ur.trim=function(e,t,r){if((e=ya(e))&&(r||t===o))return Kt(e);if(!e||!(t=so(t)))return e;var n=lr(e),i=lr(t);return vo(n,Jt(n,i),Qt(n,i)+1).join("")},Ur.trimEnd=function(e,t,r){if((e=ya(e))&&(r||t===o))return e.slice(0,pr(e)+1);if(!e||!(t=so(t)))return e;var n=lr(e);return vo(n,0,Qt(n,lr(t))+1).join("")},Ur.trimStart=function(e,t,r){if((e=ya(e))&&(r||t===o))return e.replace(ne,"");if(!e||!(t=so(t)))return e;var n=lr(e);return vo(n,Jt(n,lr(t))).join("")},Ur.truncate=function(e,t){var r=30,n="...";if(Qs(t)){var i="separator"in t?t.separator:i;r="length"in t?ga(t.length):r,n="omission"in t?so(t.omission):n}var s=(e=ya(e)).length;if(nr(e)){var a=lr(e);s=a.length}if(r>=s)return e;var c=r-ur(n);if(c<1)return n;var u=a?vo(a,0,c).join(""):e.slice(0,c);if(i===o)return u+n;if(a&&(c+=u.length-c),oa(i)){if(e.slice(c).search(i)){var l,p=u;for(i.global||(i=Re(i.source,ya(de.exec(i))+"g")),i.lastIndex=0;l=i.exec(p);)var d=l.index;u=u.slice(0,d===o?c:d)}}else if(e.indexOf(so(i),c)!=c){var g=u.lastIndexOf(i);g>-1&&(u=u.slice(0,g))}return u+n},Ur.unescape=function(e){return(e=ya(e))&&Y.test(e)?e.replace(z,dr):e},Ur.uniqueId=function(e){var t=++Ne;return ya(e)+t},Ur.upperCase=Ka,Ur.upperFirst=Za,Ur.each=ys,Ur.eachRight=_s,Ur.first=zi,sc(Ur,(mc={},_n(Ur,(function(e,t){Le.call(Ur.prototype,t)||(mc[t]=e)})),mc),{chain:!1}),Ur.VERSION="4.17.21",Rt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ur[e].placeholder=Ur})),Rt(["drop","take"],(function(e,t){Wr.prototype[e]=function(r){r=r===o?1:hr(ga(r),0);var n=this.__filtered__&&!t?new Wr(this):this.clone();return n.__filtered__?n.__takeCount__=mr(r,n.__takeCount__):n.__views__.push({size:mr(r,g),type:e+(n.__dir__<0?"Right":"")}),n},Wr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Rt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Wr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:si(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Rt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Wr.prototype[e]=function(){return this[r](1).value()[0]}})),Rt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Wr.prototype[e]=function(){return this.__filtered__?new Wr(this):this[r](1)}})),Wr.prototype.compact=function(){return this.filter(rc)},Wr.prototype.find=function(e){return this.filter(e).head()},Wr.prototype.findLast=function(e){return this.reverse().find(e)},Wr.prototype.invokeMap=Yn((function(e,t){return"function"==typeof e?new Wr(this):this.map((function(r){return Cn(r,e,t)}))})),Wr.prototype.reject=function(e){return this.filter(Ns(si(e)))},Wr.prototype.slice=function(e,t){e=ga(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Wr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(r=(t=ga(t))<0?r.dropRight(-t):r.take(t-e)),r)},Wr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wr.prototype.toArray=function(){return this.take(g)},_n(Wr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Ur[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);i&&(Ur.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,c=t instanceof Wr,u=a[0],l=c||Vs(t),p=function(e){var t=i.apply(Ur,Dt([e],a));return n&&d?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,g=!!this.__actions__.length,f=s&&!d,h=c&&!g;if(!s&&l){t=h?t:new Wr(this);var m=e.apply(t,a);return m.__actions__.push({func:ds,args:[p],thisArg:o}),new Fr(m,d)}return f&&h?e.apply(this,a):(m=this.thru(p),f?n?m.value()[0]:m.value():m)})})),Rt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Ur.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Vs(o)?o:[],e)}return this[r]((function(r){return t.apply(Vs(r)?r:[],e)}))}})),_n(Wr.prototype,(function(e,t){var r=Ur[t];if(r){var n=r.name+"";Le.call(Cr,n)||(Cr[n]=[]),Cr[n].push({name:t,func:r})}})),Cr[xo(o,2).name]=[{name:"wrapper",func:o}],Wr.prototype.clone=function(){var e=new Wr(this.__wrapped__);return e.__actions__=Oo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oo(this.__views__),e},Wr.prototype.reverse=function(){if(this.__filtered__){var e=new Wr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Vs(e),n=t<0,o=r?e.length:0,i=function(e,t,r){for(var n=-1,o=r.length;++n<o;){var i=r[n],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=mr(t,e+s);break;case"takeRight":e=hr(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,c=a-s,u=n?a:s-1,l=this.__iteratees__,p=l.length,d=0,g=mr(c,this.__takeCount__);if(!r||!n&&o==c&&g==c)return po(e,this.__actions__);var f=[];e:for(;c--&&d<g;){for(var h=-1,m=e[u+=t];++h<p;){var y=l[h],_=y.iteratee,v=y.type,S=_(m);if(2==v)m=S;else if(!S){if(1==v)continue e;break e}}f[d++]=m}return f},Ur.prototype.at=gs,Ur.prototype.chain=function(){return ps(this)},Ur.prototype.commit=function(){return new Fr(this.value(),this.__chain__)},Ur.prototype.next=function(){this.__values__===o&&(this.__values__=pa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Ur.prototype.plant=function(e){for(var t,r=this;r instanceof Br;){var n=xi(r);n.__index__=0,n.__values__=o,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Ur.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wr){var t=e;return this.__actions__.length&&(t=new Wr(this)),(t=t.reverse()).__actions__.push({func:ds,args:[Qi],thisArg:o}),new Fr(t,this.__chain__)}return this.thru(Qi)},Ur.prototype.toJSON=Ur.prototype.valueOf=Ur.prototype.value=function(){return po(this.__wrapped__,this.__actions__)},Ur.prototype.first=Ur.prototype.head,Ze&&(Ur.prototype[Ze]=function(){return this}),Ur}();pt._=gr,(n=function(){return gr}.call(t,r,t,e))===o||(e.exports=n)}.call(this)},6619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{}class n extends r{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class o extends r{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class i extends r{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class s extends r{}class a extends r{constructor(e){super(`Invalid unit ${e}`)}}class c extends r{}class u extends r{constructor(){super("Zone is an abstract class")}}const l="numeric",p="short",d="long",g={year:l,month:l,day:l},f={year:l,month:p,day:l},h={year:l,month:p,day:l,weekday:p},m={year:l,month:d,day:l},y={year:l,month:d,day:l,weekday:d},_={hour:l,minute:l},v={hour:l,minute:l,second:l},S={hour:l,minute:l,second:l,timeZoneName:p},E={hour:l,minute:l,second:l,timeZoneName:d},b={hour:l,minute:l,hourCycle:"h23"},T={hour:l,minute:l,second:l,hourCycle:"h23"},A={hour:l,minute:l,second:l,hourCycle:"h23",timeZoneName:p},R={hour:l,minute:l,second:l,hourCycle:"h23",timeZoneName:d},w={year:l,month:l,day:l,hour:l,minute:l},O={year:l,month:l,day:l,hour:l,minute:l,second:l},C={year:l,month:p,day:l,hour:l,minute:l},M={year:l,month:p,day:l,hour:l,minute:l,second:l},I={year:l,month:p,day:l,weekday:p,hour:l,minute:l},P={year:l,month:d,day:l,hour:l,minute:l,timeZoneName:p},D={year:l,month:d,day:l,hour:l,minute:l,second:l,timeZoneName:p},L={year:l,month:d,day:l,weekday:d,hour:l,minute:l,timeZoneName:d},N={year:l,month:d,day:l,weekday:d,hour:l,minute:l,second:l,timeZoneName:d};class j{get type(){throw new u}get name(){throw new u}get ianaName(){return this.name}get isUniversal(){throw new u}offsetName(e,t){throw new u}formatOffset(e,t){throw new u}offset(e){throw new u}equals(e){throw new u}get isValid(){throw new u}}let k=null;class U extends j{static get instance(){return null===k&&(k=new U),k}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,t){let{format:r,locale:n}=t;return $e(e,r,n)}formatOffset(e,t){return et(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let x={};const B={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let F={};class W extends j{static create(e){return F[e]||(F[e]=new W(e)),F[e]}static resetCache(){F={},x={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=W.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,t){let{format:r,locale:n}=t;return $e(e,r,n,this.name)}formatOffset(e,t){return et(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const r=(n=this.name,x[n]||(x[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),x[n]);var n;let[o,i,s,a,c,u,l]=r.formatToParts?function(e,t){const r=e.formatToParts(t),n=[];for(let e=0;e<r.length;e++){const{type:t,value:o}=r[e],i=B[t];"era"===t?n[i]=o:Me(i)||(n[i]=parseInt(o,10))}return n}(r,t):function(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,o,i,s,a,c,u,l]=n;return[s,o,i,a,c,u,l]}(r,t);"BC"===a&&(o=1-Math.abs(o));let p=+t;const d=p%1e3;return p-=d>=0?d:1e3+d,(qe({year:o,month:i,day:s,hour:24===c?0:c,minute:u,second:l,millisecond:0})-p)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let H={},V={};function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=JSON.stringify([e,t]);let n=V[r];return n||(n=new Intl.DateTimeFormat(e,t),V[r]=n),n}let z={},q={},Y=null,K={};function Z(e,t,r,n){const o=e.listingMode();return"error"===o?null:"en"===o?r(t):n(t)}class ${constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:o,...i}=r;if(!t||Object.keys(i).length>0){const t={useGrouping:!1,...r};r.padTo>0&&(t.minimumIntegerDigits=r.padTo),this.inf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=JSON.stringify([e,t]);let n=z[r];return n||(n=new Intl.NumberFormat(e,t),z[r]=n),n}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return xe(this.floor?Math.floor(e):He(e,3),this.padTo)}}class X{constructor(e,t,r){let n;if(this.opts=r,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,r=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&W.create(r).valid?(n=r,this.dt=e):(n="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||n,this.dtf=G(t,o)}format(){return this.originalZone?this.formatToParts().map((e=>{let{value:t}=e;return t})).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class J{constructor(e,t,r){this.opts={style:"long",...r},!t&&De()&&(this.rtf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{base:r,...n}=t,o=JSON.stringify([e,n]);let i=q[o];return i||(i=new Intl.RelativeTimeFormat(e,t),q[o]=i),i}(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===r&&i){const r="days"===e;switch(t){case 1:return r?"tomorrow":`next ${o[e][0]}`;case-1:return r?"yesterday":`last ${o[e][0]}`;case 0:return r?"today":`this ${o[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),c=1===a,u=o[e],l=n?c?u[1]:u[2]||u[1]:c?o[e][0]:e;return s?`${a} ${l} ago`:`in ${a} ${l}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Q={firstDay:1,minimalDays:4,weekend:[6,7]};class ee{static fromOpts(e){return ee.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=e||ge.defaultLocale,s=i||(o?"en-US":Y||(Y=(new Intl.DateTimeFormat).resolvedOptions().locale,Y)),a=t||ge.defaultNumberingSystem,c=r||ge.defaultOutputCalendar,u=ke(n)||ge.defaultWeekSettings;return new ee(s,a,c,u,i)}static resetCache(){Y=null,V={},z={},q={}}static fromObject(){let{locale:e,numberingSystem:t,outputCalendar:r,weekSettings:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ee.create(e,t,r,n)}constructor(e,t,r,n,o){const[i,s,a]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(-1===r)return[e];{let t,n;try{t=G(e).resolvedOptions(),n=e}catch(o){const i=e.substring(0,r);t=G(i).resolvedOptions(),n=i}const{numberingSystem:o,calendar:i}=t;return[n,o,i]}}(e);this.locale=i,this.numberingSystem=t||s||null,this.outputCalendar=r||a||null,this.weekSettings=n,this.intl=function(e,t,r){return r||t?(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?ee.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,ke(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone({...e,defaultToEN:!0})}redefaultToSystem(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone({...e,defaultToEN:!1})}months(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Z(this,e,it,(()=>{const r=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){const t=[];for(let r=1;r<=12;r++){const n=an.utc(2009,r,1);t.push(e(n))}return t}((e=>this.extract(e,r,"month")))),this.monthsCache[n][e]}))}weekdays(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Z(this,e,ut,(()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let r=1;r<=7;r++){const n=an.utc(2016,11,13+r);t.push(e(n))}return t}((e=>this.extract(e,r,"weekday")))),this.weekdaysCache[n][e]}))}meridiems(){return Z(this,void 0,(()=>lt),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[an.utc(2016,11,13,9),an.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return Z(this,e,ft,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[an.utc(-40,1,1),an.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,r){const n=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===r));return n?n.value:null}numberFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new $(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new X(e,this.intl,t)}relFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new J(this.intl,this.isEnglish(),e)}listFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=JSON.stringify([e,t]);let n=H[r];return n||(n=new Intl.ListFormat(e,t),H[r]=n),n}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Le()?function(e){let t=K[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,K[e]=t}return t}(this.locale):Q}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let te=null;class re extends j{static get utcInstance(){return null===te&&(te=new re(0)),te}static instance(e){return 0===e?re.utcInstance:new re(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new re(Xe(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${et(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${et(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return et(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class ne extends j{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function oe(e,t){if(Me(e)||null===e)return t;if(e instanceof j)return e;if("string"==typeof e){const r=e.toLowerCase();return"default"===r?t:"local"===r||"system"===r?U.instance:"utc"===r||"gmt"===r?re.utcInstance:re.parseSpecifier(r)||W.create(e)}return Ie(e)?re.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new ne(e)}let ie,se=()=>Date.now(),ae="system",ce=null,ue=null,le=null,pe=60,de=null;class ge{static get now(){return se}static set now(e){se=e}static set defaultZone(e){ae=e}static get defaultZone(){return oe(ae,U.instance)}static get defaultLocale(){return ce}static set defaultLocale(e){ce=e}static get defaultNumberingSystem(){return ue}static set defaultNumberingSystem(e){ue=e}static get defaultOutputCalendar(){return le}static set defaultOutputCalendar(e){le=e}static get defaultWeekSettings(){return de}static set defaultWeekSettings(e){de=ke(e)}static get twoDigitCutoffYear(){return pe}static set twoDigitCutoffYear(e){pe=e%100}static get throwOnInvalid(){return ie}static set throwOnInvalid(e){ie=e}static resetCaches(){ee.resetCache(),W.resetCache()}}class fe{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const he=[0,31,59,90,120,151,181,212,243,273,304,334],me=[0,31,60,91,121,152,182,213,244,274,305,335];function ye(e,t){return new fe("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function _e(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const o=n.getUTCDay();return 0===o?7:o}function ve(e,t,r){return r+(Ve(e)?me:he)[t-1]}function Se(e,t){const r=Ve(e)?me:he,n=r.findIndex((e=>e<t));return{month:n+1,day:t-r[n]}}function Ee(e,t){return(e-t+7)%7+1}function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const{year:n,month:o,day:i}=e,s=ve(n,o,i),a=Ee(_e(n,o,i),r);let c,u=Math.floor((s-a+14-t)/7);return u<1?(c=n-1,u=Ke(c,t,r)):u>Ke(n,t,r)?(c=n+1,u=1):c=n,{weekYear:c,weekNumber:u,weekday:a,...tt(e)}}function Te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const{weekYear:n,weekNumber:o,weekday:i}=e,s=Ee(_e(n,1,t),r),a=Ge(n);let c,u=7*o+i-s-7+t;u<1?(c=n-1,u+=Ge(c)):u>a?(c=n+1,u-=Ge(n)):c=n;const{month:l,day:p}=Se(c,u);return{year:c,month:l,day:p,...tt(e)}}function Ae(e){const{year:t,month:r,day:n}=e;return{year:t,ordinal:ve(t,r,n),...tt(e)}}function Re(e){const{year:t,ordinal:r}=e,{month:n,day:o}=Se(t,r);return{year:t,month:n,day:o,...tt(e)}}function we(e,t){if(!Me(e.localWeekday)||!Me(e.localWeekNumber)||!Me(e.localWeekYear)){if(!Me(e.weekday)||!Me(e.weekNumber)||!Me(e.weekYear))throw new s("Cannot mix locale-based week fields with ISO-based week fields");return Me(e.localWeekday)||(e.weekday=e.localWeekday),Me(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Me(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Oe(e){const t=Pe(e.year),r=Ue(e.month,1,12),n=Ue(e.day,1,ze(e.year,e.month));return t?r?!n&&ye("day",e.day):ye("month",e.month):ye("year",e.year)}function Ce(e){const{hour:t,minute:r,second:n,millisecond:o}=e,i=Ue(t,0,23)||24===t&&0===r&&0===n&&0===o,s=Ue(r,0,59),a=Ue(n,0,59),c=Ue(o,0,999);return i?s?a?!c&&ye("millisecond",o):ye("second",n):ye("minute",r):ye("hour",t)}function Me(e){return void 0===e}function Ie(e){return"number"==typeof e}function Pe(e){return"number"==typeof e&&e%1==0}function De(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Le(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function Ne(e,t,r){if(0!==e.length)return e.reduce(((e,n)=>{const o=[t(n),n];return e&&r(e[0],o[0])===e[0]?e:o}),null)[1]}function je(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ke(e){if(null==e)return null;if("object"!=typeof e)throw new c("Week settings must be an object");if(!Ue(e.firstDay,1,7)||!Ue(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!Ue(e,1,7))))throw new c("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Ue(e,t,r){return Pe(e)&&e>=t&&e<=r}function xe(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t=e<0?"-"+(""+-e).padStart(r,"0"):(""+e).padStart(r,"0"),t}function Be(e){return Me(e)||null===e||""===e?void 0:parseInt(e,10)}function Fe(e){return Me(e)||null===e||""===e?void 0:parseFloat(e)}function We(e){if(!Me(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function He(e,t){const r=10**t;return(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Math.trunc:Math.round)(e*r)/r}function Ve(e){return e%4==0&&(e%100!=0||e%400==0)}function Ge(e){return Ve(e)?366:365}function ze(e,t){const r=(n=t-1)-12*Math.floor(n/12)+1;var n;return 2===r?Ve(e+(t-r)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function qe(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Ye(e,t,r){return-Ee(_e(e,1,t),r)+t-1}function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=Ye(e,t,r),o=Ye(e+1,t,r);return(Ge(e)-n+o)/7}function Ze(e){return e>99?e:e>ge.twoDigitCutoffYear?1900+e:2e3+e}function $e(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const s={timeZoneName:t,...i},a=new Intl.DateTimeFormat(r,s).formatToParts(o).find((e=>"timezonename"===e.type.toLowerCase()));return a?a.value:null}function Xe(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0;return 60*r+(r<0||Object.is(r,-0)?-n:n)}function Je(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new c(`Invalid unit value ${e}`);return t}function Qe(e,t){const r={};for(const n in e)if(je(e,n)){const o=e[n];if(null==o)continue;r[t(n)]=Je(o)}return r}function et(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${xe(r,2)}:${xe(n,2)}`;case"narrow":return`${o}${r}${n>0?`:${n}`:""}`;case"techie":return`${o}${xe(r,2)}${xe(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function tt(e){return function(e,t){return["hour","minute","second","millisecond"].reduce(((t,r)=>(t[r]=e[r],t)),{})}(e)}const rt=["January","February","March","April","May","June","July","August","September","October","November","December"],nt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ot=["J","F","M","A","M","J","J","A","S","O","N","D"];function it(e){switch(e){case"narrow":return[...ot];case"short":return[...nt];case"long":return[...rt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const st=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],at=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ct=["M","T","W","T","F","S","S"];function ut(e){switch(e){case"narrow":return[...ct];case"short":return[...at];case"long":return[...st];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const lt=["AM","PM"],pt=["Before Christ","Anno Domini"],dt=["BC","AD"],gt=["B","A"];function ft(e){switch(e){case"narrow":return[...gt];case"short":return[...dt];case"long":return[...pt];default:return null}}function ht(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const mt={D:g,DD:f,DDD:m,DDDD:y,t:_,tt:v,ttt:S,tttt:E,T:b,TT:T,TTT:A,TTTT:R,f:w,ff:C,fff:P,ffff:L,F:O,FF:M,FFF:D,FFFF:N};class yt{static create(e){return new yt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static parseFormat(e){let t=null,r="",n=!1;const o=[];for(let i=0;i<e.length;i++){const s=e.charAt(i);"'"===s?(r.length>0&&o.push({literal:n||/^\s+$/.test(r),val:r}),t=null,r="",n=!n):n||s===t?r+=s:(r.length>0&&o.push({literal:/^\s+$/.test(r),val:r}),r=s,t=s)}return r.length>0&&o.push({literal:n||/^\s+$/.test(r),val:r}),o}static macroTokenToFormatOpts(e){return mt[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return xe(e,t);const r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const r="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(t,r)=>this.loc.extract(e,t,r),i=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=(t,n)=>r?function(e,t){return it(t)[e.month-1]}(e,t):o(n?{month:t}:{month:t,day:"numeric"},"month"),a=(t,n)=>r?function(e,t){return ut(t)[e.weekday-1]}(e,t):o(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const r=yt.macroTokenToFormatOpts(t);return r?this.formatWithSystemDefault(e,r):t},u=t=>r?function(e,t){return ft(t)[e.year<0?0:1]}(e,t):o({era:t},"era");return ht(yt.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return r?function(e){return lt[e.hour<12?0:1]}(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return n?o({day:"numeric"},"day"):this.num(e.day);case"dd":return n?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return a("short",!0);case"cccc":return a("long",!0);case"ccccc":return a("narrow",!0);case"EEE":return a("short",!1);case"EEEE":return a("long",!1);case"EEEEE":return a("narrow",!1);case"L":return n?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return s("short",!0);case"LLLL":return s("long",!0);case"LLLLL":return s("narrow",!0);case"M":return n?o({month:"numeric"},"month"):this.num(e.month);case"MM":return n?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return s("short",!1);case"MMMM":return s("long",!1);case"MMMMM":return s("narrow",!1);case"y":return n?o({year:"numeric"},"year"):this.num(e.year);case"yy":return n?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const r=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=yt.parseFormat(t),o=n.reduce(((e,t)=>{let{literal:r,val:n}=t;return r?e:e.concat(n)}),[]);return ht(n,(e=>t=>{const n=r(t);return n?this.num(e.get(n),t.length):t})(e.shiftTo(...o.map(r).filter((e=>e)))))}}const _t=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function vt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce(((e,t)=>e+t.source),"");return RegExp(`^${n}$`)}function St(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>t.reduce(((t,r)=>{let[n,o,i]=t;const[s,a,c]=r(e,i);return[{...n,...s},a||o,c]}),[{},null,1]).slice(0,2)}function Et(e){if(null==e)return[null,null];for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(const[t,n]of r){const r=t.exec(e);if(r)return n(r)}return[null,null]}function bt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(e,r)=>{const n={};let o;for(o=0;o<t.length;o++)n[t[o]]=Be(e[r+o]);return[n,null,r+o]}}const Tt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,At=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Rt=RegExp(`${At.source}(?:${Tt.source}?(?:\\[(${_t.source})\\])?)?`),wt=RegExp(`(?:T${Rt.source})?`),Ot=bt("weekYear","weekNumber","weekDay"),Ct=bt("year","ordinal"),Mt=RegExp(`${At.source} ?(?:${Tt.source}|(${_t.source}))?`),It=RegExp(`(?: ${Mt.source})?`);function Pt(e,t,r){const n=e[t];return Me(n)?r:Be(n)}function Dt(e,t){return[{hours:Pt(e,t,0),minutes:Pt(e,t+1,0),seconds:Pt(e,t+2,0),milliseconds:We(e[t+3])},null,t+4]}function Lt(e,t){const r=!e[t]&&!e[t+1],n=Xe(e[t+1],e[t+2]);return[{},r?null:re.instance(n),t+3]}function Nt(e,t){return[{},e[t]?W.create(e[t]):null,t+1]}const jt=RegExp(`^T?${At.source}$`),kt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ut(e){const[t,r,n,o,i,s,a,c,u]=e,l="-"===t[0],p=c&&"-"===c[0],d=function(e){return void 0!==e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e&&l)?-e:e};return[{years:d(Fe(r)),months:d(Fe(n)),weeks:d(Fe(o)),days:d(Fe(i)),hours:d(Fe(s)),minutes:d(Fe(a)),seconds:d(Fe(c),"-0"===c),milliseconds:d(We(u),p)}]}const xt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Bt(e,t,r,n,o,i,s){const a={year:2===t.length?Ze(Be(t)):Be(t),month:nt.indexOf(r)+1,day:Be(n),hour:Be(o),minute:Be(i)};return s&&(a.second=Be(s)),e&&(a.weekday=e.length>3?st.indexOf(e)+1:at.indexOf(e)+1),a}const Ft=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Wt(e){const[,t,r,n,o,i,s,a,c,u,l,p]=e,d=Bt(t,o,n,r,i,s,a);let g;return g=c?xt[c]:u?0:Xe(l,p),[d,new re(g)]}const Ht=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Vt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Gt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function zt(e){const[,t,r,n,o,i,s,a]=e;return[Bt(t,o,n,r,i,s,a),re.utcInstance]}function qt(e){const[,t,r,n,o,i,s,a]=e;return[Bt(t,a,r,n,o,i,s),re.utcInstance]}const Yt=vt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,wt),Kt=vt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,wt),Zt=vt(/(\d{4})-?(\d{3})/,wt),$t=vt(Rt),Xt=St((function(e,t){return[{year:Pt(e,t),month:Pt(e,t+1,1),day:Pt(e,t+2,1)},null,t+3]}),Dt,Lt,Nt),Jt=St(Ot,Dt,Lt,Nt),Qt=St(Ct,Dt,Lt,Nt),er=St(Dt,Lt,Nt),tr=St(Dt),rr=vt(/(\d{4})-(\d\d)-(\d\d)/,It),nr=vt(Mt),or=St(Dt,Lt,Nt),ir="Invalid Duration",sr={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ar={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...sr},cr={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...sr},ur=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],lr=ur.slice(0).reverse();function pr(e,t){const r={values:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new fr(r)}function dr(e,t){var r;let n=null!=(r=t.milliseconds)?r:0;for(const r of lr.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function gr(e,t){const r=dr(e,t)<0?-1:1;ur.reduceRight(((n,o)=>{if(Me(t[o]))return n;if(n){const i=t[n]*r,s=e[o][n],a=Math.floor(i/s);t[o]+=a*r,t[n]-=a*s*r}return o}),null),ur.reduce(((r,n)=>{if(Me(t[n]))return r;if(r){const o=t[r]%1;t[r]-=o,t[n]+=o*e[r][n]}return n}),null)}class fr{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let r=t?cr:ar;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||ee.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return fr.fromObject({milliseconds:e},t)}static fromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||"object"!=typeof e)throw new c("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new fr({values:Qe(e,fr.normalizeUnit),loc:ee.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Ie(e))return fr.fromMillis(e);if(fr.isDuration(e))return e;if("object"==typeof e)return fr.fromObject(e);throw new c(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[r]=function(e){return Et(e,[kt,Ut])}(e);return r?fr.fromObject(r,t):fr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=function(e){return Et(e,[jt,tr])}(e);return r?fr.fromObject(r,t):fr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new c("need to specify a reason the Duration is invalid");const r=e instanceof fe?e:new fe(e,t);if(ge.throwOnInvalid)throw new i(r);return new fr({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new a(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?yt.create(this.loc,r).formatDurationFromString(this,e):ir}toHuman(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return ir;const t=ur.map((t=>{const r=this.values[t];return Me(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(r)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=He(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},an.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?dr(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=fr.fromDurationLike(e),r={};for(const e of ur)(je(t.values,e)||je(this.values,e))&&(r[e]=t.get(e)+this.get(e));return pr(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=fr.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=Je(e(this.values[r],r));return pr(this,{values:t},!0)}get(e){return this[fr.normalizeUnit(e)]}set(e){return this.isValid?pr(this,{values:{...this.values,...Qe(e,fr.normalizeUnit)}}):this}reconfigure(){let{locale:e,numberingSystem:t,conversionAccuracy:r,matrix:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pr(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:r})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return gr(this.matrix,e),pr(this,{values:e},!0)}rescale(){return this.isValid?pr(this,{values:function(e){const t={};for(const[r,n]of Object.entries(e))0!==n&&(t[r]=n);return t}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!this.isValid)return this;if(0===t.length)return this;t=t.map((e=>fr.normalizeUnit(e)));const n={},o={},i=this.toObject();let s;for(const e of ur)if(t.indexOf(e)>=0){s=e;let t=0;for(const r in o)t+=this.matrix[r][e]*o[r],o[r]=0;Ie(i[e])&&(t+=i[e]);const r=Math.trunc(t);n[e]=r,o[e]=(1e3*t-1e3*r)/1e3}else Ie(i[e])&&(o[e]=i[e]);for(const e in o)0!==o[e]&&(n[s]+=e===s?o[e]:o[e]/this.matrix[s][e]);return gr(this.matrix,n),pr(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return pr(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const n of ur)if(t=this.values[n],r=e.values[n],!(void 0===t||0===t?void 0===r||0===r:t===r))return!1;var t,r;return!0}}const hr="Invalid Interval";class mr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new c("need to specify a reason the Interval is invalid");const r=e instanceof fe?e:new fe(e,t);if(ge.throwOnInvalid)throw new o(r);return new mr({invalid:r})}static fromDateTimes(e,t){const r=cn(e),n=cn(t),o=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?mr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:mr.invalid("missing or invalid end"):mr.invalid("missing or invalid start")}(r,n);return null==o?new mr({start:r,end:n}):o}static after(e,t){const r=fr.fromDurationLike(t),n=cn(e);return mr.fromDateTimes(n,n.plus(r))}static before(e,t){const r=fr.fromDurationLike(t),n=cn(e);return mr.fromDateTimes(n.minus(r),n)}static fromISO(e,t){const[r,n]=(e||"").split("/",2);if(r&&n){let e,o,i,s;try{e=an.fromISO(r,t),o=e.isValid}catch(n){o=!1}try{i=an.fromISO(n,t),s=i.isValid}catch(n){s=!1}if(o&&s)return mr.fromDateTimes(e,i);if(o){const r=fr.fromISO(n,t);if(r.isValid)return mr.after(e,r)}else if(s){const e=fr.fromISO(r,t);if(e.isValid)return mr.before(i,e)}}return mr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration(e).get(e):NaN}count(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",t=arguments.length>1?arguments[1]:void 0;if(!this.isValid)return NaN;const r=this.start.startOf(e,t);let n;return n=null!=t&&t.useLocaleWeeks?this.end.reconfigure({locale:r.locale}):this.end,n=n.startOf(e,t),Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set(){let{start:e,end:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?mr.fromDateTimes(e||this.s,t||this.e):this}splitAt(){if(!this.isValid)return[];for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.map(cn).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),o=[];let{s:i}=this,s=0;for(;i<this.e;){const e=n[s]||this.e,t=+e>+this.e?this.e:e;o.push(mr.fromDateTimes(i,t)),i=t,s+=1}return o}splitBy(e){const t=fr.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let r,{s:n}=this,o=1;const i=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits((e=>e*o)));r=+e>+this.e?this.e:e,i.push(mr.fromDateTimes(n,r)),n=r,o+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:mr.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return mr.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort(((e,t)=>e.s-t.s)).reduce(((e,t)=>{let[r,n]=e;return n?n.overlaps(t)||n.abutsStart(t)?[r,n.union(t)]:[r.concat([n]),t]:[r,t]}),[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const n=[],o=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),i=Array.prototype.concat(...o).sort(((e,t)=>e.time-t.time));for(const e of i)r+="s"===e.type?1:-1,1===r?t=e.time:(t&&+t!=+e.time&&n.push(mr.fromDateTimes(t,e.time)),t=null);return mr.merge(n)}difference(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return mr.xor([this].concat(t)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:hr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?yt.create(this.s.loc.clone(t),e).formatInterval(this):hr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:hr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:hr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:hr}toFormat(e){let{separator:t=" – "}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:hr}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):fr.invalid(this.invalidReason)}mapEndpoints(e){return mr.fromDateTimes(e(this.s),e(this.e))}}class yr{static hasDST(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge.defaultZone;const t=an.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return W.isValidZone(e)}static normalizeZone(e){return oe(e,ge.defaultZone)}static getStartOfWeek(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||ee.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||ee.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||ee.create(e)).getWeekendDays().slice()}static months(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:o="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n||ee.create(t,r,o)).months(e)}static monthsFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:o="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n||ee.create(t,r,o)).months(e,!0)}static weekdays(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:r=null,locObj:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n||ee.create(t,r,null)).weekdays(e)}static weekdaysFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:r=null,locObj:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n||ee.create(t,r,null)).weekdays(e,!0)}static meridiems(){let{locale:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ee.create(e).meridiems()}static eras(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",{locale:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ee.create(t,null,"gregory").eras(e)}static features(){return{relative:De(),localeWeek:Le()}}}function _r(e,t){const r=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(fr.fromMillis(n).as("days"))}const vr={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Sr={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Er=vr.hanidec.replace(/[\[|\]]/g,"").split("");function br(e){let{numberingSystem:t}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new RegExp(`${vr[t||"latn"]}${r}`)}function Tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return{regex:e,deser:e=>{let[r]=e;return t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(-1!==e[r].search(vr.hanidec))t+=Er.indexOf(e[r]);else for(const e in Sr){const[r,o]=Sr[e];n>=r&&n<=o&&(t+=n-r)}}return parseInt(t,10)}return t}(r))}}}const Ar=`[ ${String.fromCharCode(160)}]`,Rr=new RegExp(Ar,"g");function wr(e){return e.replace(/\./g,"\\.?").replace(Rr,Ar)}function Or(e){return e.replace(/\./g,"").replace(Rr," ").toLowerCase()}function Cr(e,t){return null===e?null:{regex:RegExp(e.map(wr).join("|")),deser:r=>{let[n]=r;return e.findIndex((e=>Or(n)===Or(e)))+t}}}function Mr(e,t){return{regex:e,deser:e=>{let[,t,r]=e;return Xe(t,r)},groups:t}}function Ir(e){return{regex:e,deser:e=>{let[t]=e;return t}}}const Pr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Dr=null;function Lr(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const r=jr(yt.macroTokenToFormatOpts(e.val),t);return null==r||r.includes(void 0)?e:r}(e,t))))}function Nr(e,t,r){const n=Lr(yt.parseFormat(r),e),o=n.map((t=>function(e,t){const r=br(t),n=br(t,"{2}"),o=br(t,"{3}"),i=br(t,"{4}"),s=br(t,"{6}"),a=br(t,"{1,2}"),c=br(t,"{1,3}"),u=br(t,"{1,6}"),l=br(t,"{1,9}"),p=br(t,"{2,4}"),d=br(t,"{4,6}"),g=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:e=>{let[t]=e;return t},literal:!0};var t},f=(f=>{if(e.literal)return g(f);switch(f.val){case"G":return Cr(t.eras("short"),0);case"GG":return Cr(t.eras("long"),0);case"y":return Tr(u);case"yy":case"kk":return Tr(p,Ze);case"yyyy":case"kkkk":return Tr(i);case"yyyyy":return Tr(d);case"yyyyyy":return Tr(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Tr(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Tr(n);case"MMM":return Cr(t.months("short",!0),1);case"MMMM":return Cr(t.months("long",!0),1);case"LLL":return Cr(t.months("short",!1),1);case"LLLL":return Cr(t.months("long",!1),1);case"o":case"S":return Tr(c);case"ooo":case"SSS":return Tr(o);case"u":return Ir(l);case"uu":return Ir(a);case"uuu":case"E":case"c":return Tr(r);case"a":return Cr(t.meridiems(),0);case"EEE":return Cr(t.weekdays("short",!1),1);case"EEEE":return Cr(t.weekdays("long",!1),1);case"ccc":return Cr(t.weekdays("short",!0),1);case"cccc":return Cr(t.weekdays("long",!0),1);case"Z":case"ZZ":return Mr(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Mr(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Ir(/[a-z_+-/]{1,256}?/i);case" ":return Ir(/[^\S\n\r]/);default:return g(f)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return f.token=e,f}(t,e))),i=o.find((e=>e.invalidReason));if(i)return{input:t,tokens:n,invalidReason:i.invalidReason};{const[e,r]=function(e){return[`^${e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,e]}(o),i=RegExp(e,"i"),[a,c]=function(e,t,r){const n=e.match(t);if(n){const e={};let t=1;for(const o in r)if(je(r,o)){const i=r[o],s=i.groups?i.groups+1:1;!i.literal&&i.token&&(e[i.token.val[0]]=i.deser(n.slice(t,t+s))),t+=s}return[n,e]}return[n,{}]}(t,i,r),[u,l,p]=c?function(e){let t,r=null;return Me(e.z)||(r=W.create(e.z)),Me(e.Z)||(r||(r=new re(e.Z)),t=e.Z),Me(e.q)||(e.M=3*(e.q-1)+1),Me(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Me(e.u)||(e.S=We(e.u)),[Object.keys(e).reduce(((t,r)=>{const n=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(r);return n&&(t[n]=e[r]),t}),{}),r,t]}(c):[null,null,void 0];if(je(c,"a")&&je(c,"H"))throw new s("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:i,rawMatches:a,matches:c,result:u,zone:l,specificOffset:p}}}function jr(e,t){if(!e)return null;const r=yt.create(t,e).dtFormatter((Dr||(Dr=an.fromMillis(1555555555555)),Dr)),n=r.formatToParts(),o=r.resolvedOptions();return n.map((t=>function(e,t,r){const{type:n,value:o}=e;if("literal"===n){const e=/^\s+$/.test(o);return{literal:!e,val:e?" ":o}}const i=t[n];let s=n;"hour"===n&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":r.hour12?"hour12":"hour24");let a=Pr[s];if("object"==typeof a&&(a=a[i]),a)return{literal:!1,val:a}}(t,e,o)))}const kr="Invalid DateTime",Ur=864e13;function xr(e){return new fe("unsupported zone",`the zone "${e.name}" is not supported`)}function Br(e){return null===e.weekData&&(e.weekData=be(e.c)),e.weekData}function Fr(e){return null===e.localWeekData&&(e.localWeekData=be(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Wr(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new an({...r,...t,old:r})}function Hr(e,t,r){let n=e-60*t*1e3;const o=r.offset(n);if(t===o)return[n,t];n-=60*(o-t)*1e3;const i=r.offset(n);return o===i?[n,o]:[e-60*Math.min(o,i)*1e3,Math.max(o,i)]}function Vr(e,t){const r=new Date(e+=60*t*1e3);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Gr(e,t,r){return Hr(qe(e),t,r)}function zr(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),i={...e.c,year:n,month:o,day:Math.min(e.c.day,ze(n,o))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=fr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=qe(i);let[c,u]=Hr(a,r,e.zone);return 0!==s&&(c+=s,u=e.zone.offset(c)),{ts:c,o:u}}function qr(e,t,r,n,o,i){const{setZone:s,zone:a}=r;if(e&&0!==Object.keys(e).length||t){const n=t||a,o=an.fromObject(e,{...r,zone:n,specificOffset:i});return s?o:o.setZone(a)}return an.invalid(new fe("unparsable",`the input "${o}" can't be parsed as ${n}`))}function Yr(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.isValid?yt.create(ee.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Kr(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=xe(e.c.year,r?6:4),t?(n+="-",n+=xe(e.c.month),n+="-",n+=xe(e.c.day)):(n+=xe(e.c.month),n+=xe(e.c.day)),n}function Zr(e,t,r,n,o,i){let s=xe(e.c.hour);return t?(s+=":",s+=xe(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(s+=":")):s+=xe(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(s+=xe(e.c.second),0===e.c.millisecond&&n||(s+=".",s+=xe(e.c.millisecond,3))),o&&(e.isOffsetFixed&&0===e.offset&&!i?s+="Z":e.o<0?(s+="-",s+=xe(Math.trunc(-e.o/60)),s+=":",s+=xe(Math.trunc(-e.o%60))):(s+="+",s+=xe(Math.trunc(e.o/60)),s+=":",s+=xe(Math.trunc(e.o%60)))),i&&(s+="["+e.zone.ianaName+"]"),s}const $r={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Xr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Jr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Qr=["year","month","day","hour","minute","second","millisecond"],en=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],tn=["year","ordinal","hour","minute","second","millisecond"];function rn(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new a(e);return t}(e)}}function nn(e,t){const r=oe(t.zone,ge.defaultZone),n=ee.fromObject(t),o=ge.now();let i,s;if(Me(e.year))i=o;else{for(const t of Qr)Me(e[t])&&(e[t]=$r[t]);const t=Oe(e)||Ce(e);if(t)return an.invalid(t);const n=r.offset(o);[i,s]=Gr(e,n,r)}return new an({ts:i,zone:r,loc:n,o:s})}function on(e,t,r){const n=!!Me(r.round)||r.round,o=(e,o)=>(e=He(e,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(e,o)),i=n=>r.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(r.unit)return o(i(r.unit),r.unit);for(const e of r.units){const t=i(e);if(Math.abs(t)>=1)return o(t,e)}return o(e>t?-0:0,r.units[r.units.length-1])}function sn(e){let t,r={};return e.length>0&&"object"==typeof e[e.length-1]?(r=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[r,t]}class an{constructor(e){const t=e.zone||ge.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new fe("invalid input"):null)||(t.isValid?null:xr(t));this.ts=Me(e.ts)?ge.now():e.ts;let n=null,o=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,o]=[e.old.c,e.old.o];else{const e=t.offset(this.ts);n=Vr(this.ts,e),r=Number.isNaN(n.year)?new fe("invalid input"):null,n=r?null:n,o=r?null:e}this._zone=t,this.loc=e.loc||ee.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=o,this.isLuxonDateTime=!0}static now(){return new an({})}static local(){const[e,t]=sn(arguments),[r,n,o,i,s,a,c]=t;return nn({year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c},e)}static utc(){const[e,t]=sn(arguments),[r,n,o,i,s,a,c]=t;return e.zone=re.utcInstance,nn({year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c},e)}static fromJSDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(n=e,"[object Date]"===Object.prototype.toString.call(n)?e.valueOf():NaN);var n;if(Number.isNaN(r))return an.invalid("invalid input");const o=oe(t.zone,ge.defaultZone);return o.isValid?new an({ts:r,zone:o,loc:ee.fromObject(t)}):an.invalid(xr(o))}static fromMillis(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ie(e))return e<-Ur||e>Ur?an.invalid("Timestamp out of range"):new an({ts:e,zone:oe(t.zone,ge.defaultZone),loc:ee.fromObject(t)});throw new c(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ie(e))return new an({ts:1e3*e,zone:oe(t.zone,ge.defaultZone),loc:ee.fromObject(t)});throw new c("fromSeconds requires a numerical input")}static fromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};const r=oe(t.zone,ge.defaultZone);if(!r.isValid)return an.invalid(xr(r));const n=ee.fromObject(t),o=Qe(e,rn),{minDaysInFirstWeek:i,startOfWeek:a}=we(o,n),c=ge.now(),u=Me(t.specificOffset)?r.offset(c):t.specificOffset,l=!Me(o.ordinal),p=!Me(o.year),d=!Me(o.month)||!Me(o.day),g=p||d,f=o.weekYear||o.weekNumber;if((g||l)&&f)throw new s("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new s("Can't mix ordinal dates with month/day");const h=f||o.weekday&&!g;let m,y,_=Vr(c,u);h?(m=en,y=Xr,_=be(_,i,a)):l?(m=tn,y=Jr,_=Ae(_)):(m=Qr,y=$r);let v=!1;for(const e of m)Me(o[e])?o[e]=v?y[e]:_[e]:v=!0;const S=h?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=Pe(e.weekYear),o=Ue(e.weekNumber,1,Ke(e.weekYear,t,r)),i=Ue(e.weekday,1,7);return n?o?!i&&ye("weekday",e.weekday):ye("week",e.weekNumber):ye("weekYear",e.weekYear)}(o,i,a):l?function(e){const t=Pe(e.year),r=Ue(e.ordinal,1,Ge(e.year));return t?!r&&ye("ordinal",e.ordinal):ye("year",e.year)}(o):Oe(o),E=S||Ce(o);if(E)return an.invalid(E);const b=h?Te(o,i,a):l?Re(o):o,[T,A]=Gr(b,u,r),R=new an({ts:T,zone:r,o:A,loc:n});return o.weekday&&g&&e.weekday!==R.weekday?an.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${R.toISO()}`):R}static fromISO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[r,n]=function(e){return Et(e,[Yt,Xt],[Kt,Jt],[Zt,Qt],[$t,er])}(e);return qr(r,n,t,"ISO 8601",e)}static fromRFC2822(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[r,n]=function(e){return Et(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Ft,Wt])}(e);return qr(r,n,t,"RFC 2822",e)}static fromHTTP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[r,n]=function(e){return Et(e,[Ht,zt],[Vt,zt],[Gt,qt])}(e);return qr(r,n,t,"HTTP",t)}static fromFormat(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Me(e)||Me(t))throw new c("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:o=null}=r,i=ee.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),[s,a,u,l]=function(e,t,r){const{result:n,zone:o,specificOffset:i,invalidReason:s}=Nr(e,t,r);return[n,o,i,s]}(i,e,t);return l?an.invalid(l):qr(s,a,r,`format ${t}`,e,u)}static fromString(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return an.fromFormat(e,t,r)}static fromSQL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[r,n]=function(e){return Et(e,[rr,Xt],[nr,or])}(e);return qr(r,n,t,"SQL",e)}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new c("need to specify a reason the DateTime is invalid");const r=e instanceof fe?e:new fe(e,t);if(ge.throwOnInvalid)throw new n(r);return new an({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=jr(e,ee.fromObject(t));return r?r.map((e=>e?e.val:null)).join(""):null}static expandFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Lr(yt.parseFormat(e),ee.fromObject(t)).map((e=>e.val)).join("")}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Br(this).weekYear:NaN}get weekNumber(){return this.isValid?Br(this).weekNumber:NaN}get weekday(){return this.isValid?Br(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Fr(this).weekday:NaN}get localWeekNumber(){return this.isValid?Fr(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Fr(this).weekYear:NaN}get ordinal(){return this.isValid?Ae(this.c).ordinal:NaN}get monthShort(){return this.isValid?yr.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?yr.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?yr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?yr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,r=qe(this.c),n=this.zone.offset(r-e),o=this.zone.offset(r+e),i=this.zone.offset(r-n*t),s=this.zone.offset(r-o*t);if(i===s)return[this];const a=r-i*t,c=r-s*t,u=Vr(a,i),l=Vr(c,s);return u.hour===l.hour&&u.minute===l.minute&&u.second===l.second&&u.millisecond===l.millisecond?[Wr(this,{ts:a}),Wr(this,{ts:c})]:[this]}get isInLeapYear(){return Ve(this.year)}get daysInMonth(){return ze(this.year,this.month)}get daysInYear(){return this.isValid?Ge(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ke(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ke(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{locale:t,numberingSystem:r,calendar:n}=yt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:n}}toUTC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(re.instance(e),t)}toLocal(){return this.setZone(ge.defaultZone)}setZone(e){let{keepLocalTime:t=!1,keepCalendarTime:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((e=oe(e,ge.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||r){const t=e.offset(this.ts),r=this.toObject();[n]=Gr(r,t,e)}return Wr(this,{ts:n,zone:e})}return an.invalid(xr(e))}reconfigure(){let{locale:e,numberingSystem:t,outputCalendar:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wr(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Qe(e,rn),{minDaysInFirstWeek:r,startOfWeek:n}=we(t,this.loc),o=!Me(t.weekYear)||!Me(t.weekNumber)||!Me(t.weekday),i=!Me(t.ordinal),a=!Me(t.year),c=!Me(t.month)||!Me(t.day),u=a||c,l=t.weekYear||t.weekNumber;if((u||i)&&l)throw new s("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&i)throw new s("Can't mix ordinal dates with month/day");let p;o?p=Te({...be(this.c,r,n),...t},r,n):Me(t.ordinal)?(p={...this.toObject(),...t},Me(t.day)&&(p.day=Math.min(ze(p.year,p.month),p.day))):p=Re({...Ae(this.c),...t});const[d,g]=Gr(p,this.o,this.zone);return Wr(this,{ts:d,o:g})}plus(e){return this.isValid?Wr(this,zr(this,fr.fromDurationLike(e))):this}minus(e){return this.isValid?Wr(this,zr(this,fr.fromDurationLike(e).negate())):this}startOf(e){let{useLocaleWeeks:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isValid)return this;const r={},n=fr.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0}if("weeks"===n)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(r.weekNumber=this.weekNumber-1),r.weekday=e}else r.weekday=1;if("quarters"===n){const e=Math.ceil(this.month/3);r.month=3*(e-1)+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?yt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):kr}toLocaleString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?yt.create(this.loc.clone(t),e).formatDateTime(this):kr}toLocaleParts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?yt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO(){let{format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const i="extended"===e;let s=Kr(this,i);return s+="T",s+=Zr(this,i,t,r,n,o),s}toISODate(){let{format:e="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?Kr(this,"extended"===e):null}toISOWeekDate(){return Yr(this,"kkkk-'W'WW-c")}toISOTime(){let{suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:o=!1,format:i="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?(n?"T":"")+Zr(this,"extended"===i,t,e,r,o):null}toRFC2822(){return Yr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Yr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Kr(this,!0):null}toSQLTime(){let{includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="HH:mm:ss.SSS";return(t||e)&&(r&&(n+=" "),t?n+="z":e&&(n+="ZZ")),Yr(this,n,!0)}toSQL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():kr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!e.isValid)return fr.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=(a=t,Array.isArray(a)?a:[a]).map(fr.normalizeUnit),i=e.valueOf()>this.valueOf(),s=function(e,t,r,n){let[o,i,s,a]=function(e,t,r){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const r=_r(e,t);return(r-r%7)/7}],["days",_r]],o={},i=e;let s,a;for(const[c,u]of n)r.indexOf(c)>=0&&(s=c,o[c]=u(e,t),a=i.plus(o),a>t?(o[c]--,(e=i.plus(o))>t&&(a=e,o[c]--,e=i.plus(o))):e=a);return[e,o,a,s]}(e,t,r);const c=t-o,u=r.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===u.length&&(s<t&&(s=o.plus({[a]:1})),s!==o&&(i[a]=(i[a]||0)+c/(s-o)));const l=fr.fromObject(i,n);return u.length>0?fr.fromMillis(c,n).shiftTo(...u).plus(l):l}(i?this:e,i?e:this,o,n);var a;return i?s.negate():s}diffNow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(an.now(),e,t)}until(e){return this.isValid?mr.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;const n=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,r)<=n&&n<=o.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const t=e.base||an.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(n=e.unit,o=void 0),on(t,this.plus(r),{...e,numeric:"always",units:n,unit:o})}toRelativeCalendar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?on(e.base||an.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every(an.isDateTime))throw new c("min requires all arguments be DateTimes");return Ne(t,(e=>e.valueOf()),Math.min)}static max(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every(an.isDateTime))throw new c("max requires all arguments be DateTimes");return Ne(t,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{locale:n=null,numberingSystem:o=null}=r;return Nr(ee.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),e,t)}static fromStringExplain(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return an.fromFormatExplain(e,t,r)}static get DATE_SHORT(){return g}static get DATE_MED(){return f}static get DATE_MED_WITH_WEEKDAY(){return h}static get DATE_FULL(){return m}static get DATE_HUGE(){return y}static get TIME_SIMPLE(){return _}static get TIME_WITH_SECONDS(){return v}static get TIME_WITH_SHORT_OFFSET(){return S}static get TIME_WITH_LONG_OFFSET(){return E}static get TIME_24_SIMPLE(){return b}static get TIME_24_WITH_SECONDS(){return T}static get TIME_24_WITH_SHORT_OFFSET(){return A}static get TIME_24_WITH_LONG_OFFSET(){return R}static get DATETIME_SHORT(){return w}static get DATETIME_SHORT_WITH_SECONDS(){return O}static get DATETIME_MED(){return C}static get DATETIME_MED_WITH_SECONDS(){return M}static get DATETIME_MED_WITH_WEEKDAY(){return I}static get DATETIME_FULL(){return P}static get DATETIME_FULL_WITH_SECONDS(){return D}static get DATETIME_HUGE(){return L}static get DATETIME_HUGE_WITH_SECONDS(){return N}}function cn(e){if(an.isDateTime(e))return e;if(e&&e.valueOf&&Ie(e.valueOf()))return an.fromJSDate(e);if(e&&"object"==typeof e)return an.fromObject(e);throw new c(`Unknown datetime argument: ${e}, of type ${typeof e}`)}t.DateTime=an,t.Duration=fr,t.FixedOffsetZone=re,t.IANAZone=W,t.Info=yr,t.Interval=mr,t.InvalidZone=ne,t.Settings=ge,t.SystemZone=U,t.VERSION="3.4.4",t.Zone=j},3950:()=>{"use strict";const e=globalThis;function t(t){return(e.__Zone_symbol_prefix||"__zone_symbol__")+t}function r(){const r=e.performance;function n(e){r&&r.mark&&r.mark(e)}function o(e,t){r&&r.measure&&r.measure(e,t)}n("Zone");class i{static#e=this.__symbol__=t;static assertZonePatched(){if(e.Promise!==C.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let e=i.current;for(;e.parent;)e=e.parent;return e}static get current(){return I.zone}static get currentTask(){return P}static __load_patch(r,s){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(C.hasOwnProperty(r)){const n=!0===e[t("forceDuplicateZoneCheck")];if(!a&&n)throw Error("Already loaded patch: "+r)}else if(!e["__Zone_disable_"+r]){const t="Zone:"+r;n(t),C[r]=s(e,i,M),o(t,t)}}get parent(){return this._parent}get name(){return this._name}constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new a(this,this._parent&&this._parent._zoneDelegate,t)}get(e){const t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);const r=this._zoneDelegate.intercept(this,e,t),n=this;return function(){return n.runGuarded(r,this,arguments,t)}}run(e,t,r,n){I={parent:I,zone:this};try{return this._zoneDelegate.invoke(this,e,t,r,n)}finally{I=I.parent}}runGuarded(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;I={parent:I,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,r,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{I=I.parent}}runTask(e,t,r){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||_).name+"; Execution: "+this.name+")");if(e.state===v&&(e.type===O||e.type===w))return;const n=e.state!=b;n&&e._transitionTo(b,E),e.runCount++;const o=P;P=e,I={parent:I,zone:this};try{e.type==w&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==v&&e.state!==A&&(e.type==O||e.data&&e.data.isPeriodic?n&&e._transitionTo(E,b):(e.runCount=0,this._updateTaskCount(e,-1),n&&e._transitionTo(v,b,v))),I=I.parent,P=o}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(S,v);const t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(A,S,v),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==S&&e._transitionTo(E,S),e}scheduleMicroTask(e,t,r,n){return this.scheduleTask(new c(R,e,t,r,n,void 0))}scheduleMacroTask(e,t,r,n,o){return this.scheduleTask(new c(w,e,t,r,n,o))}scheduleEventTask(e,t,r,n,o){return this.scheduleTask(new c(O,e,t,r,n,o))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||_).name+"; Execution: "+this.name+")");if(e.state===E||e.state===b){e._transitionTo(T,E,b);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(A,T),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(v,T),e.runCount=0,e}}_updateTaskCount(e,t){const r=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let n=0;n<r.length;n++)r[n]._updateTaskCount(e.type,t)}}const s={name:"",onHasTask:(e,t,r,n)=>e.hasTask(r,n),onScheduleTask:(e,t,r,n)=>e.scheduleTask(r,n),onInvokeTask:(e,t,r,n,o,i)=>e.invokeTask(r,n,o,i),onCancelTask:(e,t,r,n)=>e.cancelTask(r,n)};class a{get zone(){return this._zone}constructor(e,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=e,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this._zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this._zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this._zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this._zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this._zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this._zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this._zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const n=r&&r.onHasTask,o=t&&t._hasTaskZS;(n||o)&&(this._hasTaskZS=n?r:s,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,r.onScheduleTask||(this._scheduleTaskZS=s,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this._zone),r.onInvokeTask||(this._invokeTaskZS=s,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this._zone),r.onCancelTask||(this._cancelTaskZS=s,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this._zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new i(e,t)}intercept(e,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,r):t}invoke(e,t,r,n,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,r,n,o):t.apply(r,n)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),r||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=R)throw new Error("Task is missing scheduleFn.");m(t)}return r}invokeTask(e,t,r,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,r,n):t.callback.apply(r,n)}cancelTask(e,t){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}_updateTaskCount(e,t){const r=this._taskCounts,n=r[e],o=r[e]=n+t;if(o<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==o){const t={microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:e};this.hasTask(this._zone,t)}}}class c{constructor(t,r,n,o,i,s){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=t,this.source=r,this.data=o,this.scheduleFn=i,this.cancelFn=s,!n)throw new Error("callback is not defined");this.callback=n;const a=this;t===O&&o&&o.useG?this.invoke=c.invokeTask:this.invoke=function(){return c.invokeTask.call(e,a,this,arguments)}}static invokeTask(e,t,r){e||(e=this),D++;try{return e.runCount++,e.zone.runTask(e,t,r)}finally{1==D&&y(),D--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(v,S)}_transitionTo(e,t,r){if(this._state!==t&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=e,e==v&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const u=t("setTimeout"),l=t("Promise"),p=t("then");let d,g=[],f=!1;function h(t){if(d||e[l]&&(d=e[l].resolve(0)),d){let e=d[p];e||(e=d.then),e.call(d,t)}else e[u](t,0)}function m(e){0===D&&0===g.length&&h(y),e&&g.push(e)}function y(){if(!f){for(f=!0;g.length;){const e=g;g=[];for(let t=0;t<e.length;t++){const r=e[t];try{r.zone.runTask(r,null,null)}catch(e){M.onUnhandledError(e)}}}M.microtaskDrainDone(),f=!1}}const _={name:"NO ZONE"},v="notScheduled",S="scheduling",E="scheduled",b="running",T="canceling",A="unknown",R="microTask",w="macroTask",O="eventTask",C={},M={symbol:t,currentZoneFrame:()=>I,onUnhandledError:L,microtaskDrainDone:L,scheduleMicroTask:m,showUncaughtError:()=>!i[t("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:L,patchMethod:()=>L,bindArguments:()=>[],patchThen:()=>L,patchMacroTask:()=>L,patchEventPrototype:()=>L,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>L,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>L,wrapWithCurrentZone:()=>L,filterProperties:()=>[],attachOriginToPatched:()=>L,_redefineProperty:()=>L,patchCallbacks:()=>L,nativeScheduleMicroTask:h};let I={parent:null,zone:new i(null,null)},P=null,D=0;function L(){}return o("Zone","Zone"),i}const n=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=Object.getPrototypeOf,s=Object.create,a=Array.prototype.slice,c="addEventListener",u="removeEventListener",l=t(c),p=t(u),d="true",g="false",f=t("");function h(e,t){return Zone.current.wrap(e,t)}function m(e,t,r,n,o){return Zone.current.scheduleMacroTask(e,t,r,n,o)}const y=t,_="undefined"!=typeof window,v=_?window:void 0,S=_&&v||globalThis,E="removeAttribute";function b(e,t){for(let r=e.length-1;r>=0;r--)"function"==typeof e[r]&&(e[r]=h(e[r],t+"_"+r));return e}function T(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const A="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,R=!("nw"in S)&&void 0!==S.process&&"[object process]"==={}.toString.call(S.process),w=!R&&!A&&!(!_||!v.HTMLElement),O=void 0!==S.process&&"[object process]"==={}.toString.call(S.process)&&!A&&!(!_||!v.HTMLElement),C={},M=function(e){if(!(e=e||S.event))return;let t=C[e.type];t||(t=C[e.type]=y("ON_PROPERTY"+e.type));const r=this||e.target||S,n=r[t];let o;if(w&&r===v&&"error"===e.type){const t=e;o=n&&n.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===o&&e.preventDefault()}else o=n&&n.apply(this,arguments),null==o||o||e.preventDefault();return o};function I(e,t,r){let i=n(e,t);if(!i&&r&&n(r,t)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;const s=y("on"+t+"patched");if(e.hasOwnProperty(s)&&e[s])return;delete i.writable,delete i.value;const a=i.get,c=i.set,u=t.slice(2);let l=C[u];l||(l=C[u]=y("ON_PROPERTY"+u)),i.set=function(t){let r=this;r||e!==S||(r=S),r&&("function"==typeof r[l]&&r.removeEventListener(u,M),c&&c.call(r,null),r[l]=t,"function"==typeof t&&r.addEventListener(u,M,!1))},i.get=function(){let r=this;if(r||e!==S||(r=S),!r)return null;const n=r[l];if(n)return n;if(a){let e=a.call(this);if(e)return i.set.call(this,e),"function"==typeof r[E]&&r.removeAttribute(t),e}return null},o(e,t,i),e[s]=!0}function P(e,t,r){if(t)for(let n=0;n<t.length;n++)I(e,"on"+t[n],r);else{const t=[];for(const r in e)"on"==r.slice(0,2)&&t.push(r);for(let n=0;n<t.length;n++)I(e,t[n],r)}}const D=y("originalInstance");function L(e){const t=S[e];if(!t)return;S[y(e)]=t,S[e]=function(){const r=b(arguments,e);switch(r.length){case 0:this[D]=new t;break;case 1:this[D]=new t(r[0]);break;case 2:this[D]=new t(r[0],r[1]);break;case 3:this[D]=new t(r[0],r[1],r[2]);break;case 4:this[D]=new t(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},k(S[e],t);const r=new t((function(){}));let n;for(n in r)"XMLHttpRequest"===e&&"responseBlob"===n||function(t){"function"==typeof r[t]?S[e].prototype[t]=function(){return this[D][t].apply(this[D],arguments)}:o(S[e].prototype,t,{set:function(r){"function"==typeof r?(this[D][t]=h(r,e+"."+t),k(this[D][t],r)):this[D][t]=r},get:function(){return this[D][t]}})}(n);for(n in t)"prototype"!==n&&t.hasOwnProperty(n)&&(S[e][n]=t[n])}function N(e,t,r){let o=e;for(;o&&!o.hasOwnProperty(t);)o=i(o);!o&&e[t]&&(o=e);const s=y(t);let a=null;if(o&&(!(a=o[s])||!o.hasOwnProperty(s))&&(a=o[s]=o[t],T(o&&n(o,t)))){const e=r(a,s,t);o[t]=function(){return e(this,arguments)},k(o[t],a)}return a}function j(e,t,r){let n=null;function o(e){const t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=N(e,t,(e=>function(t,n){const i=r(t,n);return i.cbIdx>=0&&"function"==typeof n[i.cbIdx]?m(i.name,n[i.cbIdx],i,o):e.apply(t,n)}))}function k(e,t){e[y("OriginalDelegate")]=t}let U=!1,x=!1;function B(){try{const e=v.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}function F(){if(U)return x;U=!0;try{const e=v.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(x=!0)}catch(e){}return x}let W=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){W=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){W=!1}const H={useG:!0},V={},G={},z=new RegExp("^"+f+"(\\w+)(true|false)$"),q=y("propagationStopped");function Y(e,t){const r=(t?t(e):e)+g,n=(t?t(e):e)+d,o=f+r,i=f+n;V[e]={},V[e][g]=o,V[e][d]=i}function K(e,t,r,n){const o=n&&n.add||c,s=n&&n.rm||u,a=n&&n.listeners||"eventListeners",l=n&&n.rmAll||"removeAllListeners",p=y(o),h="."+o+":",m="prependListener",_="."+m+":",v=function(e,t,r){if(e.isRemoved)return;const n=e.callback;let o;"object"==typeof n&&n.handleEvent&&(e.callback=e=>n.handleEvent(e),e.originalDelegate=n);try{e.invoke(e,t,[r])}catch(e){o=e}const i=e.options;if(i&&"object"==typeof i&&i.once){const n=e.originalDelegate?e.originalDelegate:e.callback;t[s].call(t,r.type,n,i)}return o};function S(r,n,o){if(!(n=n||e.event))return;const i=r||n.target||e,s=i[V[n.type][o?d:g]];if(s){const e=[];if(1===s.length){const t=v(s[0],i,n);t&&e.push(t)}else{const t=s.slice();for(let r=0;r<t.length&&(!n||!0!==n[q]);r++){const o=v(t[r],i,n);o&&e.push(o)}}if(1===e.length)throw e[0];for(let r=0;r<e.length;r++){const n=e[r];t.nativeScheduleMicroTask((()=>{throw n}))}}}const E=function(e){return S(this,e,!1)},b=function(e){return S(this,e,!0)};function T(t,r){if(!t)return!1;let n=!0;r&&void 0!==r.useG&&(n=r.useG);const c=r&&r.vh;let u=!0;r&&void 0!==r.chkDup&&(u=r.chkDup);let v=!1;r&&void 0!==r.rt&&(v=r.rt);let S=t;for(;S&&!S.hasOwnProperty(o);)S=i(S);if(!S&&t[o]&&(S=t),!S)return!1;if(S[p])return!1;const T=r&&r.eventNameToString,A={},w=S[p]=S[o],O=S[y(s)]=S[s],C=S[y(a)]=S[a],M=S[y(l)]=S[l];let I;r&&r.prepend&&(I=S[y(r.prepend)]=S[r.prepend]);const P=n?function(e){if(!A.isExisting)return w.call(A.target,A.eventName,A.capture?b:E,A.options)}:function(e){return w.call(A.target,A.eventName,e.invoke,A.options)},D=n?function(e){if(!e.isRemoved){const t=V[e.eventName];let r;t&&(r=t[e.capture?d:g]);const n=r&&e.target[r];if(n)for(let t=0;t<n.length;t++)if(n[t]===e){n.splice(t,1),e.isRemoved=!0,0===n.length&&(e.allRemoved=!0,e.target[r]=null);break}}if(e.allRemoved)return O.call(e.target,e.eventName,e.capture?b:E,e.options)}:function(e){return O.call(e.target,e.eventName,e.invoke,e.options)},L=r&&r.diff?r.diff:function(e,t){const r=typeof t;return"function"===r&&e.callback===t||"object"===r&&e.originalDelegate===t},N=Zone[y("UNPATCHED_EVENTS")],j=e[y("PASSIVE_EVENTS")],U=function(t,o,i,s){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(){const p=this||e;let f=arguments[0];r&&r.transferEventName&&(f=r.transferEventName(f));let h=arguments[1];if(!h)return t.apply(this,arguments);if(R&&"uncaughtException"===f)return t.apply(this,arguments);let m=!1;if("function"!=typeof h){if(!h.handleEvent)return t.apply(this,arguments);m=!0}if(c&&!c(t,h,p,arguments))return;const y=W&&!!j&&-1!==j.indexOf(f),_=function(e,t){return!W&&"object"==typeof e&&e?!!e.capture:W&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?{...e,passive:!0}:e:{passive:!0}:e}(arguments[2],y),v=_&&"object"==typeof _&&_.signal&&"object"==typeof _.signal?_.signal:void 0;if(v?.aborted)return;if(N)for(let e=0;e<N.length;e++)if(f===N[e])return y?t.call(p,f,h,_):t.apply(this,arguments);const S=!!_&&("boolean"==typeof _||_.capture),E=!(!_||"object"!=typeof _)&&_.once,b=Zone.current;let w=V[f];w||(Y(f,T),w=V[f]);const O=w[S?d:g];let C,M=p[O],I=!1;if(M){if(I=!0,u)for(let e=0;e<M.length;e++)if(L(M[e],h))return}else M=p[O]=[];const P=p.constructor.name,D=G[P];D&&(C=D[f]),C||(C=P+o+(T?T(f):f)),A.options=_,E&&(A.options.once=!1),A.target=p,A.capture=S,A.eventName=f,A.isExisting=I;const k=n?H:void 0;k&&(k.taskData=A),v&&(A.options.signal=void 0);const U=b.scheduleEventTask(C,h,k,i,s);return v&&(A.options.signal=v,t.call(v,"abort",(()=>{U.zone.cancelTask(U)}),{once:!0})),A.target=null,k&&(k.taskData=null),E&&(_.once=!0),(W||"boolean"!=typeof U.options)&&(U.options=_),U.target=p,U.capture=S,U.eventName=f,m&&(U.originalDelegate=h),l?M.unshift(U):M.push(U),a?p:void 0}};return S[o]=U(w,h,P,D,v),I&&(S[m]=U(I,_,(function(e){return I.call(A.target,A.eventName,e.invoke,A.options)}),D,v,!0)),S[s]=function(){const t=this||e;let n=arguments[0];r&&r.transferEventName&&(n=r.transferEventName(n));const o=arguments[2],i=!!o&&("boolean"==typeof o||o.capture),s=arguments[1];if(!s)return O.apply(this,arguments);if(c&&!c(O,s,t,arguments))return;const a=V[n];let u;a&&(u=a[i?d:g]);const l=u&&t[u];if(l)for(let e=0;e<l.length;e++){const r=l[e];if(L(r,s))return l.splice(e,1),r.isRemoved=!0,0!==l.length||(r.allRemoved=!0,t[u]=null,i||"string"!=typeof n)||(t[f+"ON_PROPERTY"+n]=null),r.zone.cancelTask(r),v?t:void 0}return O.apply(this,arguments)},S[a]=function(){const t=this||e;let n=arguments[0];r&&r.transferEventName&&(n=r.transferEventName(n));const o=[],i=Z(t,T?T(n):n);for(let e=0;e<i.length;e++){const t=i[e];let r=t.originalDelegate?t.originalDelegate:t.callback;o.push(r)}return o},S[l]=function(){const t=this||e;let n=arguments[0];if(n){r&&r.transferEventName&&(n=r.transferEventName(n));const e=V[n];if(e){const r=e[g],o=e[d],i=t[r],a=t[o];if(i){const e=i.slice();for(let t=0;t<e.length;t++){const r=e[t];let o=r.originalDelegate?r.originalDelegate:r.callback;this[s].call(this,n,o,r.options)}}if(a){const e=a.slice();for(let t=0;t<e.length;t++){const r=e[t];let o=r.originalDelegate?r.originalDelegate:r.callback;this[s].call(this,n,o,r.options)}}}}else{const e=Object.keys(t);for(let t=0;t<e.length;t++){const r=e[t],n=z.exec(r);let o=n&&n[1];o&&"removeListener"!==o&&this[l].call(this,o)}this[l].call(this,"removeListener")}if(v)return this},k(S[o],w),k(S[s],O),M&&k(S[l],M),C&&k(S[a],C),!0}let A=[];for(let e=0;e<r.length;e++)A[e]=T(r[e],n);return A}function Z(e,t){if(!t){const r=[];for(let n in e){const o=z.exec(n);let i=o&&o[1];if(i&&(!t||i===t)){const t=e[n];if(t)for(let e=0;e<t.length;e++)r.push(t[e])}}return r}let r=V[t];r||(Y(t),r=V[t]);const n=e[r[g]],o=e[r[d]];return n?o?n.concat(o):n.slice():o?o.slice():[]}function $(e,t){const r=e.Event;r&&r.prototype&&t.patchMethod(r.prototype,"stopImmediatePropagation",(e=>function(t,r){t[q]=!0,e&&e.apply(t,r)}))}function X(e,t){t.patchMethod(e,"queueMicrotask",(e=>function(e,t){Zone.current.scheduleMicroTask("queueMicrotask",t[0])}))}const J=y("zoneTask");function Q(e,t,r,n){let o=null,i=null;r+=n;const s={};function a(t){const r=t.data;return r.args[0]=function(){return t.invoke.apply(this,arguments)},r.handleId=o.apply(e,r.args),t}function c(t){return i.call(e,t.data.handleId)}o=N(e,t+=n,(r=>function(o,i){if("function"==typeof i[0]){const e={isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?i[1]||0:void 0,args:i},r=i[0];i[0]=function(){try{return r.apply(this,arguments)}finally{e.isPeriodic||("number"==typeof e.handleId?delete s[e.handleId]:e.handleId&&(e.handleId[J]=null))}};const o=m(t,i[0],e,a,c);if(!o)return o;const u=o.data.handleId;return"number"==typeof u?s[u]=o:u&&(u[J]=o),u&&u.ref&&u.unref&&"function"==typeof u.ref&&"function"==typeof u.unref&&(o.ref=u.ref.bind(u),o.unref=u.unref.bind(u)),"number"==typeof u||u?u:o}return r.apply(e,i)})),i=N(e,r,(t=>function(r,n){const o=n[0];let i;"number"==typeof o?i=s[o]:(i=o&&o[J],i||(i=o)),i&&"string"==typeof i.type?"notScheduled"!==i.state&&(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&("number"==typeof o?delete s[o]:o&&(o[J]=null),i.zone.cancelTask(i)):t.apply(e,n)}))}function ee(e,t){if(Zone[t.symbol("patchEventTarget")])return;const{eventNames:r,zoneSymbolEventNames:n,TRUE_STR:o,FALSE_STR:i,ZONE_SYMBOL_PREFIX:s}=t.getGlobalObjects();for(let e=0;e<r.length;e++){const t=r[e],a=s+(t+i),c=s+(t+o);n[t]={},n[t][i]=a,n[t][o]=c}const a=e.EventTarget;return a&&a.prototype?(t.patchEventTarget(e,t,[a&&a.prototype]),!0):void 0}function te(e,t,r){if(!r||0===r.length)return t;const n=r.filter((t=>t.target===e));if(!n||0===n.length)return t;const o=n[0].ignoreProperties;return t.filter((e=>-1===o.indexOf(e)))}function re(e,t,r,n){e&&P(e,te(e,t,r),n)}function ne(e){return Object.getOwnPropertyNames(e).filter((e=>e.startsWith("on")&&e.length>2)).map((e=>e.substring(2)))}function oe(e,t){if(R&&!O)return;if(Zone[e.symbol("patchEvents")])return;const r=t.__Zone_ignore_on_properties;let n=[];if(w){const e=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const t=B()?[{target:e,ignoreProperties:["error"]}]:[];re(e,ne(e),r?r.concat(t):r,i(e))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let e=0;e<n.length;e++){const o=t[n[e]];o&&o.prototype&&re(o.prototype,ne(o.prototype),r)}}function ie(e,t,r,n,o){const i=Zone.__symbol__(n);if(t[i])return;const s=t[i]=t[n];t[n]=function(i,a,c){return a&&a.prototype&&o.forEach((function(t){const o=`${r}.${n}::`+t,i=a.prototype;try{if(i.hasOwnProperty(t)){const r=e.ObjectGetOwnPropertyDescriptor(i,t);r&&r.value?(r.value=e.wrapWithCurrentZone(r.value,o),e._redefineProperty(a.prototype,t,r)):i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],o))}else i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],o))}catch{}})),s.call(t,i,a,c)},e.attachOriginToPatched(t[n],s)}const se=function(){const e=globalThis,n=!0===e[t("forceDuplicateZoneCheck")];if(e.Zone&&(n||"function"!=typeof e.Zone.__symbol__))throw new Error("Zone already loaded.");return e.Zone??=r(),e.Zone}();!function(e){(function(e){e.__load_patch("ZoneAwarePromise",((e,t,r)=>{const n=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=r.symbol,s=[],a=!1!==e[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],c=i("Promise"),u=i("then"),l="__creationTrace__";r.onUnhandledError=e=>{if(r.showUncaughtError()){const t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},r.microtaskDrainDone=()=>{for(;s.length;){const e=s.shift();try{e.zone.runGuarded((()=>{if(e.throwOriginal)throw e.rejection;throw e}))}catch(e){d(e)}}};const p=i("unhandledPromiseRejectionHandler");function d(e){r.onUnhandledError(e);try{const r=t[p];"function"==typeof r&&r.call(this,e)}catch(e){}}function g(e){return e&&e.then}function f(e){return e}function h(e){return U.reject(e)}const m=i("state"),y=i("value"),_=i("finally"),v=i("parentPromiseValue"),S=i("parentPromiseState"),E="Promise.then",b=null,T=!0,A=!1,R=0;function w(e,t){return r=>{try{I(e,t,r)}catch(t){I(e,!1,t)}}}const O=function(){let e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},C="Promise resolved with itself",M=i("currentTaskTrace");function I(e,n,i){const c=O();if(e===i)throw new TypeError(C);if(e[m]===b){let p=null;try{"object"!=typeof i&&"function"!=typeof i||(p=i&&i.then)}catch(t){return c((()=>{I(e,!1,t)}))(),e}if(n!==A&&i instanceof U&&i.hasOwnProperty(m)&&i.hasOwnProperty(y)&&i[m]!==b)D(i),I(e,i[m],i[y]);else if(n!==A&&"function"==typeof p)try{p.call(i,c(w(e,n)),c(w(e,!1)))}catch(t){c((()=>{I(e,!1,t)}))()}else{e[m]=n;const c=e[y];if(e[y]=i,e[_]===_&&n===T&&(e[m]=e[S],e[y]=e[v]),n===A&&i instanceof Error){const e=t.currentTask&&t.currentTask.data&&t.currentTask.data[l];e&&o(i,M,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<c.length;)L(e,c[t++],c[t++],c[t++],c[t++]);if(0==c.length&&n==A){e[m]=R;let n=i;try{throw new Error("Uncaught (in promise): "+((u=i)&&u.toString===Object.prototype.toString?(u.constructor&&u.constructor.name||"")+": "+JSON.stringify(u):u?u.toString():Object.prototype.toString.call(u))+(i&&i.stack?"\n"+i.stack:""))}catch(e){n=e}a&&(n.throwOriginal=!0),n.rejection=i,n.promise=e,n.zone=t.current,n.task=t.currentTask,s.push(n),r.scheduleMicroTask()}}}var u;return e}const P=i("rejectionHandledHandler");function D(e){if(e[m]===R){try{const r=t[P];r&&"function"==typeof r&&r.call(this,{rejection:e[y],promise:e})}catch(e){}e[m]=A;for(let t=0;t<s.length;t++)e===s[t].promise&&s.splice(t,1)}}function L(e,t,r,n,o){D(e);const i=e[m],s=i?"function"==typeof n?n:f:"function"==typeof o?o:h;t.scheduleMicroTask(E,(()=>{try{const n=e[y],o=!!r&&_===r[_];o&&(r[v]=n,r[S]=i);const a=t.run(s,void 0,o&&s!==h&&s!==f?[]:[n]);I(r,!0,a)}catch(e){I(r,!1,e)}}),r)}const j=function(){},k=e.AggregateError;class U{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return e instanceof U?e:I(new this(null),T,e)}static reject(e){return I(new this(null),A,e)}static withResolvers(){const e={};return e.promise=new U(((t,r)=>{e.resolve=t,e.reject=r})),e}static any(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new k([],"All promises were rejected"));const t=[];let r=0;try{for(let n of e)r++,t.push(U.resolve(n))}catch(e){return Promise.reject(new k([],"All promises were rejected"))}if(0===r)return Promise.reject(new k([],"All promises were rejected"));let n=!1;const o=[];return new U(((e,i)=>{for(let s=0;s<t.length;s++)t[s].then((t=>{n||(n=!0,e(t))}),(e=>{o.push(e),r--,0===r&&(n=!0,i(new k(o,"All promises were rejected")))}))}))}static race(e){let t,r,n=new this(((e,n)=>{t=e,r=n}));function o(e){t(e)}function i(e){r(e)}for(let t of e)g(t)||(t=this.resolve(t)),t.then(o,i);return n}static all(e){return U.allWithCallback(e)}static allSettled(e){return(this&&this.prototype instanceof U?this:U).allWithCallback(e,{thenCallback:e=>({status:"fulfilled",value:e}),errorCallback:e=>({status:"rejected",reason:e})})}static allWithCallback(e,t){let r,n,o=new this(((e,t)=>{r=e,n=t})),i=2,s=0;const a=[];for(let o of e){g(o)||(o=this.resolve(o));const e=s;try{o.then((n=>{a[e]=t?t.thenCallback(n):n,i--,0===i&&r(a)}),(o=>{t?(a[e]=t.errorCallback(o),i--,0===i&&r(a)):n(o)}))}catch(e){n(e)}i++,s++}return i-=2,0===i&&r(a),o}constructor(e){const t=this;if(!(t instanceof U))throw new Error("Must be an instanceof Promise.");t[m]=b,t[y]=[];try{const r=O();e&&e(r(w(t,T)),r(w(t,A)))}catch(e){I(t,!1,e)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return U}then(e,r){let n=this.constructor?.[Symbol.species];n&&"function"==typeof n||(n=this.constructor||U);const o=new n(j),i=t.current;return this[m]==b?this[y].push(i,o,e,r):L(this,i,o,e,r),o}catch(e){return this.then(null,e)}finally(e){let r=this.constructor?.[Symbol.species];r&&"function"==typeof r||(r=U);const n=new r(j);n[_]=_;const o=t.current;return this[m]==b?this[y].push(o,n,e,e):L(this,o,n,e,e),n}}U.resolve=U.resolve,U.reject=U.reject,U.race=U.race,U.all=U.all;const x=e[c]=e.Promise;e.Promise=U;const B=i("thenPatched");function F(e){const t=e.prototype,r=n(t,"then");if(r&&(!1===r.writable||!r.configurable))return;const o=t.then;t[u]=o,e.prototype.then=function(e,t){return new U(((e,t)=>{o.call(this,e,t)})).then(e,t)},e[B]=!0}return r.patchThen=F,x&&(F(x),N(e,"fetch",(e=>{return t=e,function(e,r){let n=t.apply(e,r);if(n instanceof U)return n;let o=n.constructor;return o[B]||F(o),n};var t}))),Promise[t.__symbol__("uncaughtPromiseErrors")]=s,U}))})(e),function(e){e.__load_patch("toString",(e=>{const t=Function.prototype.toString,r=y("OriginalDelegate"),n=y("Promise"),o=y("Error"),i=function(){if("function"==typeof this){const i=this[r];if(i)return"function"==typeof i?t.call(i):Object.prototype.toString.call(i);if(this===Promise){const r=e[n];if(r)return t.call(r)}if(this===Error){const r=e[o];if(r)return t.call(r)}}return t.call(this)};i[r]=t,Function.prototype.toString=i;const s=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":s.call(this)}}))}(e),function(e){e.__load_patch("util",((e,t,r)=>{const i=ne(e);r.patchOnProperties=P,r.patchMethod=N,r.bindArguments=b,r.patchMacroTask=j;const l=t.__symbol__("BLACK_LISTED_EVENTS"),p=t.__symbol__("UNPATCHED_EVENTS");e[p]&&(e[l]=e[p]),e[l]&&(t[l]=t[p]=e[l]),r.patchEventPrototype=$,r.patchEventTarget=K,r.isIEOrEdge=F,r.ObjectDefineProperty=o,r.ObjectGetOwnPropertyDescriptor=n,r.ObjectCreate=s,r.ArraySlice=a,r.patchClass=L,r.wrapWithCurrentZone=h,r.filterProperties=te,r.attachOriginToPatched=k,r._redefineProperty=Object.defineProperty,r.patchCallbacks=ie,r.getGlobalObjects=()=>({globalSources:G,zoneSymbolEventNames:V,eventNames:i,isBrowser:w,isMix:O,isNode:R,TRUE_STR:d,FALSE_STR:g,ZONE_SYMBOL_PREFIX:f,ADD_EVENT_LISTENER_STR:c,REMOVE_EVENT_LISTENER_STR:u})}))}(e)}(se),function(e){e.__load_patch("legacy",(t=>{const r=t[e.__symbol__("legacyPatch")];r&&r()})),e.__load_patch("timers",(e=>{const t="set",r="clear";Q(e,t,r,"Timeout"),Q(e,t,r,"Interval"),Q(e,t,r,"Immediate")})),e.__load_patch("requestAnimationFrame",(e=>{Q(e,"request","cancel","AnimationFrame"),Q(e,"mozRequest","mozCancel","AnimationFrame"),Q(e,"webkitRequest","webkitCancel","AnimationFrame")})),e.__load_patch("blocking",((e,t)=>{const r=["alert","prompt","confirm"];for(let n=0;n<r.length;n++)N(e,r[n],((r,n,o)=>function(n,i){return t.current.run(r,e,i,o)}))})),e.__load_patch("EventTarget",((e,t,r)=>{!function(e,t){t.patchEventPrototype(e,t)}(e,r),ee(e,r);const n=e.XMLHttpRequestEventTarget;n&&n.prototype&&r.patchEventTarget(e,r,[n.prototype])})),e.__load_patch("MutationObserver",((e,t,r)=>{L("MutationObserver"),L("WebKitMutationObserver")})),e.__load_patch("IntersectionObserver",((e,t,r)=>{L("IntersectionObserver")})),e.__load_patch("FileReader",((e,t,r)=>{L("FileReader")})),e.__load_patch("on_property",((e,t,r)=>{oe(r,e)})),e.__load_patch("customElements",((e,t,r)=>{!function(e,t){const{isBrowser:r,isMix:n}=t.getGlobalObjects();(r||n)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(e,r)})),e.__load_patch("XHR",((e,t)=>{!function(e){const c=e.XMLHttpRequest;if(!c)return;const u=c.prototype;let d=u[l],g=u[p];if(!d){const t=e.XMLHttpRequestEventTarget;if(t){const e=t.prototype;d=e[l],g=e[p]}}const f="readystatechange",h="scheduled";function _(e){const n=e.data,s=n.target;s[i]=!1,s[a]=!1;const c=s[o];d||(d=s[l],g=s[p]),c&&g.call(s,f,c);const u=s[o]=()=>{if(s.readyState===s.DONE)if(!n.aborted&&s[i]&&e.state===h){const r=s[t.__symbol__("loadfalse")];if(0!==s.status&&r&&r.length>0){const o=e.invoke;e.invoke=function(){const r=s[t.__symbol__("loadfalse")];for(let t=0;t<r.length;t++)r[t]===e&&r.splice(t,1);n.aborted||e.state!==h||o.call(e)},r.push(e)}else e.invoke()}else n.aborted||!1!==s[i]||(s[a]=!0)};return d.call(s,f,u),s[r]||(s[r]=e),A.apply(s,n.args),s[i]=!0,e}function v(){}function S(e){const t=e.data;return t.aborted=!0,R.apply(t.target,t.args)}const E=N(u,"open",(()=>function(e,t){return e[n]=0==t[2],e[s]=t[1],E.apply(e,t)})),b=y("fetchTaskAborting"),T=y("fetchTaskScheduling"),A=N(u,"send",(()=>function(e,r){if(!0===t.current[T])return A.apply(e,r);if(e[n])return A.apply(e,r);{const t={target:e,url:e[s],isPeriodic:!1,args:r,aborted:!1},n=m("XMLHttpRequest.send",v,t,_,S);e&&!0===e[a]&&!t.aborted&&n.state===h&&n.invoke()}})),R=N(u,"abort",(()=>function(e,n){const o=e[r];if(o&&"string"==typeof o.type){if(null==o.cancelFn||o.data&&o.data.aborted)return;o.zone.cancelTask(o)}else if(!0===t.current[b])return R.apply(e,n)}))}(e);const r=y("xhrTask"),n=y("xhrSync"),o=y("xhrListener"),i=y("xhrScheduled"),s=y("xhrURL"),a=y("xhrErrorBeforeScheduled")})),e.__load_patch("geolocation",(e=>{e.navigator&&e.navigator.geolocation&&function(e,t){const r=e.constructor.name;for(let o=0;o<t.length;o++){const i=t[o],s=e[i];if(s){if(!T(n(e,i)))continue;e[i]=(e=>{const t=function(){return e.apply(this,b(arguments,r+"."+i))};return k(t,e),t})(s)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),e.__load_patch("PromiseRejectionEvent",((e,t)=>{function r(t){return function(r){Z(e,t).forEach((n=>{const o=e.PromiseRejectionEvent;if(o){const e=new o(t,{promise:r.promise,reason:r.rejection});n.invoke(e)}}))}}e.PromiseRejectionEvent&&(t[y("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),t[y("rejectionHandledHandler")]=r("rejectionhandled"))})),e.__load_patch("queueMicrotask",((e,t,r)=>{X(e,r)}))}(se)},2352:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.convertConnectionObject=t.reloadAllTabs=t.isBrowserWindowOpen=t.getOpenBrowserWindowCount=t.sleep=t.compareUrls=t.asyncRetryWithIncrementalDelay=t.waitForTabToLoad=t.getTabById=t.chromeIdentityGetAuthToken=t.executeScriptWrapper=t.isMv2Build=t.urlHasQueryParameters=t.stringIsEmpty=t.getActiveTab=t.captureScreenshot=t.ScreenshotRateLimitError=t.roughSizeOfObject=t.getStorage=t.configEndUnix=t.periodToNextDate=t.findSoonestStartingPeriod=t.getCurrentTimeForTimezone=t.find_active_period=t.DAY_INT_TO_STR_MAP=t.DAY_STR_TO_INT_MAP=t.getClassOwner=t.getTeacherIds=t.extractRequestUri=t.validURL=t.extractPort=t.extractURLPath=t.nowInSeconds=t.extractHostname=t.extractDomain=t.safeMapGet=t.is_active=t.removeHttp=t.isEmpty=void 0;const i=r(6619),s=o(r(4109)),a=r(786);t.isEmpty=e=>!e||!Object.keys(e).some((t=>void 0!==e[t])),t.removeHttp=e=>e.replace(/^https?:\/\//,""),t.is_active=(e,t)=>c(e,t),t.safeMapGet=(e,t,r)=>{var n;return null!==(n=e[t])&&void 0!==n?n:r},t.extractDomain=e=>{if(!(0,t.validURL)(e))return;let r=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0];return r=r.split(":")[0],r},t.extractHostname=e=>{if(!(0,t.validURL)(e))return;let r=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0];return r=r.split(":")[0],r=r.split("?")[0],r},t.nowInSeconds=()=>Math.floor(Date.now()/1e3),t.extractURLPath=e=>{if(!(0,t.validURL)(e))return;let r,n;if(e.indexOf("//")>0){const t=e.indexOf("//");n=e.indexOf("/",t+2),n>0&&(r=e.substring(n+1))}else n=e.indexOf("/"),n>0&&(r=e.substring(e.indexOf("/")+1));return n<0&&(r=""),"/"===(null==r?void 0:r.slice(-1))&&(r=r.slice(0,-1)),r},t.extractPort=function(e){if(!(0,t.validURL)(e))return;const r=Number((0,t.extractRequestUri)(e).split("/")[0].replace(":",""));return!isNaN(r)&&r>0?r:e.startsWith("https")?443:e.startsWith("http")?80:e.startsWith("ftp")?21:0},t.validURL=e=>{if((0,t.stringIsEmpty)(e))return!1;try{return new URL(e),!0}catch(t){return console.error(`Invalid URL: ${e}`),!1}},t.extractRequestUri=e=>{if(!(0,t.validURL)(e))return;const r=(0,t.extractHostname)(e);return r?e.substring(e.indexOf(r)+r.length):""};const c=(e,r)=>{const n=(0,t.nowInSeconds)();return 0!==r.timeout&&r.timeout>n||!!(0,t.find_active_period)(e,r.periods)};t.getTeacherIds=e=>{let t=[];const r=e.teachers;return r&&(t=r.map((e=>e.id))),t},t.getClassOwner=e=>{const t=e.teacher_information;return t&&t.id?t.id:null},t.DAY_STR_TO_INT_MAP=(new Map).set("sun",0).set("mon",1).set("tue",2).set("wed",3).set("thur",4).set("fri",5).set("sat",6),t.DAY_INT_TO_STR_MAP=(new Map).set(7,"sun").set(1,"mon").set(2,"tue").set(3,"wed").set(4,"thur").set(5,"fri").set(6,"sat"),t.find_active_period=(e,r)=>{if(r){const n=i.DateTime.now().setZone(e),o=t.DAY_INT_TO_STR_MAP.get(n.weekday),s=100*n.hour+n.minute;for(const e of r)if(e.day===o&&s>=e.startTime&&s<e.endTime)return e}return null},t.getCurrentTimeForTimezone=(e,r=(0,t.nowInSeconds)())=>i.DateTime.fromSeconds(r).setZone(e).toJSDate(),t.findSoonestStartingPeriod=(e,r)=>{if(!r.length)return null;const n=(0,t.getCurrentTimeForTimezone)(e),o=r.filter((e=>!!e));if(0===o.length)return null;let i=o[0],s=(0,t.periodToNextDate)(n,o[0].startTime,o[0].day);return o.forEach((e=>{const r=(0,t.periodToNextDate)(n,e.startTime,e.day);r<s&&(i=e,s=r)})),{soonestPeriod:i,msUntilStart:s.valueOf()-n.valueOf()}},t.periodToNextDate=(e,r,n)=>{const o=i.DateTime.now().toJSDate(),s=Math.floor(r/100),a=r%100;o.setHours(s,a,0,0);const c=e.getDate();let u=e.getDate();if(n){const r=t.DAY_STR_TO_INT_MAP.get(n)-e.getDay();u=r>0?c+r:0===r&&o>e?c:c+7-r}else o<e&&(u=c+1);return o.setDate(u),o},t.configEndUnix=(e,r)=>{let n=r.timeout;const o=(0,t.find_active_period)(e,r.periods);if(o){const t=i.DateTime.now().setZone(e).set({hour:o.endTime/100,minute:o.endTime%100,second:0,millisecond:0}).toUnixInteger();n=Math.max(n,t)}return n},t.getStorage=(e,t)=>{chrome.storage.local.get([e],(e=>{t(e)}))},t.roughSizeOfObject=e=>{const t=[],r=[e];let n=0;for(;r.length;){const e=r.pop();if("boolean"==typeof e)n+=4;else if("string"==typeof e)n+=2*e.length;else if("number"==typeof e)n+=8;else if(e.byteLength>0)n+=e.byteLength;else if("object"==typeof e&&-1===t.indexOf(e)){t.push(e);for(const t in e)r.push(e[t])}}return n};class u extends Error{}t.ScreenshotRateLimitError=u,t.captureScreenshot=(e,t)=>new Promise(((r,n)=>{chrome.tabs.captureVisibleTab(e,{format:"jpeg",quality:t},(t=>{var o;if(chrome.runtime.lastError)return(null===(o=chrome.runtime.lastError.message)||void 0===o?void 0:o.includes("MAX_CAPTURE_VISIBLE_TAB_CALLS_PER_SECOND"))?void n(new u("Exceeded MAX_CAPTURE_VISIBLE_TAB_CALLS_PER_SECOND")):void n(chrome.runtime.lastError);chrome.tabs.query({active:!0,windowId:e},(e=>{1===e.length?r({image:t,tabId:e[0].id}):r({image:t,tabId:void 0})}))}))})),t.getActiveTab=()=>n(void 0,void 0,void 0,(function*(){return(yield chrome.tabs.query({active:!0,currentWindow:!0}))[0]})),t.stringIsEmpty=e=>!(null==e?void 0:e.trim().length),t.urlHasQueryParameters=e=>-1!==e.indexOf("?"),t.isMv2Build=()=>{var e,t;return(null===(e=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===e?void 0:e.getManifest)&&2===(null===(t=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===t?void 0:t.getManifest().manifest_version)},t.executeScriptWrapper=e=>n(void 0,void 0,void 0,(function*(){var r;try{if(!(0,t.isMv2Build)())return yield chrome.scripting.executeScript(e);if(e.files){let t=[];for(let r=0;r<e.files.length;r++){const n=e.files[r],o=yield chrome.tabs.executeScript(e.target.tabId,{file:n});t=t.concat(o)}return t}if(e.func){const t="lwScriptInjectFunction",r="lwScriptInjectFunctionArgs";let n=`var ${t} = ${e.func.toString()};\n`;return e.args&&(n+=`var ${r} = ${JSON.stringify(e.args)};\n`),n+=`${t}(${e.args?`...${r}`:""});`,yield chrome.tabs.executeScript(e.target.tabId,{code:n})}}catch(e){(null!==(r=null==e?void 0:e.message)&&void 0!==r?r:"").includes("Cannot access a chrome://")||console.error("Failed to execute script:",e.message)}})),t.chromeIdentityGetAuthToken=e=>n(void 0,void 0,void 0,(function*(){return new Promise((t=>chrome.identity.getAuthToken(e,t)))})),t.getTabById=e=>n(void 0,void 0,void 0,(function*(){try{return yield chrome.tabs.get(e)}catch(e){}})),t.waitForTabToLoad=e=>new Promise((r=>{(0,t.getTabById)(e).then((t=>{if("complete"!==(null==t?void 0:t.status)){const t=(n,o)=>{n===e&&"complete"===(null==o?void 0:o.status)&&(chrome.tabs.onUpdated.removeListener(t),r())};chrome.tabs.onUpdated.addListener(t)}else r()}))})),t.asyncRetryWithIncrementalDelay=(e,r=3,o=1e3,i=5e3)=>n(void 0,void 0,void 0,(function*(){let n=0;for(;n<r;)try{const t=e(),r=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Function timed out"))),i)})),o=yield Promise.race([t,r]);if(!o)throw Error("Retry failed:"+n);return o}catch(e){n++,yield(0,t.sleep)(n*o)}throw Error(`Function failed after ${r} retries`)})),t.compareUrls=(e,t,r={stripProtocol:!0})=>(0,s.default)(e,r)===(0,s.default)(t,r),t.sleep=e=>new Promise((t=>setTimeout(t,e))),t.getOpenBrowserWindowCount=()=>n(void 0,void 0,void 0,(function*(){return(yield chrome.windows.getAll()).length})),t.isBrowserWindowOpen=()=>n(void 0,void 0,void 0,(function*(){return(yield(0,t.getOpenBrowserWindowCount)())>0})),t.reloadAllTabs=(e=!1)=>n(void 0,void 0,void 0,(function*(){const t=yield chrome.tabs.query({});for(const r of t)r.id&&chrome.tabs.reload(r.id,{bypassCache:e})})),t.convertConnectionObject=e=>{const t=new a.Connection;return t.setAppFilteringDenied(e.app_filtering_denied),t.setCategoryid(e.categoryId),t.setDestip(e.destIp),t.setDestport(e.destPort),t.setDownload(e.download),t.setFinalConnectionObject(e.final_connection_object),t.setHwaddress(e.hwAddress),t.setHttphost(e.httpHost||""),t.setHttpRequestUrisList(e.http_request_uris),t.setLifetime(e.lifetime),t.setNoise(e.noise),t.setPackets(e.packets),t.setProtocol(e.protocol||0),t.setSourceip(e.sourceIp),t.setSubcategoryid(e.subCategoryId),t.setTag(e.tag),t.setTime(e.time),t.setUpload(e.upload),t.setUser(e.user||""),t.setVerdictApplicationRule(e.verdict_application_rule),t.setReportingtype(e.reportingType),t.setExtensionconnection(e.extensionConnection),t.setHostname(e.htmlTitle||""),t.setId(e.id),t.setAgent(e.agent||""),t.setHardware(String(e.agent_inside_network)),t.setTeacherid(e.teacherId),t.setResourceType(e.resource_type||""),t.setBypassCode(e.bypass_code||""),t.setBypassExpiryTime(e.bypass_expiry_time||0),t.setHtmltitle(e.htmlTitle||""),t.setAgentInsideNetwork(e.agent_inside_network||!1),t.setFilterType(e.filter_type||""),t.setDebugChromeVerdictIssued(e.debug__chrome_verdict_issued||!1),t.setDebugChromeRequestid(e.debug__chrome_requestId||""),t}},5333:(e,t)=>{"use strict";var r,n,o,i,s,a,c,u,l,p,d,g,f,h,m,y,_,v,S;Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserTypes=t.youtubeStrictSafesearch=t.companionWebGrpcUrl=t.CompanionFeatures=t.MessageTypes=t.LogLevel=t.LogLevelTypes=t.EventTypes=t.UniqueScheduleIds=t.SchedulesConstants=t.ScreenshotPersisterConstants=t.ConnectionsConstants=t.AuthenticateConstants=t.DelegationReporting=t.DelegationConstants=t.SystemConfigConstants=t.CompanionConstants=t.MainConstants=t.TabsConstants=t.ConfigFetcherConstants=t.ChatConstants=t.ConfigConstants=t.VerdictStoreConstants=t.FallbackVerdictStoreConstants=t.FilteringConstants=t.UpdaterConstants=void 0,(S=t.UpdaterConstants||(t.UpdaterConstants={})).FcmMessagesCacheId="lw_updater_fcm_messages_cache_id",S.GeneralCacheId="lw_updater_general_cache_id",S.RegistrationCacheId="lw_updater_registration_cache",S.CheckInDevice="lw_check_in_device_for_fleet_management",S[S.CheckInDeviceElapsed_ms=3e5]="CheckInDeviceElapsed_ms",(v=t.FilteringConstants||(t.FilteringConstants={})).HandleVerdictQueueInterval="lw_handle_verdict_queue_interval",v.EvictOldResponsesInterval="lw_evict_old_responses",v.VerdictRawResponseCacheId="lw_verdict_raw_response_cache",v.FallbackVerdictsCacheId="lw_fallback_verdicts_cache",v.VerdictResponseTimeCacheId="verdict_response_time_cache",v.VerdictYoutubeQueryCacheId="verdict_youtube_query_cache",v.VerdictClientFallback="client_fallback",v.CustomHeaderCacheId="lw_custom_header_cache",v.CustomHeaderCacheCleanIntervalId="lw_custom_header_cache_interval_id",v[v.CustomHeaderCacheCleanInterval=3e5]="CustomHeaderCacheCleanInterval",v[v.CustomHeaderCacheExpireTime=36e5]="CustomHeaderCacheExpireTime",(t.FallbackVerdictStoreConstants||(t.FallbackVerdictStoreConstants={})).PurgeOldVerdictEntries="purge_old_verdict_entries",(_=t.VerdictStoreConstants||(t.VerdictStoreConstants={})).EvictOldResponsesInterval="lw_evict_old_responses",_.VerdictResponseCacheId="lw_verdict_response_cache",(y=t.ConfigConstants||(t.ConfigConstants={})).ConfigurationCacheId="lw_configuration_cache",y[y.ConfigLoadTimeout_ms=1e4]="ConfigLoadTimeout_ms",(m=t.ChatConstants||(t.ChatConstants={})).ChatDataCacheId="lw_chat_data_cache",m.OpenChatTimeout="lw_open_chat_timeout",(t.ConfigFetcherConstants||(t.ConfigFetcherConstants={})).ClassConfigRefreshTimeout="lw_class_config_refresh",(h=t.TabsConstants||(t.TabsConstants={})).FocusLockCheckTimeout="lw_tabs_focuslock_check",h.ScreenshotUploadInterval="lw_screenshot_upload_interval",h.TabsDataCacheId="lw_tabs_data_cache",(f=t.MainConstants||(t.MainConstants={})).PeriodicLoginInterval="lw_periodic_login",f.WhoamiLoginInterval="lw_whoami_login",f.FzboxPollInterval="lw_fzbox_poll",f.MainDataCacheId="lw_main_data_cache",f.DevDataCacheId="lw_dev_data_cache",f.LoadingConfiKey="lw_loading_config_key",f.RemainingUpdatesKey="lw_remaining_updates_key",f.DevBuildReloadedKey="lw_dev_build_reloaded_key",f[f.ResourceLimitThresholdCheckInterval=72e5]="ResourceLimitThresholdCheckInterval",(g=t.CompanionConstants||(t.CompanionConstants={})).CacheId="lw_companion_cache",g[g.MaxReconnectionAttempts=5]="MaxReconnectionAttempts",g[g.DeltaTimeout=5e3]="DeltaTimeout",g[g.MaxRetryRegistrationInterval_ms=3e4]="MaxRetryRegistrationInterval_ms",(t.SystemConfigConstants||(t.SystemConfigConstants={})).CacheId="lw_system_config_cache",(d=t.DelegationConstants||(t.DelegationConstants={})).CacheId="lw_delegation_config_cache",d.DelegationChangeScheduleId="lw_delegation_change_schedule_id",(p=t.DelegationReporting||(t.DelegationReporting={})).ALL="all",p.BLOCKED="blocked",p.NONE="none",(l=t.AuthenticateConstants||(t.AuthenticateConstants={})).PartialFailedCacheId="lw_partial_failed_cache",l.AuthenticationData="lw_authentication_data_cache",l.AuthTokenKey="auth_token",(u=t.ConnectionsConstants||(t.ConnectionsConstants={})).ConnectionsCacheId="lw_connections_cache",u.ConnectionsUploadInterval="lw_Connections_upload_interval",u.TabsCacheId="lw_tabs_cache",u.UploadInfoCacheId="lw_upload_info_cache",u.mainFrameRequestType="main_frame",u.eventTypeSendHeaders="sendHeaders",u.eventTypeBeforeRequest="beforeRequest",u.eventTypeHeadersReceived="headersReceived",u.eventTypeCompleted="completed",(t.ScreenshotPersisterConstants||(t.ScreenshotPersisterConstants={})).LastScreenshotCacheId="last_screenshot_cache",(t.SchedulesConstants||(t.SchedulesConstants={})).SchedulesDataCacheId="lw_schedule_manager_data_cache_id",(c=t.UniqueScheduleIds||(t.UniqueScheduleIds={})).ConfigUpdate="config_update_with_delay",c.CaptureTabAndSend="capture_tab_and_send",c.SendRuntimeMessage="send_runtime_message",c.PrintBlockedMessage="print_blocked_message",c.CreateNewChromeTab="create_new_chrome_tab",(a=t.EventTypes||(t.EventTypes={})).CONFIG_UPDATE="CONFIG_UPDATE",a.OPEN_TAB="OPEN_TAB",a.CLOSE_TAB="CLOSE_TAB",a.MESSAGE="MESSAGE",a.CLASS_STARTED="CLASS_STARTED",a.POLICY_UPDATE="POLICY_UPDATE",a.INIT_P2P="INIT_P2P",(s=t.LogLevelTypes||(t.LogLevelTypes={})).Error="logging__error",s.Warning="logging__warning",s.Message="logging__message",s.Debug="logging__debug",(i=t.LogLevel||(t.LogLevel={})).INFO="INFO",i.WARN="WARN",i.ERROR="ERROR",i.DEBUG="DEBUG",(o=t.MessageTypes||(t.MessageTypes={})).InitOffscreenDocument="init_offscreen_socument_message",o.RegisterExtension="register_extension_with_native_agent",o.UnregisterExtension="unregister_extension_from_native_agent",o.RegisterClasswizeEventFail="register_extension_with_native_agent_classwize_events_fail",o.RegisterClasswizeEventMessage="register_extension_with_native_agent_classwize_events_Message",o.IsExtensionRegistered="is_extension_registered_with_native_agent",o.CompanionMessage="message_from_native_agent",o.CompanionErrorMessage="error_message_from_native_agent",o.RecoverCompanionStream="recover_companion_stream",o.RetryRegistration="retry_registration_with_native_agent",o.IpAddressChangeRoutine="ip_address_change_routine",o.TabsActivated="tabs_activated_message",o.UrlUpdatedInTab="url_updated_in_tab",o.P2PInitSignaler="p2p_init_signaler_message",o.P2PSetCloseTimeouts="p2p_set_close_timeouts_message",o.P2PGetScreenshot="p2p_get_screenshot_message",o.P2PGetTabs="p2p_get_tabs_message",o.UtilLocalIpUpdated="util_local_ip_updated_message",o.UtilResizeAndCompressImage="util_resize_and_compress_image",o.BroadcastWakeUpCall="cachescheduler_broadcast_wakeup_call",o.BroadcastScheduleTime="schedule-time-ee236fce-1426-4975-9d56-2ce4e8becd02",o.ChatBubbleStatus="chat_status",o.ChatInfo="chat_info",o.ChatGetLastMessage="last_chat_message",o.ChatClearLastMessage="clear_last_chat_message",o.UIGetStatus="ui_get_status",o.UIReloadConfig="ui_reload_config",o.UISendLogs="ui_send_logs",o.UpdaterNewMessage="updater_new_message",o.GetSafeguardVerdict="get_safe_guard_verdict",o.RedirectWebPage="redirect_web_page",o.EventMessage="event_service_message",o.InitAutoAuth="init_auto_auth",o.GetAuthCookie="get_auth_cookie",o.GetAuthToken="get_auth_token",o.UploadLogData="upload_log_data",o.UpdateOffscreenConfig="update_offscreen_config",o.MainConfigUpdated="main_config_updated",o.OffScreenLogMessage="Off_screen_log_message",o.GetManifestInfo="get_manifest_info",o.Token="TOKEN",o.ChatConfigUpdate="CHAT_CONFIG_UPDATE",o.UpdateTotalUnreadCount="UPDATE_TOTAL_UNREAD_COUNT",o.OpenChatClassroom="OPEN_CHAT_CLASSROOM",o.GoogleAuthenticate="GOOGLE_AUTHENTICATE",o.NativeTokenAuthenticate="NATIVE_TOKEN_AUTHENTICATE",o.GetBrowserType="get_browser_type",o.CheckIfDomainIsBlocked="check_if_domain_is_blocked",o.ExtractFallbackDomains="extract_fallback_domains",o.LogMessage="log_message",o.InitOpenTelemetry="initialize-open-telemetry-client",o.StartOTELSpan="start-open-telemetry-span",o.SetOTELSpanOkay="set-open-telemetry-span-is-okay",o.RecordOTELSpanException="record-open-telemetry-span-exception",o.EndOTELSpan="end-open-telemetry-span",o.SendOTELLogs="send-open-telemetry-logs",o.CloseOTEL="shutdown-open-telemetry-client",(n=t.CompanionFeatures||(t.CompanionFeatures={})).companion="companion",n.companionLite="companion_lite",n.proxyFilter="proxy_filter",n.dns_filter="dns_filter",n.classroom="classroom",n.liteModeEnabled="companion-mode-lite-enabled",t.companionWebGrpcUrl="http://127.0.0.1:5769",t.youtubeStrictSafesearch="STRICT",(r=t.BrowserTypes||(t.BrowserTypes={})).chrome="chrome",r.edge="edge"},8148:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1658);class o{static setServerTimeStamp(e){e<this.lastServerTimeStamp?(0,n.logging__debug)("The server timestamp is behind last server time by ",e-this.lastServerTimeStamp," ms"):(this.lastServerTimeStamp=e,this.relativeTimeStart=Date.now())}static now(){const e=Date.now()-this.relativeTimeStart;return this.lastServerTimeStamp+e}}t.default=o,o.lastServerTimeStamp=Date.now(),o.relativeTimeStart=Date.now()},6981:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(5635),s=r(1458),a=r(8776),c=r(1658),u=r(5333),l=o(r(6131)),p=o(r(1796));class d extends l.default{connect(){d.isConnected||d.connectToClasswizeStream()}disconnect(e=!1){d.keepReconnecting=e,d.closeStream()}static connectToClasswizeStream(){(0,c.logging__message)("Connecting to Classwize Event Service"),d.eventStream=d.eventClient.receiveEvents(new s.Empty),d.keepReconnecting=!0,d.eventStream.on("data",(e=>{var t;const r=null===(t=e.getMessages())||void 0===t?void 0:t.toObject();if(r){const e=Object.keys(a.EventType).find((e=>a.EventType[e]===r.event));d.handleClasswizeEvent(u.EventTypes[e],r)}})).on("end",(e=>{(0,c.logging__warning)(`end: ${e}`),0!=(null==e?void 0:e.code)&&((0,c.logging__warning)("Classwize Event Service stream has been terminated"),d.keepReconnecting&&d.reconnectToClasswize())})),d.isConnected=!0}static reconnectToClasswize(){return n(this,void 0,void 0,(function*(){d.closeStream(),setTimeout((()=>{1===p.default.getActiveEventServiceType()&&d.connectToClasswizeStream()}),1e3)}))}static closeStream(){d.isConnected&&(d.eventStream.cancel(),d.isConnected=!1)}static handleClasswizeEvent(e,t){let r={};try{r=JSON.parse(t.value)}catch(e){r={}}l.default.sendEventToServiceWorker(e,r)}}t.default=d,d.eventClient=new i.ClasswizeApiClient(u.companionWebGrpcUrl),d.isConnected=!1,d.keepReconnecting=!0},1894:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompanionClient=void 0;const i=r(409),s=r(7518),a=r(5333),c=r(5570),u=o(r(1796));class l{static registerExtension(){return n(this,void 0,void 0,(function*(){const e=yield c.OffscreenManager.sendMesage({type:a.MessageTypes.GetManifestInfo});return!!e&&(yield this.registrationHandler(e.name,e.version))}))}static registrationHandler(e,t){return n(this,void 0,void 0,(function*(){if(this.isConnected)return;const r=new i.CompanionRegistrationRequest;return r.setName(e),r.setVersion(t),this.keepReconnecting=!0,this.companionStream=this.companionClient.registerCompanion(r),new Promise((e=>{this.companionStream.on("data",(t=>{var r,n;this.nReconnectionAttempts=0;const o=t.getVersion(),i=null!==(n=null===(r=t.getEnrolmentdetails())||void 0===r?void 0:r.toObject())&&void 0!==n?n:void 0;let s=!1,p=!1;i&&l.isValidEnrolmentDetails(i)&&(s=!0,p=i.enabledfeaturesList.includes(a.CompanionFeatures.companion)),s&&u.default.setActiveEventServiceClient(1),c.OffscreenManager.sendMesage({type:a.MessageTypes.CompanionMessage,nativeAgentVersion:o,enrolmentDetails:i,companionStatus:{companionAvailable:!0,companionEnrolled:s,companionEnabled:p}}),this.isConnected||(this.isConnected=!0,e(!0))})).on("end",(t=>{0!=(null==t?void 0:t.code)&&(c.OffscreenManager.sendMesage({type:a.MessageTypes.CompanionErrorMessage,status:t,extensionIsRegistered:l.isConnected}),u.default.setActiveEventServiceClient(0),this.keepReconnecting&&this.reconnectToNativeAgent(),this.isConnected||e(!1))}))}))}))}static unregisterExtension(e=!1){this.keepReconnecting=e;const t=l.isConnected;this.closeStream(),c.OffscreenManager.sendMesage({type:a.MessageTypes.CompanionErrorMessage,extensionIsRegistered:t}),u.default.setActiveEventServiceClient(-1)}static isValidEnrolmentDetails(e){return!!(e&&e.username&&e.applianceid&&e.devicetoken&&e.region&&e.enabledfeaturesList)}static reconnectToNativeAgent(){return n(this,void 0,void 0,(function*(){this.closeStream(),setTimeout((()=>{this.keepReconnecting&&l.registerExtension()}),l.getReconnectionTimeout())}))}static closeStream(){this.isConnected&&(this.companionStream.cancel(),this.isConnected=!1)}static getReconnectionTimeout(){return this.nReconnectionAttempts>=a.CompanionConstants.MaxReconnectionAttempts?(this.nReconnectionAttempts=0,a.CompanionConstants.MaxRetryRegistrationInterval_ms):(this.nReconnectionAttempts++,this.nReconnectionAttempts*a.CompanionConstants.DeltaTimeout)}static connected(){return this.isConnected}static getCompanionClient(){return this.companionClient}}t.CompanionClient=l,l.companionClient=new s.CompanionApiClient(a.companionWebGrpcUrl),l.isConnected=!1,l.keepReconnecting=!0,l.nReconnectionAttempts=0},1433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompanionModeReportingClient=void 0;const n=r(5333),o=r(409),i=r(7518);class s{static init(){this.consoleLogStream=new i.CompanionApiClient(n.companionWebGrpcUrl).consoleLogStream(),this.initialised=!0}static sendConsoleLogToNativeAgent(e,t){this.initialised||this.init();const r=new o.ConsoleLog;r.setLog(e),r.setLoglevel(t),this.consoleLogStream.write(r)}}t.CompanionModeReportingClient=s,s.initialised=!1},1796:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(6981)),i=n(r(6500)),s=r(1658);class a{static getEventClient(e){switch(a.activeEventSourceType=e,e){case 0:return a.eventServiceClient;case 1:return a.classwizeServiceClient;default:return void(0,s.logging__debug)(`No event client available for this type: ${e}`)}}static getActiveEventServiceType(){return a.activeEventSourceType}static reconnectToEventSourceIfneeded(e,t){const r=0===a.activeEventSourceType&&((null==e?void 0:e.user)!==(null==t?void 0:t.user)||(null==e?void 0:e.deviceId)!==(null==t?void 0:t.deviceId)||(null==e?void 0:e.eventServiceUrl)!==(null==t?void 0:t.eventServiceUrl));a.setActiveEventServiceClient(a.getActiveEventServiceType(),r)}static setActiveEventServiceClient(e,t=!1){(a.getActiveEventServiceType()!==e||t)&&(a.activeEventClient&&a.activeEventClient.disconnect(),a.activeEventClient=a.getEventClient(e),a.activeEventClient&&a.activeEventClient.connect())}}t.default=a,a.activeEventSourceType=0,a.eventServiceClient=i.default.generate(),a.classwizeServiceClient=o.default.generate()},6500:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(3919),s=r(1658),a=r(5333),c=r(5570),u=r(2352),l=o(r(6131)),p=o(r(8148));class d extends l.default{connect(){d.intiateServiceConnection()}disconnect(){d.disconnectFromEventService()}static disconnectFromEventService(){(0,s.logging__message)("Disconnecting from Event V2 Service"),d.eventService&&(d.eventService.close(),d.eventService=void 0)}static intiateServiceConnection(){return n(this,void 0,void 0,(function*(){const e=c.OffscreenManager.getOffscreenConfig();if(!e)return(0,s.logging__warning)("User config does not exist"),void d.disconnectFromEventService();const t=e.user,r=e.deviceId,o=e.eventServiceUrl,l=(0,u.stringIsEmpty)(t),p=(0,u.stringIsEmpty)(r),g=(0,u.stringIsEmpty)(o);if(l||p||g)return(0,s.logging__warning)("User details are not valid"),(0,s.logging__debug)(`Details ==> user: ${t}, device: ${r}, eventServiceUrl: ${o}`),void d.disconnectFromEventService();const f=`${o}/events/v2/appliance/${r}/recipient/${t}?events=${e.isTeacher?"CONFIG_UPDATE":"CONFIG_UPDATE,OPEN_TAB,CLOSE_TAB,MESSAGE,CLASS_STARTED,POLICY_UPDATE,INIT_P2P"}`;void 0===d.eventService?((0,s.logging__message)("Connecting to v2 Event Service"),d.eventService=new EventSource(f,{withCredentials:!0}),d.eventService.onerror=function(e){return n(this,void 0,void 0,(function*(){(0,s.logging__error)("Error with event service",e),d.disconnectFromEventService();const t=yield c.OffscreenManager.getAuthCookie();if(!d.eventServiceRetriedWithExistingAuth&&t){const e=(0,i.getRandomInt)(0,5);(0,s.logging__message)(`Retrying with existing auth in ${e} seconds`),setTimeout(d.retryEventServiceWithExistingAuth,1e3*e)}else if(d.eventServiceRetriedWithNewAuth)d.retryEventServiceAfterTimeout();else{let e=0;const t=(new Date).toDateString();d.lastAuthAttemptDate&&d.lastAuthAttemptDate===t||(e=(0,i.getRandomInt)(0,5)),d.lastAuthAttemptDate=t,(0,s.logging__message)(`Retrying with new auth in ${e} seconds`),setTimeout(d.retryEventServiceWithNewAuth,1e3*e)}}))},d.eventService.onopen=function(){(0,s.logging__message)("Connected to event-service"),d.eventServiceRetriedWithExistingAuth=!1,d.eventServiceRetriedWithNewAuth=!1,clearTimeout(d.reauthTimeoutId),d.eventServiceRetryTimeoutSeconds=1},d.eventService.addEventListener(a.EventTypes.CONFIG_UPDATE,(function(e){d.handleNewEvent(a.EventTypes.CONFIG_UPDATE,e)}),!1),d.eventService.addEventListener(a.EventTypes.OPEN_TAB,(function(e){d.handleNewEvent(a.EventTypes.OPEN_TAB,e)}),!1),d.eventService.addEventListener(a.EventTypes.CLOSE_TAB,(function(e){d.handleNewEvent(a.EventTypes.CLOSE_TAB,e)}),!1),d.eventService.addEventListener(a.EventTypes.MESSAGE,(function(e){d.handleNewEvent(a.EventTypes.MESSAGE,e)}),!1),d.eventService.addEventListener(a.EventTypes.CLASS_STARTED,(function(e){d.handleNewEvent(a.EventTypes.CLASS_STARTED,e)}),!1),d.eventService.addEventListener(a.EventTypes.POLICY_UPDATE,(function(e){setTimeout((()=>{d.handleNewEvent(a.EventTypes.POLICY_UPDATE,e)}),1e3)}),!1),d.eventService.addEventListener(a.EventTypes.INIT_P2P,(function(e){d.handleNewEvent(a.EventTypes.INIT_P2P,e)}),!1)):(0,s.logging__message)("aborting connection attempt to event service, already connected")}))}static retryEventServiceWithExistingAuth(){return n(this,void 0,void 0,(function*(){try{d.eventServiceRetriedWithExistingAuth=!0,d.intiateServiceConnection()}catch(e){d.retryEventServiceAfterTimeout()}}))}static retryEventServiceWithNewAuth(){return n(this,void 0,void 0,(function*(){try{yield c.OffscreenManager.initAutoAuth();const e=d.getReauthAllowedTimer();d.reauthTimeoutId=setTimeout((()=>{d.eventServiceRetriedWithNewAuth=!1}),1e3*e+d.getReauthJitterMs()),d.eventServiceRetriedWithNewAuth=!0,d.intiateServiceConnection()}catch(e){(0,s.logging__error)("Failed to authenticate before retrying to connect to event-service, triggering events retry again after timeout"),d.retryEventServiceAfterTimeout()}}))}static retryEventServiceAfterTimeout(){(0,s.logging__warning)("v2 Event service connect error; sleeping for "+d.eventServiceRetryTimeoutSeconds+" seconds"),d.eventServiceRetryTimeoutSeconds*=2,d.eventServiceRetryTimeoutSeconds>=64&&(d.eventServiceRetryTimeoutSeconds=64),setTimeout(d.intiateServiceConnection,1e3*d.eventServiceRetryTimeoutSeconds)}static handleNewEvent(e,t){d.eventServiceRetryTimeoutSeconds=1,(0,s.logging__debug)("Event Message Received",t);let r={};try{r=JSON.parse(t.data)}catch(e){return r={},void(0,s.logging__error)("Error parsing the event data",e)}this.adjustVirtualClock(r),l.default.sendEventToServiceWorker(e,r)}static adjustVirtualClock({header:e={}}={}){const{timestampEpochMs:t}=e;null!=t||p.default.setServerTimeStamp(Number(t))}static getReauthAllowedTimer(){return d.reauthAllowedTimerSeconds||d.REAUTH_ALLOWED_TIMER_SECONDS}static getReauthJitterMs(){return(0,i.getRandomInt)(0,9e4)}}t.default=d,d.REAUTH_ALLOWED_TIMER_SECONDS=600,d.reauthAllowedTimerSeconds=d.REAUTH_ALLOWED_TIMER_SECONDS,d.eventService=void 0,d.eventServiceRetryTimeoutSeconds=1,d.eventServiceRetriedWithExistingAuth=!1,d.eventServiceRetriedWithNewAuth=!1,d.reauthTimeoutId=void 0,d.lastAuthAttemptDate=void 0},6131:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5333),o=r(5570);t.default=class{static generate(){return new this}static sendEventToServiceWorker(e,t){o.OffscreenManager.sendMesage({type:n.MessageTypes.EventMessage,eventType:e,data:t})}}},293:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(1658);class i{static loadBlockedDomains(){return n(this,void 0,void 0,(function*(){if(this.init)return;const e=chrome.runtime.getURL("offscreen/assets/domains.json");try{const t=yield fetch(e);if(t.ok){const e=yield t.json();this.fallbackDomains=new Set(e.domains)}}catch(e){(0,o.logging__error)("Fetch threw an exception while retrieving fallback.blocked domains",e)}this.init=!0,this.cachedCallbacks.forEach((e=>{e()})),this.cachedCallbacks=[]}))}static getFallbackDomainNumber(){return n(this,void 0,void 0,(function*(){return yield this.waitTillDomainsAreLoaded(),this.fallbackDomains?this.fallbackDomains.size:-1}))}static domainIsBlocked(e){var t;return n(this,void 0,void 0,(function*(){return yield this.waitTillDomainsAreLoaded(),null===(t=this.fallbackDomains)||void 0===t?void 0:t.has(e)}))}static waitTillDomainsAreLoaded(){return n(this,void 0,void 0,(function*(){return new Promise((e=>{!0===this.init?e():this.cachedCallbacks.push((()=>{e()}))}))}))}}t.default=i,i.cachedCallbacks=[],i.init=!1},5570:function(e,t,r){"use strict";var n,o,i,s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OffscreenManager=void 0;const c=r(1894),u=r(5333),l=a(r(1694)),p=r(3919),d=a(r(1796)),g=a(r(2597)),f=a(r(293)),h=a(r(5161));class m{static init(e=!1,t){m.initialised||(m.initialised=!0,console.log("Initiating the offscreen doc..."),m.isMv2=e,m.registerEventHandlers(),m.sendMessageCallback=t,l.default.init(),f.default.loadBlockedDomains())}static getOffscreenConfig(){return m.offscreenConfig}static offscreenConfigUpdated(e,t){d.default.reconnectToEventSourceIfneeded(e,t)}static sendLocalIpMessage(e){m.sendMesage({type:u.MessageTypes.UtilLocalIpUpdated,localIpAddress:e})}static registerEventHandlers(){m.isMv2||chrome.runtime.onMessage.addListener(((e,t,r)=>m.handleMesage(e,r)))}static getUserIP(){m.localIpPeerConnection&&(m.localIpPeerConnection.onicecandidate&&(m.localIpPeerConnection.onicecandidate=null),m.localIpPeerConnection=void 0),m.localIpPeerConnection=(0,p.getLocalIpPeerConnection)(m.sendLocalIpMessage)}static handleMesage(e,t){let r=!1;switch(e.type){case u.MessageTypes.InitOffscreenDocument:m.init();break;case u.MessageTypes.InitOpenTelemetry:h.default.init(e.manifest,null==e?void 0:e.config);break;case u.MessageTypes.StartOTELSpan:t(h.default.startSpan(e.name,e.kind,e.instrumentationScope,e.traceId,e.attributes));break;case u.MessageTypes.SetOTELSpanOkay:h.default.setSpanOkay(e.key);break;case u.MessageTypes.RecordOTELSpanException:h.default.recordException(e.key,e.error);break;case u.MessageTypes.EndOTELSpan:h.default.endSpan(e.key);break;case u.MessageTypes.SendOTELLogs:h.default.sendLog(e.body,e.severity);break;case u.MessageTypes.CloseOTEL:h.default.close();break;case u.MessageTypes.RegisterExtension:c.CompanionClient.registerExtension().then(t),r=!0;break;case u.MessageTypes.UnregisterExtension:c.CompanionClient.unregisterExtension();break;case u.MessageTypes.LogMessage:g.default.processLogMessage(e.msg,e.logLevel);break;case u.MessageTypes.UploadLogData:(()=>{s(this,void 0,void 0,(function*(){const r=yield g.default.uploadLogData(e.data);t(r)}))})(),r=!0;break;case u.MessageTypes.IpAddressChangeRoutine:m.getUserIP();break;case u.MessageTypes.UpdateOffscreenConfig:{const t=m.offscreenConfig;m.offscreenConfig=e.config,m.offscreenConfigUpdated(t,e.config);break}case u.MessageTypes.GetBrowserType:t((0,p.getBrowserType)());break;case u.MessageTypes.CheckIfDomainIsBlocked:(()=>{s(this,void 0,void 0,(function*(){const r=yield f.default.domainIsBlocked(e.domain);t(r)}))})(),r=!0;break;case u.MessageTypes.ExtractFallbackDomains:(()=>{s(this,void 0,void 0,(function*(){const e=yield f.default.getFallbackDomainNumber();t(e)}))})(),r=!0;break;case u.MessageTypes.P2PInitSignaler:l.default.initSignaler(e.signalToken,e.channelName,e.remotePeerId,e.peerId,e.iceServers);break;case u.MessageTypes.P2PSetCloseTimeouts:l.default.setCloseTimeouts(e.timezone,e.deviceChannelId,e.activeConfigurations);break;case u.MessageTypes.UtilResizeAndCompressImage:(()=>{s(this,void 0,void 0,(function*(){const r=yield(0,p.resizeAndCompressImage)(e.image,e.maxWidth,e.compressQuality);t({processedImage:r})}))})(),r=!0;break;case u.MessageTypes.BroadcastScheduleTime:m.isMv2&&setTimeout((()=>{m.sendMesage({type:u.MessageTypes.BroadcastWakeUpCall})}),e.timeInMs)}return m.isMv2&&!r&&t(),r}static initAutoAuth(){return s(this,void 0,void 0,(function*(){yield m.sendMesage({type:u.MessageTypes.InitAutoAuth})}))}static getAuthCookie(){return s(this,void 0,void 0,(function*(){return m.sendMesage({type:u.MessageTypes.GetAuthCookie})}))}static getAuthToken(e=!1){return s(this,void 0,void 0,(function*(){return m.sendMesage({type:u.MessageTypes.GetAuthToken,refreshToken:e})}))}static sendMesage(e){return s(this,void 0,void 0,(function*(){return m.isMv2?yield new Promise((t=>{m.sendMessageCallback&&m.sendMessageCallback(e,(e=>t(e)))})):yield chrome.runtime.sendMessage(e)}))}}t.OffscreenManager=m,m.initialised=!1,m.isMv2=!1,(null===(n=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===n?void 0:n.getManifest)&&2===(null===(i=null===(o=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===o?void 0:o.getManifest())||void 0===i?void 0:i.manifest_version)||m.init()},2597:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(5333),i=r(1894),s=r(1433),a=r(6326);class c{static processLogMessage(e,t){var r,n,u,l,p,d,g;if(c.lastSavedLog=a.LogStorageHandler.insertLogData(e),c.companionConnected!==i.CompanionClient.connected()&&(c.companionConnected=i.CompanionClient.connected(),c.companionConnected))for(;null===(r=c.lastLogWrittenToFile)||void 0===r?void 0:r.nextNode;){c.lastLogWrittenToFile=null!==(u=null===(n=c.lastLogWrittenToFile)||void 0===n?void 0:n.nextNode)&&void 0!==u?u:null;const e=null!==(p=null===(l=c.lastLogWrittenToFile)||void 0===l?void 0:l.data)&&void 0!==p?p:"";e&&s.CompanionModeReportingClient.sendConsoleLogToNativeAgent(e,o.LogLevel.INFO)}c.companionConnected&&(s.CompanionModeReportingClient.sendConsoleLogToNativeAgent(e,t),c.lastLogWrittenToFile=c.lastSavedLog),(null===(d=c.lastLogWrittenToFile)||void 0===d?void 0:d.deleted)&&(c.lastLogWrittenToFile=a.LogStorageHandler.getLogEntriesHead()),(null===(g=c.lastLogUploaded)||void 0===g?void 0:g.deleted)&&(c.lastLogUploaded=a.LogStorageHandler.getLogEntriesHead())}static uploadLogData(e){var t,r;return n(this,void 0,void 0,(function*(){const n=yield a.LogStorageHandler.uploadLogData(e,null!==(r=null===(t=c.lastLogUploaded)||void 0===t?void 0:t.nextNode)&&void 0!==r?r:null);return c.lastLogUploaded=c.lastSavedLog,n}))}}t.default=c,c.lastSavedLog=null,c.lastLogUploaded=null,c.lastLogWrittenToFile=null,c.companionConnected=!1},6326:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogStorageHandler=void 0;const i=r(5570),s=r(1658),a=o(r(4834));class c{static insertLogData(e){return this.logEntries.insert(e)}static uploadLogData(e,t){var r;return n(this,void 0,void 0,(function*(){const n=this.getLogs(t),o=e.username,a=e.applianceId,c=e.filename,u=e.uploadUrl;if(0===n.length)return!0;const l=Date.now()/1e3;let p=yield i.OffscreenManager.getAuthCookie();if((null!==(r=null==p?void 0:p.expirationDate)&&void 0!==r?r:0)<=l&&(yield i.OffscreenManager.initAutoAuth(),p=yield i.OffscreenManager.getAuthCookie()),!(a&&o&&n&&c))return(0,s.logging__error)("Failed to upload debug logs due to missing properties. "+JSON.stringify({applianceId:!!a,username:!!o,logsToUpload:!!n,remoteFilename:!!c})),!1;try{const e=yield fetch(u,{credentials:"include",method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({appliance_id:a,username:o,logs_to_upload:n,file_name:c})});if(e.ok)return(0,s.logging__message)("Log data uploaded"),this.logEntries.clean(),!0;(0,s.logging__error)("Failed to upload log data",e.status)}catch(e){(0,s.logging__error)("Fetch threw an exception while uploading log data",e)}return!1}))}static storageIsEmpty(){return this.logEntries.empty()}static getLogEntriesHead(){return this.logEntries.getHeadNode()}static getLogs(e=null){return this.logEntries.toString(e)}static clean(){this.logEntries.clean()}}t.LogStorageHandler=c,c.logEntries=new a.default},4834:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListNode=void 0;class r{constructor(e){this.nextNode=null,this.data=e,this.nextNode=null,this.deleted=!1}}t.ListNode=r,t.default=class{constructor(){this.head=null,this.tail=null,this.nMaxListEntries=2e3,this.nEntriesToDelete=500,this.linkedListSize=0}insert(e){const t=new r(e);if(0===this.linkedListSize)this.head=this.tail=t;else if(this.tail){if(this.linkedListSize>=this.nMaxListEntries)for(let e=0;e<this.nEntriesToDelete;e++)this.delete();this.tail.nextNode=t,this.tail=t}return this.linkedListSize++,t}clean(){for(;0!==this.linkedListSize;)this.delete()}empty(){return 0===this.linkedListSize}delete(){if(!this.head)return;if(this.head.deleted=!0,1===this.linkedListSize)return this.head=this.tail=null,void this.linkedListSize--;const e=this.head.nextNode;e&&(this.head=e,this.linkedListSize--)}size(){return this.linkedListSize}getHeadNode(){return this.head}toString(e=null){let t=this.head;null===e||e.deleted||(t=e);let r="";for(;t;)r+=t.data+"\n",t=t.nextNode;return r}}},2722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircuitBreakerSampler=void 0;const n=r(9827);t.CircuitBreakerSampler=class{constructor(e){this.baseSampler=e.baseSampler,this.rateLimiter=e.rateLimiter}shouldSample(e,t,r,o,i,s){return this.rateLimiter&&!this.rateLimiter.tryRemoveTokens(1)?{decision:n.SamplingDecision.NOT_RECORD}:this.baseSampler.shouldSample(e,t,r,o,i,s)}toString(){return"CircuitBreakerSampler"}}},5161:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(9827),s=r(6683),a=r(2445),c=r(2679),u=r(5360),l=r(4822),p=r(8990),d=r(8712),g=r(5147),f=r(1658),h=r(4089),m=r(2722),y=r(3121),_=o(r(8148)),v=r(5570);class S{static init(e,t){return n(this,void 0,void 0,(function*(){if(!e||!t)return(0,f.logging__error)("OTEL client: Invalid call, config and manifest must be provided"),void(this.initialized&&this.close());if(this.initialized&&!this.hasConfigChanged(t))return void(0,f.logging__debug)("OTEL client: OpenTelemetry client has already been initialized and config has not changed. Skipping re-initialization.");if(!t.enabled)return void(this.initialized&&this.close());(0,f.logging__message)("OTEL client: Successfully initialized or Updated"),u.context.disable();const r=new h.ZoneContextManager;u.context.setGlobalContextManager(r),r.enable(),this.rateLimiter=new g.RateLimiter({tokensPerInterval:t.rateLimitPerHour||1e3,interval:"hour"}),this.initialized=!0,this.config=t,this.manifest=e,this.startTracerProvider().then((()=>{this.exporterErrorHandler()})).catch((e=>{(0,f.logging__error)("OTEL client: Failed to start",e),this.close()}))}))}static hasConfigChanged(e){return!(0,y.isEqual)(this.config,e)}static collectorConfig(e="/traces"){var t;return n(this,void 0,void 0,(function*(){const r=this.config,n=yield v.OffscreenManager.getAuthToken();return(null===(t=r.endpoint)||void 0===t?void 0:t.baseUrl)?{url:r.endpoint.baseUrl+e,headers:{Authorization:`Agent-Bearer ${n}`}}:{}}))}static batchProcessorConfig(){var e,t,r,n;const o=this.config;return{maxExportBatchSize:null===(e=o.batchProcessor)||void 0===e?void 0:e.batchSize,scheduledDelayMillis:null===(t=o.batchProcessor)||void 0===t?void 0:t.scheduledDelayMillis,maxQueueSize:null===(r=o.batchProcessor)||void 0===r?void 0:r.maxQueueSize,exportTimeoutMillis:null===(n=o.batchProcessor)||void 0===n?void 0:n.exportTimeoutMillis}}static getServiceName(){return`connect-chrome-edu-mv${this.manifest.manifest_version}`}static startTracerProvider(){var e,t;return n(this,void 0,void 0,(function*(){if(this.tracerProvider){const e=this.tracerProvider;e.forceFlush().then((()=>{e.shutdown()}))}const r=this.config,n=new m.CircuitBreakerSampler({baseSampler:new i.ParentBasedSampler({root:new i.TraceIdRatioBasedSampler((null==r?void 0:r.samplingRate)||.1)}),rateLimiter:this.rateLimiter});this.tracerProvider=new i.BasicTracerProvider({resource:new p.Resource(Object.assign(Object.assign(Object.assign({},{[d.SEMRESATTRS_SERVICE_NAME]:this.getServiceName()}),{[d.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT]:r.region}),(null===(e=r.requiredResourceAttributes)||void 0===e?void 0:e.serviceVersion)&&{[d.SEMRESATTRS_SERVICE_VERSION]:this.manifest.version})),sampler:n}),this.exporter=r.endpoint?new s.OTLPTraceExporter(yield this.collectorConfig(null===(t=r.endpoint)||void 0===t?void 0:t.trace)):null;const o=this.exporter?new i.BatchSpanProcessor(this.exporter,this.batchProcessorConfig()):null;o?(this.tracerProvider.addSpanProcessor(o),this.tracerProvider.register()):(this.tracerProvider=void 0,(0,f.logging__error)("Otel Tracing span processor failed to while registering"),this.close())}))}static exporterErrorHandler(){if(this.exporter){const e=this.exporter.send.bind(this.exporter);this.exporter.send=(t,r,o)=>{e(t,(()=>{this.exporterAuthRetryCounter=0,r()}),(e=>n(this,void 0,void 0,(function*(){var i;this.exporterAuthRetryCounter<3?(this.exporterAuthRetryCounter++,401===(null==e?void 0:e.code)?((0,f.logging__error)("Otel Authentication error: token expired or invalid",e),yield v.OffscreenManager.getAuthToken(!0),yield this.startTracerProvider(),this.exporterErrorHandler(),null===(i=this.exporter)||void 0===i||i.send(t,r,o)):o(e)):((0,f.logging__error)("Otel Authentication error: maximum auth retry reached. Retry starts in 300000 milliseconds"),setTimeout((()=>n(this,void 0,void 0,(function*(){var e;this.exporterAuthRetryCounter=0,null===(e=this.exporter)||void 0===e||e.send(t,r,o)}))),3e5+Math.floor(3e4*Math.random())))}))))}}}static getTracer(e){return this.tracerProvider?this.tracerProvider.getTracer(e,String(this.manifest.version)):((0,f.logging__debug)("OTEL Client: Noop Tracer provider is returned."),this.noopTracerProvider.getTracer("noop"))}static startSpan(e,t,r,n,o){const i=u.propagation.extract(u.context.active(),n);try{const n=`span_${Date.now()}_${Math.random()}`,s=this.getTracer(r).startSpan(e,{attributes:o,startTime:_.default.now(),kind:t},i);return this.spanMap.set(n,s),n}catch(e){return(0,f.logging__error)("OTEL client: Error starting span",e),""}}static setSpanOkay(e){if(""===e||this.spanMap.size<1)return void(0,f.logging__debug)("OTEL client: Span has not been set to OK.");const t=this.spanMap.get(e);t?t.setStatus({code:u.SpanStatusCode.OK}):(0,f.logging__warning)(`OTEL client: No span found with key: ${e}`)}static recordException(e,t){if(""===e||this.spanMap.size<1)return void(0,f.logging__debug)("OTEL client: Span Exception has not been recorded.");const r=JSON.parse(t),n=this.spanMap.get(e);n?(n.setStatus({code:u.SpanStatusCode.ERROR,message:null==r?void 0:r.message}),n.recordException(r)):(0,f.logging__warning)(`OTEL client: No span found with key: ${e}`)}static endSpan(e){if(""===e||this.spanMap.size<1)return void(0,f.logging__debug)("OTEL client: Span has not been ended.");const t=this.spanMap.get(e);t?(t.end(_.default.now()),this.spanMap.delete(e)):(0,f.logging__warning)(`OTEL client: No span found with key: ${e}`)}static stopTracerProvider(){this.tracerProvider&&this.tracerProvider.forceFlush().then((()=>{var e;null===(e=this.tracerProvider)||void 0===e||e.shutdown()}))}static startLogger(){var e,t;return n(this,void 0,void 0,(function*(){this.loggerProvider&&this.loggerProvider.shutdown();const r=this.config;this.loggerProvider=new c.LoggerProvider({resource:new p.Resource(Object.assign(Object.assign(Object.assign({},{[d.SEMRESATTRS_SERVICE_NAME]:this.getServiceName()}),{[d.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT]:r.region}),(null===(e=r.requiredResourceAttributes)||void 0===e?void 0:e.serviceVersion)&&{[d.SEMRESATTRS_SERVICE_VERSION]:this.manifest.version}))});const n=r.endpoint?new a.OTLPLogExporter(yield this.collectorConfig(null===(t=r.endpoint)||void 0===t?void 0:t.logs)):null,o=n?new c.BatchLogRecordProcessor(n,this.batchProcessorConfig()):null;o?this.loggerProvider.addLogRecordProcessor(o):(this.loggerProvider=void 0,(0,f.logging__error)("Otel Logging span processor failed to while registering"),this.close())}))}static getLogger(){if(!this.loggerProvider)throw new Error("Otel Logger provider is not initialized");return this.loggerProvider.getLogger(this.getServiceName(),String(this.manifest.version))}static sendLog(e,t=l.SeverityNumber.INFO){if(this.loggerProvider)try{this.getLogger().emit({body:e,severityNumber:t})}catch(e){(0,f.logging__error)("OTEL client: Error starting sending log",e)}else(0,f.logging__debug)("OTEL client: Log has not been sent.")}static stopLogger(){this.loggerProvider&&this.loggerProvider.forceFlush().then((()=>{var e;null===(e=this.loggerProvider)||void 0===e||e.shutdown()}))}static close(){this.stopTracerProvider(),this.spanMap.clear(),this.initialized=!1,this.config={},(0,f.logging__message)("OTEL client: OpenTelemetry client has been shutdown")}}t.default=S,S.spanMap=new Map,S.rateLimiter=new g.RateLimiter({tokensPerInterval:1e3,interval:"hour"}),S.initialized=!1,S.noopTracerProvider=new u.ProxyTracerProvider,S.exporterAuthRetryCounter=0},1694:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(2376),s=o(r(5748)),a=o(r(2695)),c=r(2352);class u{static init(){u.initialised||(u.initialised=!0)}static initSignaler(e,t,r,n,o){if(u.iceServers=o,!u.signalers[t]||["closed","failed"].includes(u.signalers[t].client.connection.state)){const r=new i.Signaler(e);u.signalers[t]=r,r.client.connect(),r.client.connection.once("closed",(()=>{delete u.signalers[t]})),r.client.connection.once("failed",(e=>{delete u.signalers[t],console.error("signaler error",e)})),r.client.connection.on("failed",(e=>{delete u.signalers[t],console.error("signaler error",e)}))}const s=u.signalers[t].channel(t);s.presence.enter(),u.channels[r]=t,s.subscribe(i.P2P_CONNECT_MESSAGE,(e=>{var t;if((null===(t=e.data)||void 0===t?void 0:t.receiver)!==n)return;const r=u.getMessageSender(e),o=u.connect(s,r,e);o.pc.addEventListener("datachannel",(e=>{u.receiveDataChannel(e.channel,o,r)}))})),s.subscribe("disconnect",(e=>{var t;if((null===(t=e.data)||void 0===t?void 0:t.receiver)!==n)return;const r=u.getMessageSender(e);u.disconnect(r),u.closeChannelsWithPeer(r)}))}static tearDown(e){return n(this,void 0,void 0,(function*(){u.disconnect(e),u.disconnectSnapshotStreamer(e),u.disconnectTabStreamer(e)}))}static receiveDataChannel(e,t,r){var n,o,i,c;const l=e.label;"main"===l&&(u.streamers[r]=new s.default(e,null!==(o=null===(n=t.pc.sctp)||void 0===n?void 0:n.maxMessageSize)&&void 0!==o?o:0),u.streamers[r].startStreaming()),"control"===l&&(e.addEventListener("message",(e=>{const t=JSON.parse(e.data),n=t.windowId,o=t.tabId;u.streamers[r]&&u.streamers[r].switchTab(o),u.tabStreamers[r]&&u.tabStreamers[r].setWindow(n)})),u.tabStreamers[r]=new a.default(e,r,null!==(c=null===(i=t.pc.sctp)||void 0===i?void 0:i.maxMessageSize)&&void 0!==c?c:0),u.tabStreamers[r].startStreaming()),e.addEventListener("close",(()=>{"main"===l&&u.disconnectSnapshotStreamer(r),"control"===l&&u.disconnectTabStreamer(r),u.disconnect(r),u.closeChannelsWithPeer(r)}))}static connect(e,t,r){u.connections[t]&&u.disconnect(t);const n=new i.PeerConnection(e,u.iceServers,!0);return n.connect(t,r),u.connections[t]=n,n.pc.addEventListener("connectionstatechange",(()=>{switch(n.pc.connectionState){case"failed":case"closed":u.disconnect(t),u.disconnectSnapshotStreamer(t),u.disconnectTabStreamer(t)}})),n}static close(e){for(const[t,r]of Object.entries(u.channels))r===e&&u.closeChannelsWithPeer(t)}static disconnect(e){u.connections[e]&&(u.connections[e].close(),delete u.connections[e])}static disconnectTabStreamer(e){u.tabStreamers[e]&&(u.tabStreamers[e].endStreaming(),delete u.tabStreamers[e])}static disconnectSnapshotStreamer(e){u.streamers[e]&&(u.streamers[e].endStreaming(),delete u.streamers[e])}static closeChannelsWithPeer(e){if(u.channels[e]){const t=u.channels[e],r=u.signalers[t].channel(t);r.unsubscribe(),r.detach(),delete u.channels[e];const n=[];for(const[e,r]of Object.entries(u.channels))r===t&&n.push(e);0===n.length&&u.signalers[t]&&"connected"===u.signalers[t].client.connection.state&&u.signalers[t].client.close()}}static setCloseTimeouts(e,t,r){if(t)for(const n of r){const r=(0,c.configEndUnix)(e,n);if(r>Date.now()/1e3){const e=`${t}/${n.group.replace(/[^a-z0-9]/gi,"-")}`;clearTimeout(u.closeTimeouts[e]),u.closeTimeouts[e]=setTimeout((()=>{u.close(e)}),1e3*r-Date.now())}}}static getMessageSender(e){return e.clientId}static prepareMessage(e){const t=JSON.stringify(Object.assign(Object.assign({},e),{timestamp:(new Date).getTime()}));return new Uint8Array([...u.encoder.encode(t),u.terminatorCharCode,u.terminatorCharCode])}static send(e,t,r){let n=0;for(;n<t.length;){const o=Math.min(r,t.length-n),i=new Uint8Array(t.buffer,n,o);e.send(i),n+=o}}}t.default=u,u.initialised=!1,u.encoder=new TextEncoder,u.terminatorCharCode="\0".charCodeAt(0),u.signalers={},u.channels={},u.connections={},u.streamers={},u.tabStreamers={},u.closeTimeouts={},u.iceServers=void 0},5748:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(5333),s=o(r(1694)),a=r(5570);class c{constructor(e,t){this.datachannel=e,this.maxMessageSize=t,this.streamingTab=null,this.lastSendTimeMs=0,this.datachannel.bufferedAmountLowThreshold=c.DC_BUFFER_LOW_MARK_BYTES}startStreaming(){clearInterval(this.streamInterval),this.streamInterval=setInterval((()=>{this.datachannel.bufferedAmount<=this.datachannel.bufferedAmountLowThreshold?this.sendScreenshot():console.log(`DEBUG p2p buffer NOT low, skipping screenshot. Buffered: ${(this.datachannel.bufferedAmount/1e3).toFixed(2)}kb, buffer_low_mark: ${(this.datachannel.bufferedAmountLowThreshold/1e3).toFixed(2)}`)}),1e3)}endStreaming(){clearInterval(this.streamInterval)}switchTab(e){this.streamingTab=e}sendScreenshot(){return n(this,void 0,void 0,(function*(){if(!this.streamingTab)return;const e=yield a.OffscreenManager.sendMesage({type:i.MessageTypes.P2PGetScreenshot,streamingTab:this.streamingTab});e&&this.send(e)}))}send(e){const t=s.default.prepareMessage(e);this.lastSendTimeMs?console.log(`DEBUG p2p sending screenshot. Size: ${(t.length/1e3).toFixed(2)}kb, last send (secs): ${((Date.now()-this.lastSendTimeMs)/1e3).toFixed(2)}`):console.log(`DEBUG p2p sending screenshot. Size: ${(t.length/1e3).toFixed(2)}kb`),this.lastSendTimeMs=Date.now(),s.default.send(this.datachannel,t,this.maxMessageSize)}}t.default=c,c.DC_BUFFER_LOW_MARK_BYTES=0},2695:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(5333),s=o(r(1694)),a=r(5570);t.default=class{constructor(e,t,r){this.dataChannel=e,this.remotePeerId=t,this.maxMessageSize=r,this.streamingWindow=null}startStreaming(){clearInterval(this.streamInterval),this.streamInterval=setInterval((()=>{this.sendTabs()}),1e3)}endStreaming(){clearInterval(this.streamInterval)}setWindow(e){this.streamingWindow=e}sendTabs(){return n(this,void 0,void 0,(function*(){if(!this.streamingWindow)return;const e=yield a.OffscreenManager.sendMesage({type:i.MessageTypes.P2PGetTabs});if(!e)return;if(e.restrictedDomainFound)return void s.default.tearDown(this.remotePeerId);const t=s.default.prepareMessage(e);s.default.send(this.dataChannel,t,this.maxMessageSize)}))}}},1658:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logging__debug=t.logging__message=t.logging__warning=t.logging__error=void 0;const n=r(5570),o=r(5333);t.logging__error=(e,...t)=>{i(o.LogLevelTypes.Error,e,t)},t.logging__warning=(e,...t)=>{i(o.LogLevelTypes.Warning,e,t)},t.logging__message=(e,...t)=>{i(o.LogLevelTypes.Message,e,t)},t.logging__debug=(e,...t)=>{i(o.LogLevelTypes.Debug,e,t)};const i=(e,t,...r)=>{n.OffscreenManager.sendMesage({type:o.MessageTypes.OffScreenLogMessage,logLevel:e,message:t,optionalParams:r})}},3919:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserType=t.getRandomInt=t.resizeAndCompressImage=t.getLocalIpPeerConnection=void 0;const o=n(r(6526)),i=r(5333);t.getLocalIpPeerConnection=e=>{const t=new(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)({iceServers:[]}),r=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g;return t.createDataChannel(""),t.createOffer().then((function(n){var o;null===(o=n.sdp)||void 0===o||o.split("\n").forEach((function(t){if(t.indexOf("candidate")<0)return;const n=t.match(r);let o=n?n[0]:"0.0.0.0";o.startsWith("100.115.92")&&(o="10.255.255.254"),e(o)})),null==t||t.setLocalDescription(n)})).catch((function(){})),t.onicecandidate=function(t){if(t&&t.candidate&&t.candidate.candidate&&t.candidate.candidate.match(r)){const n=t.candidate.candidate.match(r);let o=n?n[0]:"0.0.0.0";o.startsWith("100.115.92")&&(o="10.255.255.254"),e(o)}},t},t.resizeAndCompressImage=(e,t,r)=>new Promise((n=>{const o=new Image;o.onload=function(){const e=t,i=document.createElement("canvas"),s=i.getContext("2d");i.width=o.width,i.height=o.height;const a=o.width>e?e:o.width,c=a*(o.height/o.width);i.width=a,i.height=c,null==s||s.drawImage(o,0,0,a,c),n(r&&r<1?i.toDataURL("image/jpeg",r):i.toDataURL())},o.src=e})),t.getRandomInt=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)),t.getBrowserType=()=>{switch(o.default.getParser(window.navigator.userAgent).getBrowserName()){case"Chrome":default:return i.BrowserTypes.chrome;case"Microsoft Edge":return i.BrowserTypes.edge}}},4109:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});const n=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e)),o=new Set(["https:","http:","file:"]),i=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!o.has(t)}catch{return!1}},s=(e,t)=>{let{stripHash:r}=t;const n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:o,data:i,hash:s}=n.groups;const a=o.split(";");s=r?"":s;let c=!1;"base64"===a[a.length-1]&&(a.pop(),c=!0);const u=a.shift()?.toLowerCase()??"",l=[...a.map((e=>{let[t,r=""]=e.split("=").map((e=>e.trim()));return"charset"===t&&(r=r.toLowerCase(),"us-ascii"===r)?"":`${t}${r?`=${r}`:""}`})).filter(Boolean)];return c&&l.push("base64"),(l.length>0||u&&"text/plain"!==u)&&l.unshift(u),`data:${l.join(";")},${c?i.trim():i}${s?`#${s}`:""}`};function a(e,t){if("string"!=typeof(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t}).defaultProtocol||t.defaultProtocol.endsWith(":")||(t.defaultProtocol=`${t.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return s(e,t);if(i(e))return e;const r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const o=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===o.protocol&&(o.protocol="http:"),t.forceHttps&&"http:"===o.protocol&&(o.protocol="https:"),t.stripAuthentication&&(o.username="",o.password=""),t.stripHash?o.hash="":t.stripTextFragment&&(o.hash=o.hash.replace(/#?:~:text.*?$/i,"")),o.pathname){const e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let t=0,r="";for(;;){const n=e.exec(o.pathname);if(!n)break;const i=n[0],s=n.index;r+=o.pathname.slice(t,s).replace(/\/{2,}/g,"/"),r+=i,t=s+i.length}r+=o.pathname.slice(t,o.pathname.length).replace(/\/{2,}/g,"/"),o.pathname=r}if(o.pathname)try{o.pathname=decodeURI(o.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=o.pathname.split("/");const r=e[e.length-1];n(r,t.removeDirectoryIndex)&&(e=e.slice(0,-1),o.pathname=e.slice(1).join("/")+"/")}if(o.hostname&&(o.hostname=o.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(o.hostname)&&(o.hostname=o.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const e of[...o.searchParams.keys()])n(e,t.removeQueryParameters)&&o.searchParams.delete(e);if(Array.isArray(t.keepQueryParameters)||!0!==t.removeQueryParameters||(o.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const e of[...o.searchParams.keys()])n(e,t.keepQueryParameters)||o.searchParams.delete(e);if(t.sortQueryParameters){o.searchParams.sort();try{o.search=decodeURIComponent(o.search)}catch{}}t.removeTrailingSlash&&(o.pathname=o.pathname.replace(/\/$/,"")),t.removeExplicitPort&&o.port&&(o.port="");const a=e;return e=o.toString(),t.removeSingleSlash||"/"!==o.pathname||a.endsWith("/")||""!==o.hash||(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===o.pathname)&&""===o.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__=__webpack_require__(5570)})();