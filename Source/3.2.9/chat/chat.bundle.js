(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{A:()=>Cr});const t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,s="8.40.0",i=globalThis;function r(e,t,n){const r=n||i,o=r.__SENTRY__=r.__SENTRY__||{},a=o[s]=o[s]||{};return a[e]||(a[e]=t())}const o=["debug","info","warn","error","log","assert","trace"],a={};function u(e){if(!("console"in i))return e();const t=i.console,n={},s=Object.keys(a);s.forEach((e=>{const s=a[e];n[e]=t[e],t[e]=s}));try{return e()}finally{s.forEach((e=>{t[e]=n[e]}))}}const c=r("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return n?o.forEach((n=>{t[n]=(...t)=>{e&&u((()=>{i.console[n](`Sentry Logger [${n}]:`,...t)}))}})):o.forEach((e=>{t[e]=()=>{}})),t})),l=[];function d(e){const t=e.defaultIntegrations||[],n=e.integrations;let s;if(t.forEach((e=>{e.isDefaultInstance=!0})),Array.isArray(n))s=[...t,...n];else if("function"==typeof n){const e=n(t);s=Array.isArray(e)?e:[e]}else s=t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,s=t[n];s&&!s.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(s),r=i.findIndex((e=>"Debug"===e.name));if(r>-1){const[e]=i.splice(r,1);i.push(e)}return i}function h(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function p(e,n,s){if(s[n.name])t&&c.log(`Integration skipped because it was already installed: ${n.name}`);else{if(s[n.name]=n,-1===l.indexOf(n.name)&&"function"==typeof n.setupOnce&&(n.setupOnce(),l.push(n.name)),n.setup&&"function"==typeof n.setup&&n.setup(e),"function"==typeof n.preprocessEvent){const t=n.preprocessEvent.bind(n);e.on("preprocessEvent",((n,s)=>t(n,s,e)))}if("function"==typeof n.processEvent){const t=n.processEvent.bind(n),s=Object.assign(((n,s)=>t(n,s,e)),{id:n.name});e.addEventProcessor(s)}t&&c.log(`Integration installed: ${n.name}`)}}const m=Object.prototype.toString;function f(e){switch(m.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return F(e,Error)}}function g(e,t){return m.call(e)===`[object ${t}]`}function D(e){return g(e,"ErrorEvent")}function y(e){return g(e,"DOMError")}function _(e){return g(e,"String")}function E(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function v(e){return null===e||E(e)||"object"!=typeof e&&"function"!=typeof e}function C(e){return g(e,"Object")}function b(e){return"undefined"!=typeof Event&&F(e,Event)}function A(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function F(e,t){try{return e instanceof t}catch(e){return!1}}function T(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}const w=i;function k(e,t={}){if(!e)return"<unknown>";try{let n=e;const s=5,i=[];let r=0,o=0;const a=" > ",u=a.length;let c;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&r++<s&&(c=S(n,l),!("html"===c||r>1&&o+i.length*u+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch(e){return"<unknown>"}}function S(e,t){const n=e,s=[];if(!n||!n.tagName)return"";if(w.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}s.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(i&&i.length)i.forEach((e=>{s.push(`[${e[0]}="${e[1]}"]`)}));else{n.id&&s.push(`#${n.id}`);const e=n.className;if(e&&_(e)){const t=e.split(/\s+/);for(const e of t)s.push(`.${e}`)}}const r=["aria-label","type","name","title","alt"];for(const e of r){const t=n.getAttribute(e);t&&s.push(`[${e}="${t}"]`)}return s.join("")}function x(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function I(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const s=e[t];try{T(s)?n.push("[VueViewModel]"):n.push(String(s))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function B(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!_(e)&&(g(t,"RegExp")?t.test(e):!!_(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}function N(e,t,s){if(!(t in e))return;const i=e[t],r=s(i);"function"==typeof r&&R(r,i);try{e[t]=r}catch(s){n&&c.log(`Failed to replace method "${t}" in object`,e)}}function O(e,t,s){try{Object.defineProperty(e,t,{value:s,writable:!0,configurable:!0})}catch(s){n&&c.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function R(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,O(e,"__sentry_original__",t)}catch(e){}}function L(e){return e.__sentry_original__}function M(e){if(f(e))return{message:e.message,name:e.name,stack:e.stack,...j(e)};if(b(e)){const t={type:e.type,target:P(e.target),currentTarget:P(e.currentTarget),...j(e)};return"undefined"!=typeof CustomEvent&&F(e,CustomEvent)&&(t.detail=e.detail),t}return e}function P(e){try{return"undefined"!=typeof Element&&F(e,Element)?k(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function j(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function U(e){return $(e,new Map)}function $(e,t){if(function(e){if(!C(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const s={};t.set(e,s);for(const n of Object.getOwnPropertyNames(e))void 0!==e[n]&&(s[n]=$(e[n],t));return s}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const s=[];return t.set(e,s),e.forEach((e=>{s.push($(e,t))})),s}return e}function z(){const e=i,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function H(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function V(e){const{message:t,event_id:n}=e;if(t)return t;const s=H(e);return s?s.type&&s.value?`${s.type}: ${s.value}`:s.type||s.value||n||"<unknown>":n||"<unknown>"}function q(e,t,n){const s=e.exception=e.exception||{},i=s.values=s.values||[],r=i[0]=i[0]||{};r.value||(r.value=t||""),r.type||(r.type=n||"Error")}function G(e,t){const n=H(e);if(!n)return;const s=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...s,...t},t&&"data"in t){const e={...s&&s.data,...t.data};n.mechanism.data=e}}function W(e){if(e&&e.__sentry_captured__)return!0;try{O(e,"__sentry_captured__",!0)}catch(e){}return!1}const K=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Y=(e={})=>({name:"InboundFilters",processEvent(n,s,i){const r=i.getOptions(),o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:K],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,r);return function(e,n){return n.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(t&&c.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${V(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){const t=[];let n;e.message&&t.push(e.message);try{n=e.exception.values[e.exception.values.length-1]}catch(e){}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}(e).some((e=>B(e,t)))}(e,n.ignoreErrors)?(t&&c.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${V(e)}`),!0):function(e){return!e.type&&(!(!e.exception||!e.exception.values||0===e.exception.values.length)&&(!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))))}(e)?(t&&c.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${V(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&B(n,t)}(e,n.ignoreTransactions)?(t&&c.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${V(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=Q(e);return!!n&&B(n,t)}(e,n.denyUrls)?(t&&c.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${V(e)}.\nUrl: ${Q(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=Q(e);return!n||B(n,t)}(e,n.allowUrls)&&(t&&c.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${V(e)}.\nUrl: ${Q(e)}`),!0)}(n,o)?null:n}});function Q(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(n){return t&&c.error(`Cannot extract url for event ${V(e)}`),null}}function J(){return X(i),i}function X(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||s,t[s]=t[s]||{}}function Z(){return Date.now()/1e3}const ee=function(){const{performance:e}=i;if(!e||!e.now)return Z;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();let te;function ne(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ee(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:z()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function se(){return{traceId:z(),spanId:z().substring(16)}}function ie(e,t,n=2){if(!t||"object"!=typeof t||n<=0)return t;if(e&&t&&0===Object.keys(t).length)return e;const s={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=ie(s[e],t[e],n-1));return s}(()=>{const{performance:e}=i;if(!e||!e.now)return void(te="none");const t=36e5,n=e.now(),s=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+n-s):t,o=r<t,a=e.timing&&e.timing.navigationStart,u="number"==typeof a?Math.abs(a+n-s):t;o||u<t?r<=u?(te="timeOrigin",e.timeOrigin):te="navigationStart":te="dateNow"})();const re="_sentrySpan";function oe(e,t){t?O(e,re,t):delete e[re]}function ae(e){return e[re]}class ue{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=se()}clone(){const e=new ue;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,oe(e,ae(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ne(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,[n,s]=t instanceof ce?[t.getScopeData(),t.getRequestSession()]:C(t)?[e,e.requestSession]:[],{tags:i,extra:r,user:o,contexts:a,level:u,fingerprint:c=[],propagationContext:l}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...r},this._contexts={...this._contexts,...a},o&&Object.keys(o).length&&(this._user=o),u&&(this._level=u),c.length&&(this._fingerprint=c),l&&(this._propagationContext=l),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,oe(this,void 0),this._attachments=[],this._propagationContext=se(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const s={timestamp:Z(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:ae(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ie(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:z();if(!this._client)return c.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...t,event_id:n},this),n}captureMessage(e,t,n){const s=n&&n.event_id?n.event_id:z();if(!this._client)return c.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:s},this),s}captureEvent(e,t){const n=t&&t.event_id?t.event_id:z();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(c.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}const ce=ue;class le{constructor(e,t){let n,s;n=e||new ce,s=t||new ce,this._stack=[{scope:n}],this._isolationScope=s}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(e){throw this._popScope(),e}return A(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function de(){const e=X(J());return e.stack=e.stack||new le(r("defaultCurrentScope",(()=>new ce)),r("defaultIsolationScope",(()=>new ce)))}function he(e){return de().withScope(e)}function pe(e,t){const n=de();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function me(e){return de().withScope((()=>e(de().getIsolationScope())))}function fe(e){const t=X(e);return t.acs?t.acs:{withIsolationScope:me,withScope:he,withSetScope:pe,withSetIsolationScope:(e,t)=>me(t),getCurrentScope:()=>de().getScope(),getIsolationScope:()=>de().getIsolationScope()}}function ge(){return fe(J()).getCurrentScope()}function De(){return fe(J()).getIsolationScope()}function ye(){return ge().getClient()}let _e;const Ee=new WeakMap,ve=()=>({name:"FunctionToString",setupOnce(){_e=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=L(this),n=Ee.has(ye())&&void 0!==t?t:this;return _e.apply(n,e)}}catch(e){}},setup(e){Ee.set(e,!0)}}),Ce="?",be=/\(error: (.*)\)/,Ae=/captureMessage|captureException/;function Fe(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,s=0)=>{const i=[],r=e.split("\n");for(let e=n;e<r.length;e++){const n=r[e];if(n.length>1024)continue;const o=be.test(n)?n.replace(be,"$1"):n;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){i.push(t);break}}if(i.length>=50+s)break}}return function(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Te(t).function||"")&&t.pop(),t.reverse(),Ae.test(Te(t).function||"")&&(t.pop(),Ae.test(Te(t).function||"")&&t.pop()),t.slice(0,50).map((e=>({...e,filename:e.filename||Te(t).filename,function:e.function||Ce})))}(i.slice(s))}}function Te(e){return e[e.length-1]||{}}const we="<anonymous>";function ke(e){try{return e&&"function"==typeof e&&e.name||we}catch(e){return we}}function Se(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(e){return}}}const xe=()=>{let e;return{name:"Dedupe",processEvent(n){if(n.type)return n;try{if(function(e,t){return!!t&&(!!function(e,t){const n=e.message,s=t.message;return!(!n&&!s)&&(!(n&&!s||!n&&s)&&(n===s&&(!!Be(e,t)&&!!Ie(e,t))))}(e,t)||!!function(e,t){const n=Ne(t),s=Ne(e);return!(!n||!s)&&(n.type===s.type&&n.value===s.value&&(!!Be(e,t)&&!!Ie(e,t)))}(e,t))}(n,e))return t&&c.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=n}}};function Ie(e,t){let n=Se(e),s=Se(t);if(!n&&!s)return!0;if(n&&!s||!n&&s)return!1;if(s.length!==n.length)return!1;for(let e=0;e<s.length;e++){const t=s[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function Be(e,t){let n=e.fingerprint,s=t.fingerprint;if(!n&&!s)return!0;if(n&&!s||!n&&s)return!1;try{return!(n.join("")!==s.join(""))}catch(e){return!1}}function Ne(e){return e.exception&&e.exception.values&&e.exception.values[0]}const Oe=i;function Re(){if(!("fetch"in Oe))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Le(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const Me="production";var Pe;function je(e){return new $e((t=>{t(e)}))}function Ue(e){return new $e(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Pe||(Pe={}));class $e{constructor(e){$e.prototype.__init.call(this),$e.prototype.__init2.call(this),$e.prototype.__init3.call(this),$e.prototype.__init4.call(this),this._state=Pe.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new $e(((n,s)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){s(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){s(e)}else s(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new $e(((t,n)=>{let s,i;return this.then((t=>{i=!1,s=t,e&&e()}),(t=>{i=!0,s=t,e&&e()})).then((()=>{i?n(s):t(s)}))}))}__init(){this._resolve=e=>{this._setResult(Pe.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Pe.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===Pe.PENDING&&(A(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Pe.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===Pe.RESOLVED&&e[1](this._value),this._state===Pe.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function ze(e,n,s,i=0){return new $e(((r,o)=>{const a=e[i];if(null===n||"function"!=typeof a)r(n);else{const u=a({...n},s);t&&a.id&&null===u&&c.log(`Event processor "${a.id}" dropped event`),A(u)?u.then((t=>ze(e,t,s,i+1).then(r))).then(null,o):ze(e,u,s,i+1).then(r).then(null,o)}}))}const He=new WeakMap;function Ve(e,t=100,n=1/0){try{return Ge("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function qe(e,t=3,n=102400){const s=Ve(e,t);return i=s,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?qe(e,t-1,n):s;var i}function Ge(e,t,n=1/0,s=1/0,i=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[r,o]=i;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const a=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(T(t))return"[VueViewModel]";if(C(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${ke(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const s=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(s)?`[HTMLElement: ${s}]`:`[object ${s}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const u="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===u)return a.replace("object ","");if(r(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return Ge("",c.toJSON(),u-1,s,i)}catch(e){}const l=Array.isArray(t)?[]:{};let d=0;const h=M(t);for(const e in h){if(!Object.prototype.hasOwnProperty.call(h,e))continue;if(d>=s){l[e]="[MaxProperties ~]";break}const t=h[e];l[e]=Ge(e,t,u-1,s,i),d++}return o(t),l}const We=/^sentry-/;function Ke(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}function Ye(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[e,s]]of t)(n[e]||(n[e]=[])).push(U(s));return n}function Qe(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:s}=Ze(e);return U({parent_span_id:s,span_id:t,trace_id:n})}function Je(e){return"number"==typeof e?Xe(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Xe(e.getTime()):ee()}function Xe(e){return e>9999999999?e/1e3:e}function Ze(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:s,startTime:i,name:r,endTime:o,parentSpanId:a,status:u}=e;return U({span_id:t,trace_id:n,data:s,description:r,parent_span_id:a,start_timestamp:Je(i),timestamp:Je(o)||void 0,status:et(u),op:s["sentry.op"],origin:s["sentry.origin"],_metrics_summary:Ye(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function et(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}function tt(e){return e._sentryRootSpan||e}function nt(e,t){const n=t.getOptions(),{publicKey:s}=t.getDsn()||{},i=U({environment:n.environment||Me,release:n.release,public_key:s,trace_id:e});return t.emit("createDsc",i),i}function st(e){const t=ye();if(!t)return{};const n=nt(Ze(e).trace_id||"",t),s=tt(e),i=s._frozenDsc;if(i)return i;const r=s.spanContext().traceState,o=r&&r.get("sentry.dsc"),a=o&&function(e){const t=function(e){if(e&&(_(e)||Array.isArray(e)))return Array.isArray(e)?e.reduce(((e,t)=>{const n=Ke(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{}):Ke(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(We)&&(e[t.slice(7)]=n),e)),{});return Object.keys(n).length>0?n:void 0}(o);if(a)return a;const u=Ze(s),c=u.data||{},l=c["sentry.sample_rate"];null!=l&&(n.sample_rate=`${l}`);const d=c["sentry.source"],h=u.description;return"url"!==d&&h&&(n.transaction=h),function(){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=ye(),t=e&&e.getOptions();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}()&&(n.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return 1===t}(s))),t.emit("createDsc",n,s),n}function it(e,t){const{extra:n,tags:s,user:i,contexts:r,level:o,sdkProcessingMetadata:a,breadcrumbs:u,fingerprint:c,eventProcessors:l,attachments:d,propagationContext:h,transactionName:p,span:m}=t;rt(e,"extra",n),rt(e,"tags",s),rt(e,"user",i),rt(e,"contexts",r),e.sdkProcessingMetadata=ie(e.sdkProcessingMetadata,a,2),o&&(e.level=o),p&&(e.transactionName=p),m&&(e.span=m),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function rt(e,t,n){e[t]=ie(e[t],n,1)}function ot(e,t,n,s,o,a){const{normalizeDepth:u=3,normalizeMaxBreadth:c=1e3}=e,l={...t,event_id:t.event_id||n.event_id||z(),timestamp:t.timestamp||Z()},d=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:s,dist:i,maxValueLength:r=250}=t;"environment"in e||(e.environment="environment"in t?n:Me),void 0===e.release&&void 0!==s&&(e.release=s),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=x(e.message,r));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=x(o.value,r));const a=e.request;a&&a.url&&(a.url=x(a.url,r))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,d),o&&o.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){const n=function(e){const t=i._sentryDebugIds;if(!t)return{};let n;const s=He.get(e);return s?n=s:(n=new Map,He.set(e,n)),Object.keys(t).reduce(((s,i)=>{let r;const o=n.get(i);o?r=o:(r=e(i),n.set(i,r));for(let e=r.length-1;e>=0;e--){const n=r[e],o=n&&n.filename;if(n&&o){s[o]=t[i];break}}return s}),{})}(t);try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=n[e.filename])}))}))}catch(e){}}(l,e.stackParser);const h=function(e,t){if(!t)return e;const n=e?e.clone():new ce;return n.update(t),n}(s,n.captureContext);n.mechanism&&G(l,n.mechanism);const p=o?o.getEventProcessors():[],m=r("globalScope",(()=>new ce)).getScopeData();a&&it(m,a.getScopeData()),h&&it(m,h.getScopeData());const f=[...n.attachments||[],...m.attachments];return f.length&&(n.attachments=f),function(e,t){const{fingerprint:n,span:s,breadcrumbs:i,sdkProcessingMetadata:r}=t;!function(e,t){const{extra:n,tags:s,user:i,contexts:r,level:o,transactionName:a}=t,u=U(n);u&&Object.keys(u).length&&(e.extra={...u,...e.extra});const c=U(s);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const l=U(i);l&&Object.keys(l).length&&(e.user={...l,...e.user});const d=U(r);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&"transaction"!==e.type&&(e.transaction=a)}(e,t),s&&function(e,t){e.contexts={trace:Qe(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:st(t),...e.sdkProcessingMetadata};const n=Ze(tt(t)).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}(e,s),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,r)}(l,m),ze([...p,...m.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})}))}(e),"number"==typeof u&&u>0?function(e,t,n){if(!e)return null;const s={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Ve(e.data,t,n)}})))},...e.user&&{user:Ve(e.user,t,n)},...e.contexts&&{contexts:Ve(e.contexts,t,n)},...e.extra&&{extra:Ve(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&s.contexts&&(s.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(s.contexts.trace.data=Ve(e.contexts.trace.data,t,n))),e.spans&&(s.spans=e.spans.map((e=>({...e,...e.data&&{data:Ve(e.data,t,n)}})))),s}(e,u,c):e)))}const at=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ut(e,t){return ge().captureEvent(e,t)}function ct(e){const t=ye(),n=De(),s=ge(),{release:r,environment:o=Me}=t&&t.getOptions()||{},{userAgent:a}=i.navigator||{},u=function(e){const t=ee(),n={sid:z(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return U({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&ne(n,e),n}({release:r,environment:o,user:s.getUser()||n.getUser(),...a&&{userAgent:a},...e}),c=n.getSession();return c&&"ok"===c.status&&ne(c,{status:"exited"}),lt(),n.setSession(u),s.setSession(u),u}function lt(){const e=De(),t=ge(),n=t.getSession()||e.getSession();n&&function(e){let t={};"ok"===e.status&&(t={status:"exited"}),ne(e,t)}(n),dt(),e.setSession(),t.setSession()}function dt(){const e=De(),t=ge(),n=ye(),s=t.getSession()||e.getSession();s&&n&&n.captureSession(s)}function ht(e=!1){e?lt():dt()}const pt={},mt={};function ft(e,t){pt[e]=pt[e]||[],pt[e].push(t)}function gt(e,t){if(!mt[e]){mt[e]=!0;try{t()}catch(t){n&&c.error(`Error while instrumenting ${e}`,t)}}}function Dt(e,t){const s=e&&pt[e];if(s)for(const i of s)try{i(t)}catch(t){n&&c.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${ke(i)}\nError:`,t)}}const yt=i,_t=i;let Et;function vt(e){const t="history";ft(t,e),gt(t,Ct)}function Ct(){if(!function(){const e=yt.chrome,t=e&&e.app&&e.app.runtime,n="history"in yt&&!!yt.history.pushState&&!!yt.history.replaceState;return!t&&n}())return;const e=_t.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Et,t=String(n);Et=t,Dt("history",{from:e,to:t})}return e.apply(this,t)}}_t.onpopstate=function(...t){const n=_t.location.href,s=Et;if(Et=n,Dt("history",{from:s,to:n}),e)try{return e.apply(this,t)}catch(e){}},N(_t.history,"pushState",t),N(_t.history,"replaceState",t)}function bt(e,t,n){return t||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}(e,n)}`}const At=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ft(e,t=!1){const{host:n,path:s,pass:i,port:r,projectId:o,protocol:a,publicKey:u}=e;return`${a}://${u}${t&&i?`:${i}`:""}@${n}${r?`:${r}`:""}/${s?`${s}/`:s}${o}`}function Tt(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function wt(e,t=[]){return[e,t]}function kt(e,t){const[n,s]=e;return[n,[...s,t]]}function St(e,t){const n=e[1];for(const e of n)if(t(e,e[0].type))return!0;return!1}function xt(e){return i.__SENTRY__&&i.__SENTRY__.encodePolyfill?i.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function It(e){const[t,n]=e;let s=JSON.stringify(t);function i(e){"string"==typeof s?s="string"==typeof e?s+e:[xt(s),e]:s.push("string"==typeof e?xt(e):e)}for(const e of n){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(Ve(n))}i(e)}}return"string"==typeof s?s:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let s=0;for(const t of e)n.set(t,s),s+=t.length;return n}(s)}function Bt(e){const t="string"==typeof e.data?xt(e.data):e.data;return[U({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Nt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Ot(e){return Nt[e]}function Rt(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}class Lt extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const Mt="Not capturing exception because it's already been captured.";class Pt{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){const t="string"==typeof e?function(e){const t=At.exec(e);if(!t)return void u((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,s,i="",r="",o="",a=""]=t.slice(1);let c="",l=a;const d=l.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),l=d.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return Tt({host:r,pass:i,path:c,projectId:l,port:o,protocol:n,publicKey:s})}(e):Tt(e);if(t&&function(e){if(!n)return!0;const{port:t,projectId:s,protocol:i}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(c.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(s.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(i)?t&&isNaN(parseInt(t,10))&&(c.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(c.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(c.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}(e.dsn):t&&c.warn("No DSN provided, client will not send events."),this._dsn){const t=bt(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,n,s){const i=z();if(W(e))return t&&c.log(Mt),i;const r={event_id:i,...n};return this._process(this.eventFromException(e,r).then((e=>this._captureEvent(e,r,s)))),r.event_id}captureMessage(e,t,n,s){const i={event_id:z(),...n},r=E(e)?e:String(e),o=v(e)?this.eventFromMessage(r,t,i):this.eventFromException(e,i);return this._process(o.then((e=>this._captureEvent(e,i,s)))),i.event_id}captureEvent(e,n,s){const i=z();if(n&&n.originalException&&W(n.originalException))return t&&c.log(Mt),i;const r={event_id:i,...n},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,r,o||s)),r.event_id}captureSession(e){"string"!=typeof e.release?t&&c.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),ne(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):je(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];p(this,e,this._integrations),t||h(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,s){const i=Rt(n),r=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const o=function(e,t,n,s){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&s&&{dsn:Ft(s)},...i&&{trace:U({...i})}}}(e,i,s,t);return delete e.sdkProcessingMetadata,wt(o,[[{type:r},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=kt(n,Bt(e));const s=this.sendEnvelope(n);s&&s.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,s){const i=Rt(n);return wt({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!s&&t&&{dsn:Ft(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,n,s){if(this._options.sendClientReports){const i="number"==typeof s?s:1,r=`${e}:${n}`;t&&c.log(`Recording outcome: "${r}"${i>1?` (${i} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+i}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(t&&c.error("Error while sending envelope:",e),e))):(t&&c.error("Transport disabled"),je({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&p(e,t,n)})),n}(this,e),h(this,e)}_updateSessionFromEvent(e,t){let n=!1,s=!1;const i=t.exception&&t.exception.values;if(i){s=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const r="ok"===e.status;(r&&0===e.errors||r&&n)&&(ne(e,{...n&&{status:"crashed"},errors:e.errors||Number(s||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new $e((t=>{let n=0;const s=setInterval((()=>{0==this._numProcessing?(clearInterval(s),t(!0)):(n+=1,e&&n>=e&&(clearInterval(s),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,s=De()){const i=this.getOptions(),r=Object.keys(this._integrations);return!t.integrations&&r.length>0&&(t.integrations=r),this.emit("preprocessEvent",e,t),e.type||s.setLastEventId(e.event_id||t.event_id),ot(i,e,t,n,this,s).then((e=>{if(null===e)return e;const t={...s.getPropagationContext(),...n?n.getPropagationContext():void 0};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:n,spanId:s,parentSpanId:i,dsc:r}=t;e.contexts={trace:U({trace_id:n,span_id:s,parent_span_id:i}),...e.contexts};const o=r||nt(n,this);e.sdkProcessingMetadata={dynamicSamplingContext:o,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,n={},s){return this._processEvent(e,n,s).then((e=>e.event_id),(e=>{if(t){const t=e;"log"===t.logLevel?c.log(t.message):c.warn(t)}}))}_processEvent(e,n,s){const i=this.getOptions(),{sampleRate:r}=i,o=Ut(e),a=jt(e),u=e.type||"error",l=`before send for type \`${u}\``,d=void 0===r?void 0:function(e){if("boolean"==typeof e)return Number(e);const n="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof n||isNaN(n)||n<0||n>1))return n;t&&c.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`)}(r);if(a&&"number"==typeof d&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",e),Ue(new Lt(`Discarding event because it's not included in the random sample (sampling rate = ${r})`,"log"));const h="replay_event"===u?"replay":u,p=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,s,p).then((t=>{if(null===t)throw this.recordDroppedEvent("event_processor",h,e),new Lt("An event processor returned `null`, will not send event.","log");if(n.data&&!0===n.data.__sentry__)return t;const s=function(e,t,n,s){const{beforeSend:i,beforeSendTransaction:r,beforeSendSpan:o}=t;if(jt(n)&&i)return i(n,s);if(Ut(n)){if(n.spans&&o){const t=[];for(const s of n.spans){const n=o(s);n?t.push(n):e.recordDroppedEvent("before_send","span")}n.spans=t}if(r){if(n.spans){const e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return r(n,s)}}return n}(this,i,t,n);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(A(e))return e.then((e=>{if(!C(e)&&null!==e)throw new Lt(n);return e}),(e=>{throw new Lt(`${t} rejected with ${e}`)}));if(!C(e)&&null!==e)throw new Lt(n);return e}(s,l)})).then((t=>{if(null===t){if(this.recordDroppedEvent("before_send",h,e),o){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new Lt(`${l} returned \`null\`, will not send event.`,"log")}const i=s&&s.getSession();if(!o&&i&&this._updateSessionFromEvent(i,t),o){const e=(t.sdkProcessingMetadata&&t.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(t.spans?t.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const r=t.transaction_info;if(o&&r&&t.transaction!==e.transaction){const e="custom";t.transaction_info={...r,source:e}}return this.sendEvent(t,n),t})).then(null,(e=>{if(e instanceof Lt)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Lt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,s]=e.split(":");return{reason:n,category:s,quantity:t}}))}_flushOutcomes(){t&&c.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(t&&c.log("No outcomes to send"));if(!this._dsn)return void(t&&c.log("No dsn provided, will not send outcomes"));t&&c.log("Sending outcomes:",e);const n=(s=e,wt((i=this._options.tunnel&&Ft(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:Z(),discarded_events:s}]]));var s,i;this.sendEnvelope(n)}}function jt(e){return void 0===e.type}function Ut(e){return"transaction"===e.type}const $t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function zt(e,t){const n=Vt(e,t),s={type:Wt(t),value:Kt(t)};return n.length&&(s.stacktrace={frames:n}),void 0===s.type&&""===s.value&&(s.value="Unrecoverable error caught"),s}function Ht(e,t){return{exception:{values:[zt(e,t)]}}}function Vt(e,t){const n=t.stacktrace||t.stack||"",s=function(e){return e&&qt.test(e.message)?1:0}(t),i=function(e){return"number"==typeof e.framesToPop?e.framesToPop:0}(t);try{return e(n,s,i)}catch(e){}return[]}const qt=/Minified React error #\d+;/i;function Gt(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Wt(e){const t=e&&e.name;return!t&&Gt(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}function Kt(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:Gt(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:"No error message"}function Yt(e,t,n,s,i){let r;if(D(t)&&t.error)return Ht(e,t.error);if(y(t)||g(t,"DOMException")){const i=t;if("stack"in t)r=Ht(e,t);else{const t=i.name||(y(i)?"DOMError":"DOMException"),o=i.message?`${t}: ${i.message}`:t;r=Qt(e,o,n,s),q(r,o)}return"code"in i&&(r.tags={...r.tags,"DOMException.code":`${i.code}`}),r}return f(t)?Ht(e,t):C(t)||b(t)?(r=function(e,t,n,s){const i=ye(),r=i&&i.getOptions().normalizeDepth,o=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}(t),a={__serialized__:qe(t,r)};if(o)return{exception:{values:[zt(e,o)]},extra:a};const u={exception:{values:[{type:b(t)?t.constructor.name:s?"UnhandledRejection":"Error",value:Jt(t,{isUnhandledRejection:s})}]},extra:a};if(n){const t=Vt(e,n);t.length&&(u.exception.values[0].stacktrace={frames:t})}return u}(e,t,n,i),G(r,{synthetic:!0}),r):(r=Qt(e,t,n,s),q(r,`${t}`,void 0),G(r,{synthetic:!0}),r)}function Qt(e,t,n,s){const i={};if(s&&n){const s=Vt(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(E(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function Jt(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(M(e));n.sort();const s=n[0];if(!s)return"[object has no keys]";if(s.length>=t)return x(s,t);for(let e=n.length;e>0;e--){const s=n.slice(0,e).join(", ");if(!(s.length>t))return e===n.length?s:x(s,t)}return""}(e),s=t?"promise rejection":"exception";return D(e)?`Event \`ErrorEvent\` captured as ${s} with message \`${e.message}\``:b(e)?`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${s}`:`Object captured as ${s} with keys: ${n}`}const Xt=i;let Zt,en,tn,nn=0;function sn(){return nn>0}function rn(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(L(e))return e}catch(t){return e}const s=function(){const n=Array.prototype.slice.call(arguments);try{const s=n.map((e=>rn(e,t)));return e.apply(this,s)}catch(e){throw nn++,setTimeout((()=>{nn--})),function(...e){const t=fe(J());if(2===e.length){const[n,s]=e;return n?t.withSetScope(n,s):t.withScope(s)}t.withScope(e[0])}((s=>{var i;s.addEventProcessor((e=>(t.mechanism&&(q(e,void 0,void 0),G(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),i=e,ge().captureException(i,function(e){if(e)return function(e){return e instanceof ce||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>at.includes(e)))}(e)?{captureContext:e}:e}(undefined))})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t])}catch(e){}R(s,e),O(e,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get:()=>e.name})}catch(e){}return s}class on extends Pt{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};!function(e,t,n=[t],i="npm"){const r=e._metadata||{};r.sdk||(r.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${i}:@sentry/${e}`,version:s}))),version:s}),e._metadata=r}(t,"browser",["browser"],Xt.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&Xt.document&&Xt.document.addEventListener("visibilitychange",(()=>{"hidden"===Xt.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,s){const i=Yt(e,t,n&&n.syntheticException||void 0,s);return G(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),je(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",s,i){const r=Qt(e,t,s&&s.syntheticException||void 0,i);return r.level=n,s&&s.event_id&&(r.event_id=s.event_id),je(r)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void($t&&c.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:s}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!s&&{dsn:Ft(s)}},r=function(e){return[{type:"user_report"},e]}(e);return wt(i,[r])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}}function an(){if(!_t.document)return;const e=Dt.bind(null,"dom"),t=un(e,!0);_t.document.addEventListener("click",t,!1),_t.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=_t[t]&&_t[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(N(n,"addEventListener",(function(t){return function(n,s,i){if("click"===n||"keypress"==n)try{const s=this,r=s.__sentry_instrumentation_handlers__=s.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const s=un(e);o.handler=s,t.call(this,n,s,i)}o.refCount++}catch(e){}return t.call(this,n,s,i)}})),N(n,"removeEventListener",(function(e){return function(t,n,s){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},r=i[t];r&&(r.refCount--,r.refCount<=0&&(e.call(this,t,r.handler,s),r.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,s)}})))}))}function un(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const s=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,s))return;O(n,"_sentryCaptured",!0),s&&!s._sentryId&&O(s,"_sentryId",z());const i="keypress"===n.type?"input":n.type;(function(e){if(e.type!==en)return!1;try{if(!e.target||e.target._sentryId!==tn)return!1}catch(e){}return!0})(n)||(e({event:n,name:i,global:t}),en=n.type,tn=s?s._sentryId:void 0),clearTimeout(Zt),Zt=_t.setTimeout((()=>{tn=void 0,en=void 0}),1e3)}}const cn="__sentry_xhr_v3__";function ln(){if(!_t.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const s=1e3*ee(),i=_(n[0])?n[0].toUpperCase():void 0,r=function(e){if(_(e))return e;try{return e.toString()}catch(e){}}(n[1]);if(!i||!r)return e.apply(t,n);t[cn]={method:i,url:r,request_headers:{}},"POST"===i&&r.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const o=()=>{const e=t[cn];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}Dt("xhr",{endTimestamp:1e3*ee(),startTimestamp:s,xhr:t})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(o(),e.apply(t,n))}):t.addEventListener("readystatechange",o),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[s,i]=n,r=t[cn];return r&&_(s)&&_(i)&&(r.request_headers[s.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const s=t[cn];return s?(void 0!==n[0]&&(s.body=n[0]),Dt("xhr",{startTimestamp:1e3*ee(),xhr:t}),e.apply(t,n)):e.apply(t,n)}})}function dn(){"console"in i&&o.forEach((function(e){e in i.console&&N(i.console,e,(function(t){return a[e]=t,function(...t){Dt("console",{args:t,level:e});const n=a[e];n&&n.apply(i.console,t)}}))}))}function hn(e,t){return!!e&&"object"==typeof e&&!!e[t]}function pn(e){return"string"==typeof e?e:e?hn(e,"url")?e.url:e.toString?e.toString():"":""}const mn=100;function fn(e,t){const n=ye(),s=De();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:r=mn}=n.getOptions();if(r<=0)return;const o={timestamp:Z(),...e},a=i?u((()=>i(o,t))):o;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),s.addBreadcrumb(a,r))}const gn=["fatal","error","warning","log","info","debug"];function Dn(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}function yn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",s=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:s,relative:t[5]+n+s}}const _n=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var s;t.console&&function(e){const t="console";ft(t,e),gt(t,dn)}(function(e){return function(t){if(ye()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:(s=t.level,"warn"===s?"warning":gn.includes(s)?s:"log"),message:I(t.args," ")};var s;if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${I(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}fn(n,{input:t.args,level:t.level})}}(e)),t.dom&&(s=function(e,t){return function(n){if(ye()!==e)return;let s,i,r="object"==typeof t?t.serializeAttribute:void 0,o="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>1024&&($t&&c.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=1024),"string"==typeof r&&(r=[r]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;s=k(t,{keyAttrs:r,maxStringLength:o}),i=function(e){if(!w.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(t)}catch(e){s="<unknown>"}if(0===s.length)return;const a={category:`ui.${n.name}`,message:s};i&&(a.data={"ui.component_name":i}),fn(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),ft("dom",s),gt("dom",an)),t.xhr&&function(e){ft("xhr",e),gt("xhr",ln)}(function(e){return function(t){if(ye()!==e)return;const{startTimestamp:n,endTimestamp:s}=t,i=t.xhr[cn];if(!n||!s||!i)return;const{method:r,url:o,status_code:a,body:u}=i,c={method:r,url:o,status_code:a},l={xhr:t.xhr,input:u,startTimestamp:n,endTimestamp:s};fn({category:"xhr",data:c,type:"http",level:Dn(a)},l)}}(e)),t.fetch&&function(e){const t="fetch";ft(t,e),gt(t,(()=>function(e,t=!1){t&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!Re())return!1;if(Le(Oe.fetch))return!0;let e=!1;const t=Oe.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Le(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){n&&c.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}()||N(i,"fetch",(function(t){return function(...n){const{method:s,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:pn(t),method:hn(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:pn(t),method:hn(t,"method")?String(t.method).toUpperCase():"GET"}}(n),o={args:n,fetchData:{method:s,url:r},startTimestamp:1e3*ee()};e||Dt("fetch",{...o});const a=(new Error).stack;return t.apply(i,n).then((async t=>(e?e(t):Dt("fetch",{...o,endTimestamp:1e3*ee(),response:t}),t)),(e=>{throw Dt("fetch",{...o,endTimestamp:1e3*ee(),error:e}),f(e)&&void 0===e.stack&&(e.stack=a,O(e,"framesToPop",1)),e}))}}))}(void 0,undefined)))}(function(e){return function(t){if(ye()!==e)return;const{startTimestamp:n,endTimestamp:s}=t;if(s&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error)fn({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:s});else{const e=t.response,i={...t.fetchData,status_code:e&&e.status},r={input:t.args,response:e,startTimestamp:n,endTimestamp:s};fn({category:"fetch",data:i,type:"http",level:Dn(i.status_code)},r)}}}(e)),t.history&&vt(function(e){return function(t){if(ye()!==e)return;let n=t.from,s=t.to;const i=yn(Xt.location.href);let r=n?yn(n):void 0;const o=yn(s);r&&r.path||(r=i),i.protocol===o.protocol&&i.host===o.host&&(s=o.relative),i.protocol===r.protocol&&i.host===r.host&&(n=r.relative),fn({category:"navigation",data:{from:n,to:s}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){ye()===e&&fn({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:V(t)},{event:t})}}(e))}}},En=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],vn=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&N(Xt,"setTimeout",Cn),t.setInterval&&N(Xt,"setInterval",Cn),t.requestAnimationFrame&&N(Xt,"requestAnimationFrame",bn),t.XMLHttpRequest&&"XMLHttpRequest"in Xt&&N(XMLHttpRequest.prototype,"send",An);const e=t.eventTarget;e&&(Array.isArray(e)?e:En).forEach(Fn)}}};function Cn(e){return function(...t){const n=t[0];return t[0]=rn(n,{mechanism:{data:{function:ke(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function bn(e){return function(t){return e.apply(this,[rn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ke(e)},handled:!1,type:"instrument"}})])}}function An(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&N(n,e,(function(t){const n={mechanism:{data:{function:e,handler:ke(t)},handled:!1,type:"instrument"}},s=L(t);return s&&(n.mechanism.data.handler=ke(s)),rn(t,n)}))})),e.apply(this,t)}}function Fn(e){const t=Xt,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(N(n,"addEventListener",(function(t){return function(n,s,i){try{"function"==typeof s.handleEvent&&(s.handleEvent=rn(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ke(s),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,rn(s,{mechanism:{data:{function:"addEventListener",handler:ke(s),target:e},handled:!1,type:"instrument"}}),i])}})),N(n,"removeEventListener",(function(e){return function(t,n,s){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,s)}catch(e){}return e.call(this,t,i,s)}})))}let Tn=null;function wn(){Tn=i.onerror,i.onerror=function(e,t,n,s,i){return Dt("error",{column:s,error:i,line:n,msg:e,url:t}),!(!Tn||Tn.__SENTRY_LOADER__)&&Tn.apply(this,arguments)},i.onerror.__SENTRY_INSTRUMENTED__=!0}let kn=null;function Sn(){kn=i.onunhandledrejection,i.onunhandledrejection=function(e){return Dt("unhandledrejection",e),!(kn&&!kn.__SENTRY_LOADER__)||kn.apply(this,arguments)},i.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const xn=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){!function(){const t="error";ft(t,(t=>{const{stackParser:n,attachStacktrace:s}=Bn();if(ye()!==e||sn())return;const{msg:i,url:r,line:o,column:a,error:u}=t,c=function(e,t,n,s){const i=e.exception=e.exception||{},r=i.values=i.values||[],o=r[0]=r[0]||{},a=o.stacktrace=o.stacktrace||{},u=a.frames=a.frames||[],c=isNaN(parseInt(s,10))?void 0:s,l=isNaN(parseInt(n,10))?void 0:n,d=_(t)&&t.length>0?t:function(){try{return w.document.location.href}catch(e){return""}}();return 0===u.length&&u.push({colno:c,filename:d,function:Ce,in_app:!0,lineno:l}),e}(Yt(n,u||i,void 0,s,!1),r,o,a);c.level="error",ut(c,{originalException:u,mechanism:{handled:!1,type:"onerror"}})})),gt(t,wn)}()}(e),In("onerror")),t.onunhandledrejection&&(function(e){!function(){const t="unhandledrejection";ft(t,(t=>{const{stackParser:n,attachStacktrace:s}=Bn();if(ye()!==e||sn())return;const i=function(e){if(v(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),r=v(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Yt(n,i,void 0,s,!0);r.level="error",ut(r,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})),gt(t,Sn)}()}(e),In("onunhandledrejection"))}}};function In(e){$t&&c.log(`Global Handler attached: ${e}`)}function Bn(){const e=ye();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function Nn(e,t,n=250,s,i,r,o){if(!(r.exception&&r.exception.values&&o&&F(o.originalException,Error)))return;const a=r.exception.values.length>0?r.exception.values[r.exception.values.length-1]:void 0;var u,c;a&&(r.exception.values=(u=On(e,t,i,o.originalException,s,r.exception.values,a,0),c=n,u.map((e=>(e.value&&(e.value=x(e.value,c)),e)))))}function On(e,t,n,s,i,r,o,a){if(r.length>=n+1)return r;let u=[...r];if(F(s[i],Error)){Rn(o,a);const r=e(t,s[i]),c=u.length;Ln(r,i,c,a),u=On(e,t,n,s[i],i,[r,...u],r,c)}return Array.isArray(s.errors)&&s.errors.forEach(((s,r)=>{if(F(s,Error)){Rn(o,a);const c=e(t,s),l=u.length;Ln(c,`errors[${r}]`,l,a),u=On(e,t,n,s,i,[c,...u],c,l)}})),u}function Rn(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Ln(e,t,n,s){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:s}}const Mn=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,s,i){const r=i.getOptions();Nn(zt,r.stackParser,r.maxValueLength,n,t,e,s)}}};function Pn(e,t,n,s){const i={filename:e,function:"<anonymous>"===t?Ce:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==s&&(i.colno=s),i}const jn=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Un=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,$n=/\((\S*)(?::(\d+))(?::(\d+))\)/,zn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Hn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Vn=Fe([30,e=>{const t=jn.exec(e);if(t){const[,e,n,s]=t;return Pn(e,Ce,+n,+s)}const n=Un.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=$n.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=qn(n[1]||Ce,n[2]);return Pn(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=zn.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Hn.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Ce;return[n,e]=qn(n,e),Pn(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),qn=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),s=-1!==e.indexOf("safari-web-extension");return n||s?[-1!==e.indexOf("@")?e.split("@")[0]:Ce,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Gn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Wn={};function Kn(e){Wn[e]=void 0}function Yn(e,n,s=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(s){if(!(void 0===e||t.length<e))return Ue(new Lt("Not adding Promise because buffer limit was reached."));const i=s();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new $e(((n,s)=>{let i=t.length;if(!i)return n(!0);const r=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{je(e).then((()=>{--i||(clearTimeout(r),n(!0))}),s)}))}))}}}(e.bufferSize||64)){let i={};return{send:function(r){const o=[];if(St(r,((t,n)=>{const s=Ot(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(i,s)){const i=Qn(t,n);e.recordDroppedEvent("ratelimit_backoff",s,i)}else o.push(t)})),0===o.length)return je({});const a=wt(r[0],o),u=t=>{St(a,((n,s)=>{const i=Qn(n,s);e.recordDroppedEvent(t,Ot(s),i)}))};return s.add((()=>n({body:It(a)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&t&&c.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),i=function(e,{statusCode:t,headers:n},s=Date.now()){const i={...e},r=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(r)for(const e of r.trim().split(",")){const[t,n,,,r]=e.split(":",5),o=parseInt(t,10),a=1e3*(isNaN(o)?60:o);if(n)for(const e of n.split(";"))"metric_bucket"===e&&r&&!r.split(";").includes("custom")||(i[e]=s+a);else i.all=s+a}else o?i.all=s+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const s=Date.parse(`${e}`);return isNaN(s)?6e4:s-t}(o,s):429===t&&(i.all=s+6e4);return i}(i,e),e)),(e=>{throw u("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Lt)return t&&c.error("Skipped sending event because buffer is full."),u("queue_overflow"),je({});throw e}))},flush:e=>s.drain(e)}}function Qn(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function Jn(e,t=function(e){const t=Wn[e];if(t)return t;let n=_t[e];if(Le(n))return Wn[e]=n.bind(_t);const s=_t.document;if(s&&"function"==typeof s.createElement)try{const t=s.createElement("iframe");t.hidden=!0,s.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(n=i[e]),s.head.removeChild(t)}catch(t){Gn&&c.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?Wn[e]=n.bind(_t):n}("fetch")){let n=0,s=0;return Yn(e,(function(i){const r=i.body.length;n+=r,s++;const o={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&s<15,...e.fetchOptions};if(!t)return Kn("fetch"),Ue("No fetch implementation available");try{return t(e.url,o).then((e=>(n-=r,s--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Kn("fetch"),n-=r,s--,Ue(e)}}))}function Xn(e={}){const n=function(e={}){const t={defaultIntegrations:[Y(),ve(),vn(),_n(),xn(),Mn(),xe(),{name:"HttpContext",preprocessEvent(e){if(!Xt.navigator&&!Xt.location&&!Xt.document)return;const t=e.request&&e.request.url||Xt.location&&Xt.location.href,{referrer:n}=Xt.document||{},{userAgent:s}=Xt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...s&&{"User-Agent":s}},r={...e.request,...t&&{url:t},headers:i};e.request=r}}],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Xt.SENTRY_RELEASE&&Xt.SENTRY_RELEASE.id?Xt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...t,...e}}(e);if(!n.skipBrowserExtensionCheck&&function(){const e=void 0!==Xt.window&&Xt;if(!e)return!1;const t=e[e.chrome?"chrome":"browser"],n=t&&t.runtime&&t.runtime.id,s=Xt.location&&Xt.location.href||"",i=!!n&&Xt===Xt.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((e=>s.startsWith(`${e}//`))),r=void 0!==e.nw;return!!n&&!i&&!r}())return void u((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}));$t&&(Re()||c.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const s={...n,stackParser:(i=n.stackParser||Vn,Array.isArray(i)?Fe(...i):i),integrations:d(n),transport:n.transport||Jn};var i;const r=function(e,n){!0===n.debug&&(t?c.enable():u((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),ge().update(n.initialScope);const s=new e(n);return function(e){ge().setClient(e)}(s),s.init(),s}(on,s);return n.autoSessionTracking&&(void 0!==Xt.document?(ct({ignoreDuration:!0}),ht(),vt((({from:e,to:t})=>{void 0!==e&&e!==t&&(ct({ignoreDuration:!0}),ht())}))):$t&&c.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")),r}var Zn,es,ts,ns,ss,is,rs,os,as,us,cs,ls,ds,hs,ps,ms,fs,gs,Ds,ys,_s,Es,vs,Cs,bs,As,Fs,Ts,ws,ks,Ss,xs;!function(e){e.FcmMessagesCacheId="lw_updater_fcm_messages_cache_id",e.GeneralCacheId="lw_updater_general_cache_id",e.RegistrationCacheId="lw_updater_registration_cache"}(Zn||(Zn={})),function(e){e.DmsDataCacheId="lw_dms_data_cache",e.DmsManagerConfigCacheId="lw_dms_manager_config_cache",e.CheckInDeviceInterval="lw_dms_check_in",e.RetryDMSRegTimeout="lw_retry_dms_registration_timeout",e[e.CheckInDeviceElapsed_ms=3e5]="CheckInDeviceElapsed_ms"}(es||(es={})),function(e){e[e.WalledGardenBasedInterval=3e4]="WalledGardenBasedInterval",e[e.DefaultPollingInterval=3e5]="DefaultPollingInterval"}(ts||(ts={})),function(e){e.KeepAliveCacheId="lw_keep_alive_cache_id"}(ns||(ns={})),function(e){e.ContentAware="ca"}(ss||(ss={})),function(e){e.HandleVerdictQueueInterval="lw_handle_verdict_queue_interval",e.EvictOldResponsesInterval="lw_evict_old_responses",e.VerdictRawResponseCacheId="lw_verdict_raw_response_cache",e.FallbackVerdictsCacheId="lw_fallback_verdicts_cache",e.VerdictResponseTimeCacheId="verdict_response_time_cache",e.VerdictYoutubeQueryCacheId="verdict_youtube_query_cache",e.VerdictClientFallback="client_fallback",e.CustomHeaderCacheId="lw_custom_header_cache",e.CustomHeaderCacheCleanIntervalId="lw_custom_header_cache_interval_id",e[e.CustomHeaderCacheCleanInterval=3e5]="CustomHeaderCacheCleanInterval",e[e.CustomHeaderCacheExpireTime=36e5]="CustomHeaderCacheExpireTime"}(is||(is={})),function(e){e.PurgeOldVerdictEntries="purge_old_verdict_entries"}(rs||(rs={})),function(e){e.EvictOldResponsesInterval="lw_evict_old_responses",e.VerdictResponseCacheId="lw_verdict_response_cache"}(os||(os={})),function(e){e.ConfigurationCacheId="lw_configuration_cache",e[e.ConfigLoadTimeout_ms=1e4]="ConfigLoadTimeout_ms",e[e.ConfigFetchInitialInterval=1e3]="ConfigFetchInitialInterval",e[e.ConfigFetchMaxInterval=3e4]="ConfigFetchMaxInterval",e[e.ConfigFetchMaxElapsedTime=9e4]="ConfigFetchMaxElapsedTime",e[e.ConfigFetchRandomizationFactor=.1]="ConfigFetchRandomizationFactor",e[e.ConfigFetchMultiplier=3]="ConfigFetchMultiplier"}(as||(as={})),function(e){e.ChatDataCacheId="lw_chat_data_cache",e.OpenChatTimeout="lw_open_chat_timeout"}(us||(us={})),function(e){e.ClassConfigRefreshTimeout="lw_class_config_refresh"}(cs||(cs={})),function(e){e.FocusLockCheckTimeout="lw_tabs_focuslock_check",e.ScreenshotUploadInterval="lw_screenshot_upload_interval",e.TabsDataCacheId="lw_tabs_data_cache"}(ls||(ls={})),function(e){e.PeriodicLoginInterval="lw_periodic_login",e.WhoamiLoginInterval="lw_whoami_login",e.FzboxPollInterval="lw_fzbox_poll",e.PeriodicLogsUploadInterval="lw_periodic_logs_upload_interval",e.MainDataCacheId="lw_main_data_cache",e.DevDataCacheId="lw_dev_data_cache",e.LoadingConfiKey="lw_loading_config_key",e.ConfigUpdateBackoffRetryStateKey="lw_config_update_backoff_retry_state_key",e.RemainingUpdatesKey="lw_remaining_updates_key",e.DevBuildReloadedKey="lw_dev_build_reloaded_key",e[e.ResourceLimitThresholdCheckInterval=72e5]="ResourceLimitThresholdCheckInterval"}(ds||(ds={})),function(e){e.CacheId="lw_companion_cache",e[e.MaxReconnectionAttempts=5]="MaxReconnectionAttempts",e[e.DeltaTimeout=5e3]="DeltaTimeout",e[e.MaxRetryRegistrationInterval_ms=3e4]="MaxRetryRegistrationInterval_ms"}(hs||(hs={})),function(e){e.CacheId="lw_system_config_cache"}(ps||(ps={})),function(e){e.CacheId="lw_delegation_config_cache",e.DelegationChangeScheduleId="lw_delegation_change_schedule_id"}(ms||(ms={})),function(e){e.ALL="all",e.BLOCKED="blocked",e.NONE="none"}(fs||(fs={})),function(e){e.CacheId="lw_content_aware_config_cache"}(gs||(gs={})),function(e){e.login="LOGIN",e.logout="LOGOUT",e.isLoggedIn="IS_LOGGED_IN",e.resetConfig="RESET-CONFIG",e.UpdateDynamicConfig="UPDATE-CONFIG-ALL"}(Ds||(Ds={})),function(e){e.active="ACTIVE",e.suspended="SUSPENDED"}(ys||(ys={})),function(e){e.PartialFailedCacheId="lw_partial_failed_cache",e.AuthenticationData="lw_authentication_data_cache",e.AuthTokenKey="auth_token"}(_s||(_s={})),function(e){e.ConnectionsCacheId="lw_connections_cache",e.ConnectionsUploadInterval="lw_Connections_upload_interval",e.TabsCacheId="lw_tabs_cache",e.UploadInfoCacheId="lw_upload_info_cache",e.mainFrameRequestType="main_frame",e.eventTypeSendHeaders="sendHeaders",e.eventTypeBeforeRequest="beforeRequest",e.eventTypeHeadersReceived="headersReceived",e.eventTypeCompleted="completed"}(Es||(Es={})),function(e){e.LastScreenshotCacheId="last_screenshot_cache"}(vs||(vs={})),function(e){e.SchedulesDataCacheId="lw_schedule_manager_data_cache_id"}(Cs||(Cs={})),function(e){e.ConfigUpdate="config_update_with_delay",e.ConfigUpdateBackoffRetry="config_update_backoff_retry",e.CaptureTabAndSend="capture_tab_and_send",e.SendRuntimeMessage="send_runtime_message",e.PrintBlockedMessage="print_blocked_message",e.CreateNewChromeTab="create_new_chrome_tab"}(bs||(bs={})),function(e){e.CONFIG_UPDATE="CONFIG_UPDATE",e.OPEN_TAB="OPEN_TAB",e.CLOSE_TAB="CLOSE_TAB",e.MESSAGE="MESSAGE",e.CLASS_STARTED="CLASS_STARTED",e.POLICY_UPDATE="POLICY_UPDATE",e.INIT_P2P="INIT_P2P"}(As||(As={})),(Ss=Fs||(Fs={})).Error="logging__error",Ss.Warning="logging__warning",Ss.Message="logging__message",Ss.Debug="logging__debug",function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.DEBUG="DEBUG"}(Ts||(Ts={})),function(e){e.InitOffscreenDocument="init_offscreen_socument_message",e.RegisterExtension="register_extension_with_native_agent",e.UnregisterExtension="unregister_extension_from_native_agent",e.RegisterClasswizeEventFail="register_extension_with_native_agent_classwize_events_fail",e.RegisterClasswizeEventMessage="register_extension_with_native_agent_classwize_events_Message",e.IsExtensionRegistered="is_extension_registered_with_native_agent",e.CompanionMessage="message_from_native_agent",e.CompanionErrorMessage="error_message_from_native_agent",e.RecoverCompanionStream="recover_companion_stream",e.RetryRegistration="retry_registration_with_native_agent",e.IpAddressChangeRoutine="ip_address_change_routine",e.TabsActivated="tabs_activated_message",e.UrlUpdatedInTab="url_updated_in_tab",e.P2PInitSignaler="p2p_init_signaler_message",e.P2PSetCloseTimeouts="p2p_set_close_timeouts_message",e.P2PGetScreenshot="p2p_get_screenshot_message",e.P2PGetTabs="p2p_get_tabs_message",e.UtilLocalIpUpdated="util_local_ip_updated_message",e.UtilResizeAndCompressImage="util_resize_and_compress_image",e.BroadcastWakeUpCall="cachescheduler_broadcast_wakeup_call",e.BroadcastScheduleTime="schedule-time-ee236fce-1426-4975-9d56-2ce4e8becd02",e.ChatBubbleStatus="chat_status",e.ChatInfo="chat_info",e.ChatGetLastMessage="last_chat_message",e.ChatClearLastMessage="clear_last_chat_message",e.UIGetStatus="ui_get_status",e.UIReloadConfig="ui_reload_config",e.UISendLogs="ui_send_logs",e.UserOverride="user_override",e.UpdaterNewMessage="updater_new_message",e.GetSafeguardVerdict="get_safe_guard_verdict",e.RedirectWebPage="redirect_web_page",e.EventMessage="event_service_message",e.InitAutoAuth="init_auto_auth",e.GetAuthCookie="get_auth_cookie",e.GetAuthToken="get_auth_token",e.UploadLogData="upload_log_data",e.UpdateOffscreenConfig="update_offscreen_config",e.MainConfigUpdated="main_config_updated",e.OffScreenLogMessage="Off_screen_log_message",e.GetManifestInfo="get_manifest_info",e.Token="TOKEN",e.ChatConfigUpdate="CHAT_CONFIG_UPDATE",e.UpdateTotalUnreadCount="UPDATE_TOTAL_UNREAD_COUNT",e.OpenChatClassroom="OPEN_CHAT_CLASSROOM",e.GoogleAuthenticate="GOOGLE_AUTHENTICATE",e.NativeTokenAuthenticate="NATIVE_TOKEN_AUTHENTICATE",e.GetBrowserType="get_browser_type",e.GetBrowserDetails="get_browser_details",e.CheckIfDomainIsBlocked="check_if_domain_is_blocked",e.ExtractFallbackDomains="extract_fallback_domains",e.LogMessage="log_message",e.InitOffscreenOpenTelemetry="init-offscreen-opentelemetry",e.SentryGetUserDetails="sentry-get-user-details",e.ChatLogMessage="chat-log-message",e.ReloadPopUp="reload-popup",e.PopupIsReloading="popup-is-reloading",e.PopupIsNotReloading="popup-is-not-reloading"}(ws||(ws={})),function(e){e.companion="companion",e.companionLite="companion_lite",e.proxyFilter="proxy_filter",e.dns_filter="dns_filter",e.classroom="classroom",e.liteModeEnabled="companion-mode-lite-enabled"}(ks||(ks={})),function(e){e.chrome="chrome",e.edge="edge"}(xs||(xs={}));const Is={dsn:"https://c17cd3300c4e109ad958146b698040aa@o4507960794546176.ingest.us.sentry.io/4507960797102080",tracesSampleRate:1,sampleRate:1,ignoreErrors:["Could not establish connection. Receiving end does not exist."]};function Bs(e){this.j={},this.jr=[],this.jd=null,this.t=e}(e=>{const t=(e=>{var t;if(!(e&&e.extensionVersion&&e.extensionName&&e.buildENV))return;const n=null==e?void 0:e.extensionVersion,s=null===(t=null==e?void 0:e.extensionName)||void 0===t?void 0:t.toLowerCase().replace(/ /g,"-");let i="prod";return"development"===(null==e?void 0:e.buildENV)&&(i="local-dev"),`${s}.${i}@${n}`})(e);Xn(Object.assign(Object.assign({},Is),{release:t}))})((()=>{var e;if(void 0===(null===(e=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===e?void 0:e.getManifest))return;const t=chrome.runtime.getManifest();return{extensionVersion:t.version,extensionName:t.name,buildENV:"production"}})()),function(){var e,t,n,s;e=this,t=void 0,s=function*(){chrome.runtime.sendMessage({type:ws.SentryGetUserDetails},(e=>{var t,n,s;e&&(t=e).userIdentifier&&t.applianceId&&(s={id:t.userIdentifier},De().setUser(s),n=t.applianceId,De().setTag("applianceId",n))}))},new((n=void 0)||(n=Promise))((function(i,r){function o(e){try{u(s.next(e))}catch(e){r(e)}}function a(e){try{u(s.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((s=s.apply(e,t||[])).next())}))}(),Bs.prototype={accepts:function(){return!!this.t},tt:function(e,t){if(t&&t.j)return this.j[e]=t,t;var n=t,s=this.j[e];if(s)return n&&(s.t=n),s;s=Ns();var i=Ms(this,e);return i?(Object.assign(s.j,i.j),s.jr.append(i.jr),s.jr=i.jd,s.t=n||i.t):s.t=n,this.j[e]=s,s}};var Ns=function(){return new Bs},Os=function(e){return new Bs(e)},Rs=function(e,t,n){e.j[t]||(e.j[t]=n)},Ls=function(e,t,n){e.jr.push([t,n])},Ms=function(e,t){var n=e.j[t];if(n)return n;for(var s=0;s<e.jr.length;s++){var i=e.jr[s][0],r=e.jr[s][1];if(i.test(t))return r}return e.jd},Ps=function(e,t,n){for(var s=0;s<t.length;s++)Rs(e,t[s],n)},js=function(e,t,n,s){for(var i,r=0,o=t.length;r<o&&(i=e.j[t[r]]);)e=i,r++;if(r>=o)return[];for(;r<o-1;)i=s(),Rs(e,t[r],i),e=i,r++;Rs(e,t[o-1],n)},Us="DOMAIN",$s="LOCALHOST",zs="TLD",Hs="NUM",Vs="PROTOCOL",qs="MAILTO",Gs="NL",Ws="OPENBRACE",Ks="OPENBRACKET",Ys="OPENANGLEBRACKET",Qs="OPENPAREN",Js="CLOSEBRACE",Xs="CLOSEBRACKET",Zs="CLOSEANGLEBRACKET",ei="CLOSEPAREN",ti="AMPERSAND",ni="APOSTROPHE",si="ASTERISK",ii="AT",ri="BACKSLASH",oi="BACKTICK",ai="CARET",ui="COLON",ci="COMMA",li="DOLLAR",di="DOT",hi="EQUALS",pi="EXCLAMATION",mi="HYPHEN",fi="PERCENT",gi="PIPE",Di="PLUS",yi="POUND",_i="QUERY",Ei="QUOTE",vi="SEMI",Ci="SLASH",bi="TILDE",Ai="UNDERSCORE",Fi="SYM",Ti=Object.freeze({__proto__:null,DOMAIN:Us,LOCALHOST:$s,TLD:zs,NUM:Hs,PROTOCOL:Vs,MAILTO:qs,WS:"WS",NL:Gs,OPENBRACE:Ws,OPENBRACKET:Ks,OPENANGLEBRACKET:Ys,OPENPAREN:Qs,CLOSEBRACE:Js,CLOSEBRACKET:Xs,CLOSEANGLEBRACKET:Zs,CLOSEPAREN:ei,AMPERSAND:ti,APOSTROPHE:ni,ASTERISK:si,AT:ii,BACKSLASH:ri,BACKTICK:oi,CARET:ai,COLON:ui,COMMA:ci,DOLLAR:li,DOT:di,EQUALS:hi,EXCLAMATION:pi,HYPHEN:mi,PERCENT:fi,PIPE:gi,PLUS:Di,POUND:yi,QUERY:_i,QUOTE:Ei,SEMI:vi,SLASH:Ci,TILDE:bi,UNDERSCORE:Ai,SYM:Fi}),wi="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermgensberater-ctb vermgensberatung-pwb                                                                                                                                                        ".split(" "),ki=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Si=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,xi=/\uFE0F/,Ii=/\d/,Bi=/\s/;function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Ns(),n=Os(Hs),s=Os(Us),i=Ns(),r=Os("WS"),o=[[Ii,s],[ki,s],[Si,s],[xi,s]],a=function(){var e=Os(Us);return e.j={"-":i},e.jr=[].concat(o),e},u=function(e){var t=a();return t.t=e,t};!function(e,t){for(var n=0;n<t.length;n++){var s=t[n][0],i=t[n][1];Rs(e,s,i)}}(t,[["'",Os(ni)],["{",Os(Ws)],["[",Os(Ks)],["<",Os(Ys)],["(",Os(Qs)],["}",Os(Js)],["]",Os(Xs)],[">",Os(Zs)],[")",Os(ei)],["&",Os(ti)],["*",Os(si)],["@",Os(ii)],["`",Os(oi)],["^",Os(ai)],[":",Os(ui)],[",",Os(ci)],["$",Os(li)],[".",Os(di)],["=",Os(hi)],["!",Os(pi)],["-",Os(mi)],["%",Os(fi)],["|",Os(gi)],["+",Os(Di)],["#",Os(yi)],["?",Os(_i)],['"',Os(Ei)],["/",Os(Ci)],[";",Os(vi)],["~",Os(bi)],["_",Os(Ai)],["\\",Os(ri)]]),Rs(t,"\n",Os(Gs)),Ls(t,Bi,r),Rs(r,"\n",Ns()),Ls(r,Bi,r);for(var c=0;c<wi.length;c++)js(t,wi[c],u(zs),a);var l=a(),d=a(),h=a(),p=a();js(t,"file",l,a),js(t,"ftp",d,a),js(t,"http",h,a),js(t,"mailto",p,a);var m=a(),f=Os(Vs),g=Os(qs);Rs(d,"s",m),Rs(d,":",f),Rs(h,"s",m),Rs(h,":",f),Rs(l,":",f),Rs(m,":",f),Rs(p,":",g);for(var D=a(),y=0;y<e.length;y++)js(t,e[y],D,a);return Rs(D,":",f),js(t,"localhost",u($s),a),Ls(t,Ii,n),Ls(t,ki,s),Ls(t,Si,s),Ls(t,xi,s),Ls(n,Ii,n),Ls(n,ki,s),Ls(n,Si,s),Ls(n,xi,s),Rs(n,"-",i),Rs(s,"-",i),Rs(i,"-",i),Ls(s,Ii,s),Ls(s,ki,s),Ls(s,Si,s),Ls(s,xi,s),Ls(i,Ii,s),Ls(i,ki,s),Ls(i,Si,s),Ls(i,xi,s),t.jd=Os(Fi),t}function Oi(e){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oi(e)}var Ri={defaultProtocol:"http",events:null,format:Mi,formatHref:Mi,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function Li(e){e=e||{},this.defaultProtocol="defaultProtocol"in e?e.defaultProtocol:Ri.defaultProtocol,this.events="events"in e?e.events:Ri.events,this.format="format"in e?e.format:Ri.format,this.formatHref="formatHref"in e?e.formatHref:Ri.formatHref,this.nl2br="nl2br"in e?e.nl2br:Ri.nl2br,this.tagName="tagName"in e?e.tagName:Ri.tagName,this.target="target"in e?e.target:Ri.target,this.rel="rel"in e?e.rel:Ri.rel,this.validate="validate"in e?e.validate:Ri.validate,this.truncate="truncate"in e?e.truncate:Ri.truncate,this.className="className"in e?e.className:Ri.className,this.attributes=e.attributes||Ri.attributes,this.ignoreTags=[];for(var t=("ignoreTags"in e?e.ignoreTags:Ri.ignoreTags),n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function Mi(e){return e}function Pi(){}function ji(e,t){function n(t,n){this.t=e,this.v=t,this.tk=n}return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=Object.create(e.prototype);for(var i in n)s[i]=n[i];s.constructor=t,t.prototype=s}(Pi,n,t),n}Li.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),rel:this.get("rel",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e),truncate:this.get("truncate",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var s,i=this[e];if(!i)return i;switch(Oi(i)){case"function":return i(t,n.t);case"object":return"function"==typeof(s=n.t in i?i[n.t]:Ri[e])?s(t,n.t):s}return i},getObject:function(e,t,n){var s=this[e];return"function"==typeof s?s(t,n.t):s}},Pi.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};var Ui=ji("email",{isLink:!0}),$i=ji("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),zi=ji("text"),Hi=ji("nl"),Vi=ji("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri.defaultProtocol,t=this.tk,n=!1,s=!1,i=[],r=0;t[r].t===Vs;)n=!0,i.push(t[r].v),r++;for(;t[r].t===Ci;)s=!0,i.push(t[r].v),r++;for(;r<t.length;r++)i.push(t[r].v);return i=i.join(""),n||s||(i="".concat(e,"://").concat(i)),i},hasProtocol:function(){return this.tk[0].t===Vs}}),qi=Object.freeze({__proto__:null,MultiToken:Pi,Base:Pi,createTokenClass:ji,MailtoEmail:Ui,Email:$i,Text:zi,Nl:Hi,Url:Vi});function Gi(){var e=Ns(),t=Ns(),n=Ns(),s=Ns(),i=Ns(),r=Ns(),o=Ns(),a=Os(Vi),u=Ns(),c=Os(Vi),l=Os(Vi),d=Ns(),h=Ns(),p=Ns(),m=Ns(),f=Ns(),g=Os(Vi),D=Os(Vi),y=Os(Vi),_=Os(Vi),E=Ns(),v=Ns(),C=Ns(),b=Ns(),A=Ns(),F=Ns(),T=Os($i),w=Ns(),k=Os($i),S=Os(Ui),x=Ns(),I=Ns(),B=Ns(),N=Ns(),O=Os(Hi);Rs(e,Gs,O),Rs(e,Vs,t),Rs(e,qs,n),Rs(t,Ci,s),Rs(s,Ci,i),Rs(e,zs,r),Rs(e,Us,r),Rs(e,$s,a),Rs(e,Hs,r),Rs(i,zs,l),Rs(i,Us,l),Rs(i,Hs,l),Rs(i,$s,l),Rs(r,di,o),Rs(A,di,F),Rs(o,zs,a),Rs(o,Us,r),Rs(o,Hs,r),Rs(o,$s,r),Rs(F,zs,T),Rs(F,Us,A),Rs(F,Hs,A),Rs(F,$s,A),Rs(a,di,o),Rs(T,di,F),Rs(a,ui,u),Rs(a,Ci,l),Rs(u,Hs,c),Rs(c,Ci,l),Rs(T,ui,w),Rs(w,Hs,k);var R=[ti,si,ii,ri,oi,ai,li,Us,hi,mi,$s,Hs,fi,gi,Di,yi,Vs,Ci,Fi,bi,zs,Ai],L=[ni,Zs,Js,Xs,ei,ui,ci,di,pi,Ys,Ws,Ks,Qs,_i,Ei,vi];Rs(l,Ws,h),Rs(l,Ks,p),Rs(l,Ys,m),Rs(l,Qs,f),Rs(d,Ws,h),Rs(d,Ks,p),Rs(d,Ys,m),Rs(d,Qs,f),Rs(h,Js,l),Rs(p,Xs,l),Rs(m,Zs,l),Rs(f,ei,l),Rs(g,Js,l),Rs(D,Xs,l),Rs(y,Zs,l),Rs(_,ei,l),Rs(E,Js,l),Rs(v,Xs,l),Rs(C,Zs,l),Rs(b,ei,l),Ps(h,R,g),Ps(p,R,D),Ps(m,R,y),Ps(f,R,_),Ps(h,L,E),Ps(p,L,v),Ps(m,L,C),Ps(f,L,b),Ps(g,R,g),Ps(D,R,D),Ps(y,R,y),Ps(_,R,_),Ps(g,L,g),Ps(D,L,D),Ps(y,L,y),Ps(_,L,_),Ps(E,R,g),Ps(v,R,D),Ps(C,R,y),Ps(b,R,_),Ps(E,L,E),Ps(v,L,v),Ps(C,L,C),Ps(b,L,b),Ps(l,R,l),Ps(d,R,l),Ps(l,L,d),Ps(d,L,d),Rs(n,zs,S),Rs(n,Us,S),Rs(n,Hs,S),Rs(n,$s,S),Ps(S,R,S),Ps(S,L,x),Ps(x,R,S),Ps(x,L,x);var M=[ti,ni,si,ri,oi,ai,Js,li,Us,hi,mi,Hs,Ws,fi,gi,Di,yi,_i,Ci,Fi,bi,zs,Ai];return Ps(r,M,I),Rs(r,ii,B),Ps(a,M,I),Rs(a,ii,B),Ps(o,M,I),Ps(I,M,I),Rs(I,ii,B),Rs(I,di,N),Ps(N,M,I),Rs(B,zs,A),Rs(B,Us,A),Rs(B,Hs,A),Rs(B,$s,T),e}function Wi(e,t,n){var s=n[0].s,i=n[n.length-1].e;return new e(t.substr(s,i-s),n)}"undefined"!=typeof console&&console&&console.warn;var Ki={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};var Yi={nbsp:""},Qi=/^#[xX]([A-Fa-f0-9]+)$/,Ji=/^#([0-9]+)$/,Xi=/^([A-Za-z0-9]+)$/,Zi=function(){function e(e){this.named=e}return e.prototype.parse=function(e){if(e){var t=e.match(Qi);return t?"&#x"+t[1]+";":(t=e.match(Ji))?"&#"+t[1]+";":(t=e.match(Xi))?this.named[t[1]]||"&"+t[1]+";":void 0}},e}(),er=/[\t\n\f ]/,tr=/[A-Za-z]/,nr=/\r\n?/g;function sr(e){return er.test(e)}function ir(e){return tr.test(e)}var rr=function(){function e(e,t,n){void 0===n&&(n="precompile"),this.delegate=e,this.entityParser=t,this.mode=n,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var e=this.peek();if("<"!==e||this.isIgnoredEndTag()){if("precompile"===this.mode&&"\n"===e){var t=this.tagNameBuffer.toLowerCase();"pre"!==t&&"textarea"!==t||this.consume()}this.transitionTo("data"),this.delegate.beginData()}else this.transitionTo("tagOpen"),this.markTagStart(),this.consume()},data:function(){var e=this.peek(),t=this.tagNameBuffer;"<"!==e||this.isIgnoredEndTag()?"&"===e&&"script"!==t&&"style"!==t?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e)):(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume())},tagOpen:function(){var e=this.consume();"!"===e?this.transitionTo("markupDeclarationOpen"):"/"===e?this.transitionTo("endTagOpen"):("@"===e||":"===e||ir(e))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(e))},markupDeclarationOpen:function(){var e=this.consume();"-"===e&&"-"===this.peek()?(this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment()):"DOCTYPE"===e.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase()&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())},doctype:function(){sr(this.consume())&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var e=this.consume();sr(e)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase()))},doctypeName:function(){var e=this.consume();sr(e)?this.transitionTo("afterDoctypeName"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase())},afterDoctypeName:function(){var e=this.consume();if(!sr(e))if(">"===e)this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var t=e.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),n="PUBLIC"===t.toUpperCase(),s="SYSTEM"===t.toUpperCase();(n||s)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),n?this.transitionTo("afterDoctypePublicKeyword"):s&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var e=this.peek();sr(e)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):'"'===e?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):"'"===e?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):">"===e&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},doctypePublicIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},afterDoctypePublicIdentifier:function(){var e=this.consume();sr(e)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var e=this.consume();sr(e)||(">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},doctypeSystemIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},afterDoctypeSystemIdentifier:function(){var e=this.consume();sr(e)||">"===e&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var e=this.consume();"-"===e?this.transitionTo("commentStartDash"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(e),this.transitionTo("comment"))},commentStartDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var e=this.consume();"-"===e?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+e),this.transitionTo("comment"))},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+e),this.transitionTo("comment"))},tagName:function(){var e=this.consume();sr(e)?this.transitionTo("beforeAttributeName"):"/"===e?this.transitionTo("selfClosingStartTag"):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(e)},endTagName:function(){var e=this.consume();sr(e)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):"/"===e?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();sr(e)?this.consume():"/"===e?(this.transitionTo("selfClosingStartTag"),this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):"="===e?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var e=this.peek();sr(e)?(this.transitionTo("afterAttributeName"),this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.transitionTo("beforeAttributeValue"),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):'"'===e||"'"===e||"<"===e?(this.delegate.reportSyntaxError(e+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(e)):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();sr(e)?this.consume():"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.consume(),this.transitionTo("beforeAttributeValue")):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();sr(e)?this.consume():'"'===e?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();sr(e)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();sr(e)?(this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.consume(),this.transitionTo("selfClosingStartTag")):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var e=this.consume();("@"===e||":"===e||ir(e))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(e))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(e){this.state=e},e.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},e.prototype.tokenizePart=function(e){for(this.input+=function(e){return e.replace(nr,"\n")}(e);this.index<this.input.length;){var t=this.states[this.state];if(void 0===t)throw new Error("unhandled state "+this.state);t.call(this)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){"data"===this.state&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},e.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(-1!==e){var t=this.input.slice(this.index,e),n=this.entityParser.parse(t);if(n){for(var s=t.length;s;)this.consume(),s--;return this.consume(),n}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},e.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return"title"===e&&"</title>"!==this.input.substring(this.index,this.index+8)||"style"===e&&"</style>"!==this.input.substring(this.index,this.index+8)||"script"===e&&"<\/script>"!==this.input.substring(this.index,this.index+9)},e}(),or=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new rr(this,e,t.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},e.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var e=this.token;if(null===e)throw new Error("token was unexpectedly null");if(0===arguments.length)return e;for(var t=0;t<arguments.length;t++)if(e.type===arguments[t])return e;throw new Error("token type was unexpectedly "+e.type)},e.prototype.push=function(e){this.token=e,this.tokens.push(e)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},e.prototype.appendToDoctypePublicIdentifier=function(e){var t=this.current("Doctype");void 0===t.publicIdentifier?t.publicIdentifier=e:t.publicIdentifier+=e},e.prototype.appendToDoctypeSystemIdentifier=function(e){var t=this.current("Doctype");void 0===t.systemIdentifier?t.systemIdentifier=e:t.systemIdentifier+=e},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(e){this.current("Chars").chars+=e},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},e.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},e.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},e}(),ar=Li,ur="StartTag",cr="EndTag",lr="Chars";function dr(e,t){for(var n=function(e){return Ki.initialized||function(){Ki.scanner={start:Ni(Ki.customProtocols),tokens:Ti},Ki.parser={start:Gi(),tokens:qi};for(var e={createTokenClass:ji},t=0;t<Ki.pluginQueue.length;t++)Ki.pluginQueue[t][1]({scanner:Ki.scanner,parser:Ki.parser,utils:e});Ki.initialized=!0}(),function(e,t,n){for(var s=n.length,i=0,r=[],o=[];i<s;){for(var a=e,u=null,c=null,l=0,d=null,h=-1;i<s&&!(u=Ms(a,n[i].t));)o.push(n[i++]);for(;i<s&&(c=u||Ms(a,n[i].t));)u=null,(a=c).accepts()?(h=0,d=a):h>=0&&h++,i++,l++;if(h<0)for(var p=i-l;p<i;p++)o.push(n[p]);else{o.length>0&&(r.push(Wi(zi,t,o)),o=[]),i-=h,l-=h;var m=d.t,f=n.slice(i-l,i);r.push(Wi(m,t,f))}}return o.length>0&&r.push(Wi(zi,t,o)),r}(Ki.parser.start,e,function(e,t){for(var n=function(e){for(var t=[],n=e.length,s=0;s<n;){var i=e.charCodeAt(s),r=void 0,o=i<55296||i>56319||s+1===n||(r=e.charCodeAt(s+1))<56320||r>57343?e[s]:e.slice(s,s+2);t.push(o),s+=o.length}return t}(t.replace(/[A-Z]/g,(function(e){return e.toLowerCase()}))),s=n.length,i=[],r=0,o=0;o<s;){for(var a=e,u=null,c=0,l=null,d=-1,h=-1;o<s&&(u=Ms(a,n[o]));)(a=u).accepts()?(d=0,h=0,l=a):d>=0&&(d+=n[o].length,h++),c+=n[o].length,r+=n[o].length,o++;r-=d,o-=h,c-=d,i.push({t:l.t,v:t.substr(r-c,c),s:r-c,e:r})}return i}(Ki.scanner.start,e))}(e),s=[],i=0;i<n.length;i++){var r=n[i];if("nl"===r.t&&t.nl2br)s.push({type:ur,tagName:"br",attributes:[],selfClosing:!0});else if(r.isLink&&t.check(r)){var o=t.resolve(r),a=o.formatted,u=o.formattedHref,c=o.tagName,l=o.className,d=o.target,h=o.rel,p=o.attributes,m=o.truncate,f=[["href",u]];for(var g in l&&f.push(["class",l]),d&&f.push(["target",d]),h&&f.push(["rel",h]),m&&a.length>m&&(a=a.substring(0,m)+""),p)f.push([g,p[g]]);s.push({type:ur,tagName:c,attributes:f,selfClosing:!1}),s.push({type:lr,chars:a}),s.push({type:cr,tagName:c})}else s.push({type:lr,chars:r.toString()})}return s}function hr(e,t,n,s){for(var i=1;n<t.length&&i>0;){var r=t[n];r.type===ur&&r.tagName.toUpperCase()===e?i++:r.type===cr&&r.tagName.toUpperCase()===e&&i--,s.push(r),n++}return s}function pr(e){for(var t=[],n=0;n<e.length;n++){var s=e[n][0],i=e[n][1];t.push("".concat(s,'="').concat(i.replace(/"/g,"&quot;"),'"'))}return t}const mr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let fr;const gr=new Uint8Array(16);function Dr(){if(!fr&&(fr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fr(gr)}const yr=[];for(let e=0;e<256;++e)yr.push((e+256).toString(16).slice(1));const _r=function(e,t,n){if(mr.randomUUID&&!t&&!e)return mr.randomUUID();const s=(e=e||{}).random||(e.rng||Dr)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return function(e,t=0){return yr[e[t+0]]+yr[e[t+1]]+yr[e[t+2]]+yr[e[t+3]]+"-"+yr[e[t+4]]+yr[e[t+5]]+"-"+yr[e[t+6]]+yr[e[t+7]]+"-"+yr[e[t+8]]+yr[e[t+9]]+"-"+yr[e[t+10]]+yr[e[t+11]]+yr[e[t+12]]+yr[e[t+13]]+yr[e[t+14]]+yr[e[t+15]]}(s)},Er=e=>btoa(e).replace(/\\-/g,"+").replace(/_/g,"/").replace(/=/g,"");var vr=function(e,t,n,s){return new(n||(n=Promise))((function(i,r){function o(e){try{u(s.next(e))}catch(e){r(e)}}function a(e){try{u(s.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((s=s.apply(e,t||[])).next())}))};class Cr{static init(){return vr(this,void 0,void 0,(function*(){chrome.runtime.onMessage.addListener((e=>{if(e.type===ws.UpdaterNewMessage)if(this.isThreadedMode){let t=this.unreadCount[e.data.classroomId];t?t++:t=1,this.unreadCount[e.data.classroomId]=t,this.updateUnreadCount(e.data.classroomId),this.updateTotalUnreadCount()}else if(e.data.classroomId===this.currentClassroomId)this.fetchChats(!0);else{let t=this.unreadCount[e.data.classroomId];t?t++:t=1,this.unreadCount[e.data.classroomId]=t,this.updateUnreadCount(e.data.classroomId),this.updateTotalUnreadCount()}else if(e.type===ws.Token){const e=document.getElementById("chatUiBody");this.removeAllChildNodes(e),this.isThreadedMode?this.buildThreadUi():this.loadChatForClass(this.currentClassroomId)}else e.type===ws.ChatConfigUpdate?(this.classRooms=e.classRooms,this.refreshChatUi(this.classRooms)):e.type===ws.OpenChatClassroom&&(this.currentClassroomId=e.classroomId,this.loadChatForClass(this.currentClassroomId))}));const e=document.getElementById("chatWindowHeader");e&&e.addEventListener("click",this.headingClicked);const t=()=>{const e=document.getElementById("chatUiBody");if(e&&(e.style.height=window.innerHeight-58-60+"px"),!this.isThreadedMode){const e=document.getElementById("disabledNotification");e&&(e.style.width=window.innerWidth-34+"px")}const t=document.getElementById("chatThreadsBody");t&&(t.style.height=window.innerHeight-60+"px")};window.addEventListener("resize",t),window.addEventListener("load",t);const n=yield Cr.sendRuntimeMessage({type:ws.ChatInfo});n&&(this.userName=n.userDetails.user,this.baseUrl=n.baseUrl,this.classRooms=n.classRooms,this.applianceId=n.applianceId,this.buildThreadUi()),Cr.sendRuntimeMessage({type:ws.NativeTokenAuthenticate})}))}static sendRuntimeMessage(e){return vr(this,void 0,void 0,(function*(){return new Promise((t=>{chrome.runtime.sendMessage(e,(e=>{t(e)}))}))}))}static buildThreadUi(){this.clearChatController(),this.isThreadedMode=!0;const e=document.getElementById("chatWindowHeader");e.style.borderBottom="1px solid #C3C3C3";const t=document.createElement("img");t.id="cwIcon",t.src="assets/imgs/this.svg",e.append(t);const n=document.createElement("div");n.id="chatThreadHeading",n.className="classroomName",n.innerText="Classwize Chat",e.append(n);const s=document.createElement("img");s.id="infoIcon",s.src="assets/imgs/info.svg",s.title="Learn more",s.style.setProperty("cursor","pointer"),s.addEventListener("click",(()=>{window.open("https://dyzz9obi78pm5.cloudfront.net/app/image/id/60ffc732498ccce8297b23c8/n/cw-chat-students-using-classwize-this.pdf","_blank")})),e.append(s);const i=document.getElementById("chatUiBody");i.style.borderTop="1px solid #E2E2E2";const r=document.createElement("table");r.style.width="100%",r.style.borderSpacing="0px",r.id="chatThreads",i.appendChild(r);const o=document.createElement("tbody");o.id="chatThreadsBody",o.style.width="100%",o.style.overflow="auto",o.style.display="block",o.style.height=window.innerHeight-60+"px",r.appendChild(o),Object.keys(this.classRooms).forEach((e=>{if(this.classRooms[e].isActive){const t=this.chatThreadElement(e),n=document.createElement("tr"),s=document.createElement("td");s.style.width="100%",s.style.borderBottom="1px solid #F2F2F2",s.append(t),n.append(s),n.append(document.createElement("td")),o.append(n)}})),this.sortChatThreadView()}static updateUnreadCount(e){const t=document.getElementById("unreadValue"+e);if(t){const n=this.unreadCount[e],s=n?n>9?"9+":n:"";t.innerHTML=String(s)}}static createTimeElement(e){const t=document.createElement("span");return t.className="ClassroomChatroom_timeStamp",t.innerHTML=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}).toLowerCase(),t}static getDateString(e){const t=864e5,n=Math.floor(e.getTime()/t),s=Math.floor(Date.now()/t);return n===s?"Today":s-n<=7?e.toLocaleDateString("en-US",{weekday:"long"}):((i=e.getDate())<10?"0":"")+i+" "+e.toLocaleString("default",{month:"short"})+" "+e.getFullYear();var i}static createDateTimeElement(e){const t=this.getDateString(e),n=document.createElement("div");return n.className="ClassroomChatroom_date",n.innerHTML=t+", ",n.id=t,n.append(this.createTimeElement(e)),n}static removeTimeStamp(e){if(e){const t=e.getElementsByClassName("ClassroomChatroom_date");t&&t.length&&t[0].remove()}}static removeDisplayName(e){if(e){const t=e.getElementsByClassName("ClassroomChat_displayName");t&&t.length&&t[0].remove()}}static hideAvatar(e){if(e)for(const t of e.children){const e=t.getElementsByClassName("ClassroomChat_avatar");if(e&&e.length){e[0].style.visibility="hidden";break}}}static createChatDisableNotification(e){if(document.getElementById("disabledNotification"))return;const t=document.getElementById("chatInputControl");t&&(t.style.visibility="hidden");const n=document.createElement("div");n.id="disabledNotification",n.className="ClassroomChatroom_footer",n.style.zIndex=String(Number.MAX_SAFE_INTEGER),n.style.width=window.innerWidth-34+"px";const s=document.createElement("div");s.innerHTML=e+" ",n.append(s);const i=document.createElement("span"),r=document.createElement("a"),o=document.createTextNode("Learn more");r.append(o),r.href="https://dyzz9obi78pm5.cloudfront.net/app/image/id/60ffc732498ccce8297b23c8/n/cw-chat-students-using-classwize-this.pdf",r.target="_blank",i.append(r),s.append(i);const a=document.getElementById("chatUiBody");null==a||a.append(n)}static removeDisabledNotification(){const e=document.getElementById("disabledNotification");e&&e.remove();const t=document.getElementById("chatInputControl");t&&(t.style.visibility="visible")}static refreshChatUi(e){this.isThreadedMode?(Object.keys(e).forEach((e=>{this.updateClassActiveStatus(e)})),this.sortChatThreadView()):!e[this.currentClassroomId].chatBlocked&&e[this.currentClassroomId].isActive?this.removeDisabledNotification():e[this.currentClassroomId].chatBlocked?this.createChatDisableNotification("Your teacher has disabled this."):e[this.currentClassroomId].isActive||this.createChatDisableNotification("Chat is disabled until your class is online again.")}static scrollChatToBottom(){const e=document.getElementById("chatMessageConversation");e&&(e.scrollTop=e.scrollHeight)}static createSendIndicator(e){const t=document.createElement("div");return t.id="sendIndicator"+e,t.className="ClassroomChatroom_sendStatus",t}static createSendProgress(){const e=document.createElement("div");e.className="sendStatusContainer";const t=document.createElement("img");t.src="assets/imgs/progress.svg",e.append(t);const n=document.createElement("span");return n.style.setProperty("padding-left","3px"),n.innerText="Sending...",e.append(n),e}static createSendFailure(e){const t=document.createElement("div");t.className="sendStatusContainer";const n=document.createElement("img");n.src="assets/imgs/error.svg",t.append(n);const s=document.createElement("span");s.style.setProperty("padding-left","5px"),s.innerText="Failed to send. ",t.append(s);const i=document.createElement("span");return i.innerHTML="Retry?",i.style.cursor="pointer",i.style.color="blue",i.addEventListener("click",(()=>{const t=document.getElementById("sendIndicator"+e);t&&(this.removeAllChildNodes(t),t.appendChild(this.createSendProgress()),this.sendMessageBody(this.messagesToSend[e]))})),t.append(i),t}static createDailyReminder(){const e=document.createElement("div");e.id="dailyReminder",e.style.textAlign="center",e.style.marginTop="16px",e.style.color="#51595D";const t=document.createTextNode("For your protection, this chat service is logged and monitored by your school district.");return e.append(t),e}static isDailyReminderDisplayed(){return document.getElementById("dailyReminder")}static updateTotalUnreadCount(){let e=0;Object.keys(this.classRooms).forEach((t=>{const n=this.unreadCount[t];n&&n>0&&(e+=n)})),Cr.sendRuntimeMessage({type:ws.UpdateTotalUnreadCount,unreadMessageCount:e})}static removeAllChildNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}static showLoginScreen(){return vr(this,void 0,void 0,(function*(){const e=yield Cr.sendRuntimeMessage({type:ws.ChatGetLastMessage});let t="Let your teacher know it's you",n="Sign in with your school-associated Google account to send a message";if(e){let s="Your teacher";if(e.sender&&e.sender.username)for(const t in this.classRooms){const n=this.classRooms[t];if(n.teacherInformation){const{id:t,first_name:i,last_name:r}=n.teacherInformation;if(t===e.sender.username&&i&&r){s=`${this.capitalizeString(i)} ${this.capitalizeString(r)}`;break}}}t=`${s} has sent you a message`,n="Sign in with your school-associated Google account to message them back!",Cr.sendRuntimeMessage({type:ws.ChatClearLastMessage})}this.clearChatController();const s=document.getElementById("chatUiBody"),i=document.createElement("div");i.style.height="100%",i.style.display="flex",i.style.flexDirection="column",i.style.padding="32px",i.style.justifyContent="center",i.style.alignItems="center";const r=document.createElement("p");r.innerHTML=t,r.style.marginBottom="8px",r.style.fontWeight="700",r.style.fontSize="16px",r.style.textAlign="center",i.appendChild(r);const o=document.createElement("p");o.innerHTML=n,o.style.marginBottom="32px",o.style.fontSize="16px",o.style.textAlign="center",i.appendChild(o);const a=document.createElement("button");a.style.border="1px solid #0075DB",a.style.background="none",a.style.padding="16px 12px",a.style.borderRadius="6px",a.style.display="flex",a.style.alignItems="center",a.style.cursor="pointer",a.onclick=()=>{this.retryCount<3&&(Cr.sendRuntimeMessage({type:ws.GoogleAuthenticate}),this.retryCount++)};const u=document.createElement("img");u.id="googleIcon",u.src="assets/imgs/googleIcon.svg",a.append(u);const c=document.createElement("p");c.innerHTML="Sign in with Google",c.style.color="#000000",c.style.fontSize="16px",c.style.margin="0 0 0 8px",a.append(c),i.appendChild(a),s.appendChild(i)}))}static clearChatController(){const e=document.getElementById("chatWindowHeader");this.removeAllChildNodes(e),e.style.borderBottom="none";const t=document.getElementById("chatUiBody");this.removeAllChildNodes(t),t.style.borderTop="none";const n=document.getElementById("chatInputControl");this.removeAllChildNodes(n),this.removeDisabledNotification()}static headingClicked(){this.isThreadedMode||(this.currentClassroomId="",this.displayedMessages.clear(),this.buildThreadUi())}static scrollLoadMore(e){0===e.target.scrollTop&&(this.userIsScrolling=!0,this.fetchChats())}static findColorIndex(){return Object.keys(this.classRooms).indexOf(this.currentClassroomId)}static buildChatUiHeading(){this.clearChatController(),this.isThreadedMode=!1;const e=document.getElementById("chatWindowHeader");e.style.setProperty("borderBottom","1px solid #C3C3C3");const t=document.createElement("i");t.id="arrowLeft",t.className="ClassroomChat_arrowLeft",e.append(t);const n=this.classRooms[this.currentClassroomId].name||this.currentClassroomId,s=document.createElement("div");s.id="classEllipse",s.className="ClassroomChat_classEllipse",s.style.backgroundColor=this.bgColors[this.findColorIndex()%this.bgColors.length],s.innerHTML=n?n[0].toUpperCase():"T",e.append(s);const i=document.createElement("div");i.id="classNameHeading",i.className="ClassroomChatroom_nameHeading",i.innerText=n;const r=this.classRooms[this.currentClassroomId].isActive,o=document.createElement("div");o.id="classTeacherName",o.className="ClassroomChatroom_teacherHeading",o.innerText=r?this.classOnline:this.classOffline,i.append(o),e.append(i)}static buildChatUi(e){if(!this.chatUiSkeletonRendered){this.buildChatUiHeading();const e=document.getElementById("chatUiBody");e.style.borderTop="1px solid #E2E2E2";const t=document.createElement("div");t.id="chatMessageConversation",t.addEventListener("scroll",this.scrollLoadMore),e.appendChild(t);const n=document.createElement("div");n.id="loadingProgress",n.className="ClassroomChatroom_information";const s=document.createElement("img");s.src="assets/imgs/loading.svg",n.append(s);const i=document.createElement("div");i.style.marginTop="16px",i.innerHTML="Loading messages",n.append(i),t.append(n);const r=document.getElementById("chatInputControl"),o=document.createElement("div");o.className="ClassroomChatroom_textAreaContainer";const a=document.createElement("textarea");a.className="ClassroomChatroom_textArea",a.id="chatInput",a.autocomplete="off",a.rows=1,a.maxLength=this.maxMessageLength,a.placeholder="Type a message",a.disabled=!0,o.append(a);const u=document.createElement("input");u.type="image",u.id="sendIcon",u.src="assets/imgs/sendDisabled.svg",u.style.cursor="pointer",u.style.paddingRight="8px",u.disabled=!0,r.append(o),r.append(u);const c=()=>{u.disabled=0===a.value.length||a.value.length>=this.maxMessageLength,u.src=u.disabled?"assets/imgs/sendDisabled.svg":"assets/imgs/sendEnabled.svg"},l=()=>{a.style.height="auto",a.style.height=a.scrollHeight+"px"},d=()=>{window.setTimeout(l,0)};let h;return u.addEventListener("click",(()=>this.sendMessage())),a.addEventListener("keydown",(e=>{"Enter"===e.key&&a.textLength<this.maxMessageLength&&(e.preventDefault(),this.sendMessage(),c()),d()})),a.addEventListener("input",(()=>{c(),l()})),this.chatUiSkeletonRendered=!0,this.refreshChatUi(this.classRooms),h=window.attachEvent?(e,t,n)=>{e.attachEvent("on"+t,n)}:(e,t,n)=>{e.addEventListener(t,n,!1)},h(a,"cut",d),h(a,"paste",d),void h(a,"drop",d)}const t=document.getElementById("loadingProgress");if(t){t.remove();const e=document.getElementById("chatInput");e&&(e.disabled=!1)}if(!this.threadChatMessages||0===this.threadChatMessages.length){if(document.getElementById("noMessage"))return;const e=document.createElement("div");e.id="noMessage",e.className="ClassroomChatroom_information";const t=document.createElement("img");t.src="assets/imgs/noMessage.svg",e.append(t);const n=document.createElement("div");n.style.fontWeight="bold",n.style.margin="16px",n.innerHTML="No messages yet",e.append(n);const s=document.createElement("div");s.innerHTML="For your protection, this chat service is logged and monitored by your school district.",s.style.marginTop="16px",e.append(s);const i=document.getElementById("chatMessageConversation");return void(i&&i.append(e))}{const e=document.getElementById("noMessage");e&&e.remove()}const n=e?this.threadChatMessages.reverse():this.threadChatMessages.slice(this.loadedMessageCount),s=document.getElementById("chatMessageConversation");for(const t of n){if(this.displayedMessages.has(t.id))continue;const n=this.userName===t.sender.username?null:t.sender.displayName||t.sender.username,i=null===n?-1:this.classRooms[this.currentClassroomId].teachers.indexOf(t.sender.username),r=new Date(t.timestamp),[o]=this.chatMessageElement(t.message,r,t.id,n,i);if(!this.lastRenderedLoadedNode||e){if(e){let e=null;this.newestMessage&&this.newestMessage.sender.username===t.sender.username&&(e=new Date(this.newestMessage.timestamp),r.getTime()-e.getTime()<=this.groupingTimeLimit&&(this.removeTimeStamp(o),n&&(this.hideAvatar(this.lastRenderedIncomingNode),this.removeDisplayName(o))),r.getDay()!==e.getDay()&&(this.isDailyReminderDisplayed()||s.append(this.createDailyReminder()))),this.newestMessage=t,this.lastRenderedIncomingNode=o,this.newestMessageTimestamp=e}else this.lastRenderedLoadedNode=o,this.oldestMessage=t,this.newestMessage=t,this.newestMessageTimestamp=new Date(t.timestamp),n&&(this.lastRenderedIncomingNode=o);s.append(o)}else{const e=new Date(this.oldestMessage.timestamp);if(this.oldestMessage&&this.oldestMessage.sender.username===t.sender.username&&e.getTime()-r.getTime()<=this.groupingTimeLimit&&(this.removeTimeStamp(this.lastRenderedLoadedNode),this.removeDisplayName(this.lastRenderedLoadedNode),n&&this.hideAvatar(o)),r.getDay()!==e.getDay()&&!this.isDailyReminderDisplayed()){const e=this.createDailyReminder();s.insertBefore(e,this.lastRenderedLoadedNode),this.lastRenderedLoadedNode=e}s.insertBefore(o,this.lastRenderedLoadedNode),this.lastRenderedLoadedNode=o,this.oldestMessage=t}e||(this.lastRenderedLoadedNode=o),this.displayedMessages.add(t.id),this.loadedMessageCount++}this.chatInitialized?e&&!this.userIsScrolling&&this.scrollChatToBottom():(this.scrollChatToBottom(),this.chatInitialized=!0)}static sendMessageBody(e){e&&this.processSendMessageBodyRequest(e)}static sendMessage(){if(!this.classRooms[this.currentClassroomId].isActive)return void alert("Class is offline!");if(this.classRooms[this.currentClassroomId].chatBlocked)return void alert("Chat is disabled for this class");const e=document.getElementById("chatInput").value;if(!e||!e.trim())return;const t=document.getElementById("chatMessageConversation"),n=new Date,s=_r();this.newestMessageTimestamp&&n.getDay()===this.newestMessageTimestamp.getDay()||this.isDailyReminderDisplayed()||t.append(this.createDailyReminder());const[i,r]=this.chatMessageElement(e,n,s);this.newestMessageTimestamp&&n.getTime()-this.newestMessageTimestamp.getTime()<=this.groupingTimeLimit&&this.newestMessage.sender.username===this.userName?(this.removeTimeStamp(i),this.removeDisplayName(i)):this.newestMessageTimestamp=n,t.append(i),this.loadedMessageCount++,document.getElementById("chatInput").value="";const o=this.classRooms[this.currentClassroomId].teachers.slice();o.push(this.userName);const a={id:s,applianceId:this.applianceId,message:e,classroomId:this.currentClassroomId,sender:{displayName:this.userName,username:this.userName},participants:o,threadKey:this.threadKey};this.newestMessage=a,this.newestMessage.timestamp=n.toISOString();const u=this.createSendIndicator(a.id);u.appendChild(this.createSendProgress()),t&&(t.append(u),t.scrollTop=t.scrollHeight),r.id="sending"+a.id,r.style.backgroundColor=this.sendingBgColor,r.style.color="black",this.messagesToSend[a.id]=a,this.displayedMessages.add(a.id);const c=document.getElementById("noMessage");c&&c.remove(),this.sendMessageBody(a)}static fetchChats(e=!1){const[t,n]=((e,t,n)=>{const s=t[e].threadKey;if(void 0===s)return((e,t,n)=>{const s=t[e].name||e,i=t[e].teachers,r=i&&i.length?i.sort().join(","):"",o=Er(`${r},${n},${e}`);return r&&n&&e&&o?[o,null]:["",new Error(`Chat initialisation failed due to missing thread key for a class ${s}`)]})(e,t,n);if(null===s){const n=t[e].name||e;return["",new Error(`Chat initialisation failed due to missing thread key for a class ${n}`)]}return[s,null]})(this.currentClassroomId,this.classRooms,this.userName);if(n)return void((e,...t)=>{((e,t,...n)=>{Cr.sendRuntimeMessage({type:ws.ChatLogMessage,logLevel:e,message:t,optionalParams:n})})(Fs.Error,e,t)})(n.message);this.threadKey=t;let s="";this.loadedMessageCount>=this.chatLoadMsgCount&&!e&&(s=this.threadChatMessages[this.loadedMessageCount-1].timestamp);const i=`&maxResults=${this.chatLoadMsgCount}`,r=s?`&startAfter=${s}`:"",o=this.baseUrl+`/message?classroomid=${Er(this.currentClassroomId)}&threadKey=${this.threadKey}&username=${this.userName}&applianceId=${this.applianceId}`+i+"&sortDirection=DESC"+r;this.processFetchChatsRequest(o,e),this.chatUiSkeletonRendered||this.buildChatUi(e)}static updateClassActiveStatus(e){const t=document.getElementById("activeStatus"+e);if(t){const n=this.classRooms[e].isActive,s=n?this.classOnline:this.classOffline;t.innerHTML=s,t.style.color=n?"#009900":"#666666",t.style.fontWeight=n?"bold":"normal"}}static loadChatForClass(e){this.currentClassroomId=e,this.threadChatMessages=[],this.loadedMessageCount=0,this.lastRenderedLoadedNode=null,this.lastRenderedIncomingNode=null,this.chatInitialized=!1,this.chatUiSkeletonRendered=!1,this.displayedMessages.clear(),this.newestMessageTimestamp=null,this.newestMessage=null,this.oldestMessage=null,this.fetchChats()}static chatThreadElement(e){const t=document.createElement("div"),n=document.createElement("button");n.className="ClassroomChatroom_rowContainer";const s=document.createElement("div");s.className="Classroom_rowWrapper";const i=document.createElement("div");i.style.textAlign="left";const r=document.createElement("div");r.innerHTML=this.classRooms[e].name||e,r.className="ClassroomChatroom_name",i.append(r);const o=this.classRooms[e].isActive,a=o?this.classOnline:this.classOffline,u=document.createElement("div");return u.id="activeStatus"+e,u.className="ClassroomChatroom_classStatus",u.innerHTML=a,u.style.color=o?"#009900":"#666666",u.style.fontWeight=o?"bold":"normal",i.append(u),s.append(i),document.createElement("i").className="ClassroomChat_arrowRight",n.append(s),n.addEventListener("click",(()=>{this.loadChatForClass(e)})),t.append(n),t}static chatMessageElement(e,t,n,s,i=0){if(!e)return[];const r=document.createElement("div");r.style.paddingTop="4px",r.style.paddingBottom="4px",r.style.paddingLeft="8px";const o=document.createElement("div");if(o.style.display="flex",o.style.alignItems="center",s||(o.style.flexDirection="row-reverse",o.style.marginRight="10px"),s){const e=document.createElement("div");e.className="ClassroomChat_avatar";const t=this.findColorIndex()+i+1;e.style.backgroundColor=this.bgColors[t%this.bgColors.length],e.innerHTML=s.toUpperCase()[0],e.id="avatar"+n,o.appendChild(e)}const a=document.createElement("div"),u=document.createElement("div");if(u.className="ClassroomChat_displayName",s){a.style.backgroundColor="#E7E7E7",a.style.color="black",a.style.marginLeft="8px";const e=document.createElement("span");e.innerHTML=s,e.style.fontWeight="bold",e.style.marginLeft="30px",u.appendChild(e)}else a.style.backgroundColor="#1987d6",a.style.color="white",u.style.textAlign="right",u.style.marginRight="10px";const c=this.createDateTimeElement(t);c.id="dateTime"+n,r.append(c),r.appendChild(u),a.style.borderRadius="1rem",a.style.display="inline-block",a.style.padding="12px 16px",a.style.maxWidth="71%";const l=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\"/g,"&quot;").replace(/\\'/g,"&#39;");return a.innerHTML=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(t=e,new or(new Zi(Yi),void 0).tokenize(t)),i=[],r=[];n=new ar(n);for(var o=0;o<s.length;o++){var a=s[o];if(a.type!==ur)if(a.type===lr){var u=dr(a.chars,n);i.push.apply(i,u)}else i.push(a);else{i.push(a);var c=a.tagName.toUpperCase();if(!("A"===c||n.ignoreTags.indexOf(c)>=0))continue;var l=i.length;hr(c,s,++o,i),o+=i.length-l-1}}for(var d=0;d<i.length;d++){var h=i[d];switch(h.type){case ur:var p="<"+h.tagName;h.attributes.length>0&&(p+=" "+pr(h.attributes).join(" ")),p+=">",r.push(p);break;case cr:r.push("</".concat(h.tagName,">"));break;case lr:r.push(h.chars);break;case"Comment":r.push("\x3c!--".concat(h.chars,"--\x3e"));break;case"Doctype":var m="<!DOCTYPE ".concat(h.name);h.publicIdentifier&&(m+=' PUBLIC "'.concat(h.publicIdentifier,'"')),h.systemIdentifier&&(m+=' "'.concat(h.systemIdentifier,'"')),m+=">",r.push(m)}}return r.join("")}(l,{attributes:{style:`color:${s?"#0075DB":"white"};`}}),a.style.wordWrap="break-word",a.title=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}).toLowerCase(),o.appendChild(a),r.appendChild(o),[r,a]}static sortChatThreadView(){const e=document.getElementById("chatThreads");if(!e)return;let t,n,s=!0;for(;s;){s=!1;const i=e.rows;for(n=0;n<i.length-1;n++){t=!1;const e=i[n].getElementsByClassName("ClassroomChatroom_classStatus")[0],s=i[n+1].getElementsByClassName("ClassroomChatroom_classStatus")[0],r=-1!==e.textContent.indexOf(this.classOnline),o=-1!==s.textContent.indexOf(this.classOnline);if(!r&&o){t=!0;break}if(r===o){const e=i[n].getElementsByClassName("ClassroomChatroom_name")[0],s=i[n+1].getElementsByClassName("ClassroomChatroom_name")[0];if(e.textContent>s.textContent){t=!0;break}}}t&&(i[n].parentNode.insertBefore(i[n+1],i[n]),s=!0)}}static capitalizeString(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}static processSendMessageBodyRequest(e){return vr(this,void 0,void 0,(function*(){const t=yield fetch(`${this.baseUrl}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(200===t.status){const e=yield t.json(),n=document.getElementById("sendIndicator"+e.id);n&&n.remove(),delete this.messagesToSend[e.id];const s=document.getElementById("sending"+e.id);s.style.backgroundColor=this.sentBgColor,s.style.color="white",this.retryCount=0}else{const n=document.getElementById("sendIndicator"+e.id);n&&(this.removeAllChildNodes(n),n.appendChild(this.createSendFailure(e.id)),401!==t.status&&403!==t.status||this.showLoginScreen())}}))}static processFetchChatsRequest(e,t){return vr(this,void 0,void 0,(function*(){const n=yield fetch(e);let s=!1;if(this.userIsScrolling=!1,200===n.status){const e=yield n.json();if(e&&e.length){if(this.threadChatMessages.length<this.chatLoadMsgCount)this.threadChatMessages=e,s=!0;else{const t=[];e.forEach((e=>{this.threadChatMessages.find((t=>t.id===e.id))||t.push(e)})),0===t.length&&(s=!0),t.forEach((e=>this.threadChatMessages.push(e)))}const t=this.unreadCount[this.currentClassroomId];e.length>=t?this.unreadCount[this.currentClassroomId]=0:this.unreadCount[this.currentClassroomId]=t-e.length,this.updateTotalUnreadCount()}else s=!0;this.buildChatUi(t);const i=this.threadChatMessages.filter((e=>!e.isRead));if(i.length){const e=i.sort(((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()))[0];this.retryCount=0;const t=this.baseUrl+"/thread/markasread",n={threadKey:this.threadKey,username:this.userName,applianceId:this.applianceId,firstUnreadMessageTime:e.timestamp};fetch(t,{method:"POST",body:JSON.stringify(n)})}}else 401!==n.status&&403!==n.status||this.showLoginScreen()}))}}Cr.isThreadedMode=!0,Cr.chatInitialized=!1,Cr.chatUiSkeletonRendered=!1,Cr.loadedMessageCount=0,Cr.retryCount=0,Cr.unreadCount={},Cr.userIsScrolling=!1,Cr.messagesToSend={},Cr.chatLoadMsgCount=15,Cr.displayedMessages=new Set,Cr.maxMessageLength=1e3,Cr.bgColors=["#973AA8","#FF9900","#29D9C2","#16C7FF","#FF949B"],Cr.classOnline="Class is online",Cr.classOffline="Class is offline",Cr.sentBgColor="#1987d6",Cr.sendingBgColor="#0071EB19",Cr.groupingTimeLimit=9e5,Cr.init()})();